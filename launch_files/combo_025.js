var wrappedFn = function () {
if(NeoConfig.fix_date&&(navigator.userAgent.indexOf("Chrome")>0)){var oldDate=Date,statted={},version=navigator.userAgent,goodMethods=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","toDateString","toGMTString","toISOString","toJSON","toLocaleDateString","toLocaleString","toLocaleTimeString","toString","toTimeString","toUTCString","valueOf"],badMethods=["setDate","setFullYear","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"];try{version=version.substr(version.indexOf("Chrome"));version=version.split(" ")[0];version=version.split("/")[1];}catch(e){version="unknown";}Date=function(){if(!this instanceof Date){return oldDate();}var E,H,D,G=this,C=100,B=arguments;switch(B.length){case 0:E=new oldDate();break;case 1:E=new oldDate(B[0]);break;case 2:B[2]=1;default:E=new oldDate(B[0],B[1],B[2],B[3]||0,B[4]||0,B[5]||0,B[6]||0);break;}D=0;while(H=goodMethods[D++]){G[H]=F(H);}D=0;while(H=badMethods[D++]){G[H]=A(H);}G.setHours=function(P,M,S,J){try{return E.setHours.apply(E,arguments);}catch(O){stat("setHours");M=M||0;S=S||0;J=J||0;var T=E.getHours(),K=E.getMinutes(),N=E.getSeconds(),I=E.getMilliseconds(),L=((T*60+K)*60+N)*1000+I,R=((P*60+M)*60+S)*1000+J,Q=R-L;E=new Date(E.getTime()+Q);return E.getTime();}};function F(I){return function(){return E[I].apply(E,arguments);};}function A(K){var J=E[K],I=100;return function(){try{return J.apply(E,arguments);}catch(L){if(!I){stat("too_many_"+K);throw L;}I--;stat(K);E=new oldDate(E.getTime());return G[K].apply(G,arguments);}};}};Date.parse=function(A){return oldDate.parse(A);};Date.now=function(){return oldDate.now();};Date.UTC=function(){return oldDate.UTC.apply(oldDate,arguments);};function stat(B){if(!statted[B]){statted[B]=1;var A=new XMLHttpRequest();A.open("POST","stat");A.send('{"page":"date_exception","key":"'+B+"_"+version+'"}');}}}

(function(){var A=YUI.use;YUI.use=YUI.prototype.use=function(){var E,D,H=this,F=0,I=H.Env,G=I._used,C=I._attached,K=I._loader,J=Array.prototype.slice.call(arguments,0),L=J.pop();B&&B(H);if(typeof L!="function"){J.push(L);L=0;}while(D=J[F++]){if(!G[D]||!C[D]){return A.apply(this,arguments);}}if(L){L.call(H,H,{success:true});}};function B(C){try{var D,K,H,M,F=0,J=C.Get.script,L=window.location.search.substring(1).split("&"),G={"all":1,"404":2,"fastfailure":3,"failure":4,"timeout":5,"fasttimeout":6};B=0;for(;F<L.length;F++){D=L[F].split("=");if(D[0]=="modfailure"&&D.length==2){H=K=G[D[1].toLowerCase()];}}if(K){C.Get.script=function(N,O){return E.call(this,J,N,O);};}}catch(I){}function E(P,N,Q){if(typeof N=="string"){N=[N];}for(O=0;O<N.length;O++){if(N[O].search(/combo(.php)?\?/)>0){M=1;}}if(M){if(K==1){if(++H>6){H=2;}}switch(H){case 2:for(var O=0;O<N.length;O++){N[O]=N[O].replace(/combo(.php)?\?/,"nocombo?");}break;case 3:Q.timeOut=20;case 4:setTimeout(function(){Q.onFailure.call(Q.context,{win:window,data:Q});},Q.timeout/2);return;case 5:setTimeout(function(){Q.onTimeout.call(Q.context,{win:window,data:Q});},Q.timeOut);return;case 6:Q.timeout=10;break;}}return P.call(this,N,Q);}}})();

YUI.add("comms-log4js",function(F){var C=F.namespace("comms"),D={},E={ajax:B};C.log4js={getLogger:function(I,J,H,K){I=I||"[default]";J=J||1000;var G=D[I];if(!G){G=D[I]=A(I,J);}H&&G.useAppender(H,K);return G;},register:function(H,G){E[H]=G;}};function A(J,K){var I=[],L=0,H=0,G={};return{useAppender:function(P,O){var M,Q,N=G[P];if(!N){if(N=E[P]){O=N(this,O,J);}N=G[P]=O;N.refresh&&N.refresh();}return N;},log:function(P){var M,N=0,O=I[H++]={msg:P,id:++L};if(!this.noDate){O.ts=new Date;}if(H>=K){H=0;}for(M in G){G[M].notify(O);}},getEntries:function(){I=I.concat(I.splice(0,H));H=I.length;if(H>=K){H=0;}return I;}};}function B(K,J){J=J||{};var I=J.url||"logger",G=J.include,H=J.exclude,L=J.maxCount||5;G=G&&G.split(",")||[];H=H&&H.split(",")||[];return{notify:function(S){var R,N,U,O=G.length,T=S.msg,Q=0;N=P(G);U=P(H);if(L&&(N||(!O&&!U))){M(S);}function P(V){for(;Q<V.length;Q++){R=V[Q];if(R=="*"||(T.indexOf(R)!=-1)){return 1;}}}}};function M(N){var P=N.msg,O=new XMLHttpRequest();if(!--L){P="[MAX_ERROR_LOG_COUNT_REACHED] "+P;}O.open("POST",I);O.send(P);}}},"1.0");

YUI.add("launch-utils",function(F){var E=F.log,B=F.comms.log4js.getLogger,A=B("ylogLogger",1000),C=F.namespace("common.Utils");F.log=YUI.prototype.log=function(G){A.log(G);E.apply(this,arguments);};C.traceMsg=function D(H,G){C.startConsole(G);A.log(H);};C.startConsole=function(G){G&&F.use("comms-log4js-appenders-console",function(){A.useAppender("console").show();});};C.netError=function(G){if(NeoConfig.log_error_yapache==1){B("netLogger",1,"ajax").log(G);}};},"1.0",{requires:["comms-log4js"]});

YUI.add("search-mods",function(A){A.mix(A.namespace("comps"),{"mail-ui-advancedSearchController":{"path":"mail/ui/msearch/advancedSearch/advancedSearchController_5259.js","requires":["common-utils","mail-ui-advancedSearchView","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-advancedSearchView":{"path":"mail/ui/msearch/advancedSearch/advancedSearchView_5259.js","requires":["common-utils","_shared_module_search_empty_rollup","attribute-base","event-base"]},"mail-ui-bulk-progress":{"path":"mail/ui/msearch/utils/bulkProgress_5259.js","requires":["attachments_css","common-ui-dialog-helper","_shared_module_offscreen_bin_progress_bar","mail-ui-basewidget"]},"mail-ui-cache-mgr":{"path":"mail/ui/search/cachemgr_5259.js","requires":["mail-model-datastore"]},"mail-ui-dmsearch-controller":{"path":"mail/ui/dmsearch/dmsearchController_5259.js","requires":["event-base","mail-ui-dmsearch-view","mail-ui-dmsearch-model"]},"mail-ui-dmsearch-model":{"path":"mail/ui/dmsearch/dmsearchModel_5259.js","requires":["common-net-sessionmgr"]},"mail-ui-dmsearch-view":{"path":"mail/ui/dmsearch/dmsearchView_5259.js","requires":["node-base","node-event-delegate","attribute-base","event-base","minty_module_list_view_ad_search"]},"mail-ui-empty-search":{"path":"mail/ui/search/emptysearch_5259.js","requires":["common-utils","_shared_module_search_empty_rollup","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-itemlist-base":{"path":"mail/ui/search/itemlist_5259.js","requires":["datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils","_shared_module_search_rollup"]},"mail-ui-list-mgr":{"path":"mail/ui/msearch/model/listmgr_5259.js"},"mail-ui-mailSearchController":{"path":"mail/ui/msearch/mailSearchController_5259.js","requires":["json","mail-ui-basewidget","mail-ui-searchutils","mail-ui-search-model","mail-ui-list-mgr"]},"mail-ui-messageaction":{"path":"mail/ui/msearch/model/messageactions_5259.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","mail-model-datastore"]},"mail-ui-search-base":{"path":"mail/ui/search/search_5259.js","requires":["mail-ui-cache-mgr","mail-ui-basewidget","mail-ui-searchutils","common-ui-toolbar-base"]},"mail-ui-search-model":{"path":"mail/ui/msearch/model/msws_5259.js","requires":["mail-ui-searchutils","json","rocket-stats","mail-ui-common-string-utils"]},"mail-ui-search-refinements":{"path":"mail/ui/search/refinements_5259.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","_shared_module_search_not_narrowed","mail-ui-common-string-utils"]},"mail-ui-searchGroupsController":{"path":"mail/ui/msearch/searchGroups/searchGroupsController_5259.js","requires":["common-utils","mail-ui-searchGroupsView"]},"mail-ui-searchGroupsView":{"path":"mail/ui/msearch/searchGroups/searchGroupsView_5259.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","mail-ui-common-string-utils"]},"mail-ui-searchListController":{"path":"mail/ui/msearch/searchList/searchListController_5259.js","requires":["common-utils","mail-ui-searchListView"]},"mail-ui-searchListView":{"path":"mail/ui/msearch/searchList/searchListView_5259.js","requires":["stylesheet","search_css","datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils"]},"mail-ui-searchbar":{"path":"mail/ui/msearch/searchbar_5259.js","requires":["common-utils","node-pluginhost","comms-bidi-textentry"]},"mail-ui-searchdesc":{"path":"mail/ui/msearch/searchdesc_5259.js"},"mail-ui-searchutils":{"path":"mail/ui/msearch/utils/searchUtils_5259.js","requires":["common-ui-dialog-helper"]},"mail-ui-toolbarController":{"path":"mail/ui/msearch/toolbar/toolbarController_5259.js","requires":["common-utils","minty_module_toolbar_inbox_search_rollup","minty_module_toolbar_inbox_search_thread_rollup","contacts-api","contacts-api-utils"]}});});

YUI.add("mail-modules",function(A){A.use("search-mods",function(C){C.mix(C.namespace("comps"),{"ac-widget":{"path":"contacts/autocomplete/acWidget_5259.js","requires":["overlay","node-event-simulate","comms-ui-autocomplete-plugin","comms-ui-autocomplete","contacts-api-utils","contacts-api","filter-contacts","common-utils","comms-intl-bidihighlight","contacts-smartcontacts-api"]},"calendar-ui-addEvent-controller":{"path":"calendar/ui/addEvent/addEventController_5259.js","requires":["event-base","yui-log","attribute","calendar-ui-addEvent-utils","calendar-ui-addEvent-view","calendar-ui-addEvent-model"]},"calendar-ui-addEvent-listener":{"path":"calendar/ui/addEvent/addEventListener_5259.js","requires":["yui-log","event-base","calendar-ui-addEvent-controller"]},"calendar-ui-addEvent-model":{"path":"calendar/ui/addEvent/addEventModel_5259.js","requires":["yui-log","attribute","calendar-ui-addEvent-utils"]},"calendar-ui-addEvent-utils":{"path":"calendar/ui/addEvent/addEventUtils_5259.js","requires":["event-base","io"]},"calendar-ui-addEvent-view":{"path":"calendar/ui/addEvent/addEventView_5259.js","requires":["common-utils","_shared_module_calendar_dialog_add_event_mail_rollup"]},"calendar-ui-calendarview":{"path":"calendar/ui/calendarview_5259.js","requires":["mail-ui-basewidget","node-event-simulate","comms-crossframe"]},"common-net-crossframe":{"path":"common/net/crossframe_5259.js","requires":["common-utils"]},"common-net-diag":{"path":"common/net/diag_5259.js","requires":["common-net-session","rocket-stats","common-utils"]},"common-net-error":{"path":"common/net/error_5259.js","requires":["common-net-error-base","common-net-errorevent","common-net-sessionmgr","common-ui-dialog-helper","json-stringify","rocket-stats","common-persist-user-data"]},"common-net-error-base":{"path":"common/net/error-base_5259.js","requires":["common-utils","common-user-session"]},"common-net-errorevent":{"path":"common/net/errorevent_5259.js"},"common-net-securecascade":{"path":"common/net/securecascade_5259.js","requires":["common-net-crossframe","json","common-net-session"]},"common-net-session":{"path":"common/net/session_5259.js","requires":["event-custom","common-utils"]},"common-net-sessionflash":{"path":"common/net/sessionflash_5259.js","requires":["json","event-custom","common-utils","io-xdr"]},"common-net-sessionmgr":{"path":"common/net/sessionmgr_5259.js","requires":["event-custom-base","common-net-session","common-net-error-base","rocket-stats","json-parse"]},"common-net-sessionxdr":{"path":"common/net/sessionxdr_5259.js","requires":["json","common-net-crossframe","event-custom","common-utils"]},"common-persist-cookie-data":{"path":"common/persist/cookieData_5259.js","requires":["cookie","attribute","common-persist-neo-data"]},"common-persist-neo-data":{"path":"common/persist/neoData_5259.js","requires":["attribute"]},"common-persist-user-data":{"path":"common/persist/userData_5259.js","requires":["attribute","mail-net-transport","json","common-utils"]},"common-ui-bidi-textentry":{"path":"common/ui/bidi/bidi-textentry_5259.js","requires":["plugin","event-valuechange","common-ui-intl-bidi","common-ui-node-setdir"]},"common-ui-contentwidget":{"path":"common/ui/contentwidget/contentwidget_5259.js","requires":["event-key"]},"common-ui-dd":{"path":"common/ui/dd/dd_5259.js","requires":["node","common-utils"]},"common-ui-diagpanel":{"path":"common/ui/contentwidget/diagpanel_5259.js","requires":["common-utils"]},"common-ui-dialog-helper":{"path":"common/ui/dialoghelper/dialoghelper_5259.js","requires":["common-utils","modal_css","comms-ui-dialog-base","_shared_module_offscreen_bin_modal","_shared_module_offscreen_bin_modal_btn_ok"]},"common-ui-editor-autobidi":{"path":"common/ui/bidi/editor-autobidi_5259.js","requires":["editor-base","selection","common-ui-intl-bidi"]},"common-ui-intl-bidi":{"path":"common/ui/bidi/intl-bidi_5259.js"},"common-ui-listview":{"path":"common/ui/listview/listview_5259.js","requires":["base-base","node","event-focus"]},"common-ui-listview-ext":{"path":"common/ui/listview/listview-ext_5259.js","requires":["common-ui-listview"]},"common-ui-lozengeDD":{"path":"common/ui/lozenge/lozenge-DD_5259.js","requires":["common-ui-dd","common-utils"]},"common-ui-menu-helper":{"path":"common/ui/menuhelper/menuhelper_5259.js","requires":["_shared_module_offscreen_bin_menus_loading"]},"common-ui-node-setdir":{"path":"common/ui/bidi/node-setdir_5259.js","requires":["classnamemanager","node-base","node-style"]},"common-ui-notification":{"path":"common/ui/notifications/notification_5259.js","requires":["common-utils","mail-ui-common-string-utils"]},"common-ui-tabs-base":{"path":"common/ui/tabview/tabview_5259.js","requires":["mail-ui-basewidget","minty_module_tabs_tab_removable","comms-ui-nodefocus-base","common-utils"]},"common-ui-tabs-overflow":{"path":"common/ui/tabview/taboverflow_5259.js","requires":["common-ui-menu-helper","_shared_module_offscreen_bin_inbox"]},"common-ui-toolbar-base":{"path":"common/ui/toolbar/toolbar_5259.js","requires":["attribute","event-custom-base","common-utils","comms-ui-nodefocus-base"]},"common-ui-virtuallist-base":{"path":"common/ui/virtuallist/virtuallist_5259.js","requires":["common-utils"]},"common-user-session":{"path":"common/user/session_5259.js","requires":["common-persist-cookie-data","common-utils"]},"common-utils":{"path":"common/utils/utils_5259.js","requires":["querystring-parse-simple"]},"common-utils-apihook":{"path":"common/utils/apihook_5259.js","requires":["common-utils","rocket-stats"]},"common-utils-error":{"path":"common/utils/error_5259.js","requires":["comms-log4js","comms-utils-stack-tracer","info-collector"]},"common-utils-jp":{"path":"common/utils/utils-jp_5259.js"},"common-utils-stats":{"path":"common/utils/stats_5259.js","requires":["rocket-stats"]},"comms-aop-tracer":{"path":"comms/shared/src/aop/aspects/tracer_5259.js","requires":["comms-log4js","comms-log4js-appenders-traceconsole"]},"comms-aop-weaver":{"path":"comms/shared/src/aop/weaver_5259.js"},"comms-bidi-textentry":{"path":"comms/shared/src/bidi-textentry/js/bidi-textentry_5259.js","requires":["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]},"comms-crossframe":{"path":"comms/shared/src/crossframe/crossframe_5259.js","requires":["json","crossframe"]},"comms-editor-autobidi":{"path":"comms/shared/src/editor-autobidi/js/editor-autobidi_5259.js","requires":["editor-base","selection","comms-intl-bidi"]},"comms-intl-bidi":{"path":"comms/shared/src/intl-bidi/js/intl-bidi_5259.js"},"comms-intl-bidihighlight":{"path":"comms/shared/src/intl-bidihighlight/js/intl-bidihighlight_5259.js"},"comms-log4js":{"path":"comms/shared/src/log4js/log4js_5259.js"},"comms-log4js-appenders-console":{"path":"comms/shared/src/log4js/console_5259.js","requires":["comms-log4js"]},"comms-log4js-appenders-traceconsole":{"path":"comms/shared/src/log4js/traceconsole_5259.js","requires":["comms-log4js"]},"comms-lozenge":{"path":"comms/shared/src/lozenge/js/lozenge_5259.js","requires":["node","widget","substitute","comms-utils"]},"comms-lozenge-address":{"path":"comms/shared/src/lozenge-address/js/lozenge-address_5259.js","requires":["base-build","comms-lozenge"]},"comms-lozenge-edit":{"path":"comms/shared/src/lozenge-edit/js/lozenge-edit_5259.js","requires":["base-build","comms-lozenge"]},"comms-node-setdir":{"path":"comms/shared/src/node-setdir/js/node-setdir_5259.js","requires":["classnamemanager","node-base","node-style"]},"comms-ui-autocomplete":{"path":"comms/shared/src/autocomplete/js/autocomplete-widget_5259.js","requires":["overlay","comms-ui-autocomplete-plugin","node-event-simulate"]},"comms-ui-autocomplete-plugin":{"path":"comms/shared/src/autocomplete/js/autocomplete-plugin_5259.js","requires":["node","plugin","event-valuechange","event-key"]},"comms-ui-clipboard-plugin":{"path":"comms/shared/src/clipboard/js/clipboard-plugin_5259.js","requires":["node","plugin","substitute"]},"comms-ui-dialog-base":{"path":"comms/shared/src/ui/dialog/js/dialog_5259.js","requires":["overlay"]},"comms-ui-editable-overlay-plugin":{"path":"comms/shared/src/editable/js/editable-overlay-plugin_5259.js","requires":["comms-ui-editable-plugin","comms-utils"]},"comms-ui-editable-plugin":{"path":"comms/shared/src/editable/js/editable-plugin_5259.js","requires":["node","plugin"]},"comms-ui-lozenge":{"path":"comms/shared/src/lozengeOld/js/hLozenge_5259.js","requires":["comms-ui-lozenge_css","common-utils","comms-utils","node"]},"comms-ui-menu-base":{"path":"comms/shared/src/ui/menu/js/menu_5259.js"},"comms-ui-model":{"path":"comms/shared/src/ui/model/js/model_5259.js","requires":["json"]},"comms-ui-nodefocus":{"path":"comms/shared/src/ui/nodefocus/js/nodefocus_5259.js","requires":["plugin","node","event-key"]},"comms-ui-nodefocus-base":{"path":"comms/shared/src/ui/nodefocus/js/base_5259.js","requires":["plugin","node","event-key"]},"comms-ui-store-javascript":{"path":"comms/shared/src/ui/model/js/stores/javascript-store_5259.js","requires":["comms-ui-model","json"]},"comms-ui-tooltips-widget":{"path":"comms/shared/src/tooltips/js/tooltips-widget_5259.js","requires":["node","widget","widget-position","widget-position-constrain","widget-stack","event-mouseenter"]},"comms-utils":{"path":"comms/shared/src/utils/js/utils_5259.js"},"comms-utils-stack-tracer":{"path":"comms/shared/src/utils/js/stack-tracer_5259.js"},"contacts-api":{"path":"comms/shared/src/contacts-api/api_5259.js","requires":["contacts-api-adapter","contacts-api-config","contacts-api-cache","contacts-api-utils"]},"contacts-api-adapter":{"path":"comms/shared/src/contacts-api/api-adapter_5259.js","requires":["contacts-api-io","contacts-api-cache","contacts-api-urigenerator","contacts-api-config","json","common-utils","rocket-stats"]},"contacts-api-cache":{"path":"comms/shared/src/contacts-api/api-cache_5259.js","requires":["contacts-api-config","common-utils-stats"]},"contacts-api-config":{"path":"comms/shared/src/contacts-api/api-config_5259.js","requires":["attribute"]},"contacts-api-io":{"path":"comms/shared/src/contacts-api/io_5259.js","requires":["contacts-api-urigenerator","json"]},"contacts-api-urigenerator":{"path":"comms/shared/src/contacts-api/urigenerator_5259.js","requires":["contacts-api-utils"]},"contacts-api-utils":{"path":"comms/shared/src/contacts-api/api-utils_5259.js","requires":["contacts-api-cache","common-utils-stats"]},"contacts-smartcontacts-api":{"path":"contacts/autocomplete/smartcontacts-api_5259.js","requires":["io-base"]},"contacts-ui-addcontact-add":{"path":"comms/shared/src/addContact/js/addcontactdialogadd_5259.js","requires":["node-event-simulate","common-utils","_shared_module_offscreen_bin_contacts_modal_kiosk_add_modal_kiosk_addcontact"]},"contacts-ui-addcontact-confirm":{"path":"comms/shared/src/addContact/js/addcontactconfirm_5259.js","requires":["common-utils","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_ft","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_hd","_shared_module_contact_card_confirm","_shared_module_contact_fragments_dl_email","_shared_module_contact_fragments_dl_yim","_shared_module_contact_fragments_dl_mobile","_shared_module_contact_fragments_photo","mod-contact-card_css"]},"contacts-ui-addcontact-controller":{"path":"comms/shared/src/addContact/js/add-contact-controller_5259.js","requires":["array-extras","comms-ui-dialog-base","contacts-api","contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","profile-api","profile-api-config"]},"contacts-ui-addcontactdialog":{"path":"comms/shared/src/addContact/js/addcontactdialog_5259.js","requires":["array-extras","comms-ui-dialog-base","contacts-api","contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","modal_css","forms_css","comms-utils"]},"contacts-ui-choosecontactdialog":{"path":"contacts/ui/choosecontactdialog/choosecontactdialog_5259.js","requires":["async-queue","node-event-simulate","comms-ui-dialog-base","common-utils","contacts-api-utils","contacts-api-config","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_modal_kiosk_choosecontact","lists_css","modal_css","mod-contacts_css","mod-contact-chooser_css","comms-intl-bidi"]},"contacts-ui-contact-popup":{"path":"contacts/ui/contactpopup/contact-popup_5259.js","requires":["overlay","common-utils","contacts-api-utils","mod-contact-card_css","_shared_module_contact_card_email_rollup","comms-utils","swfdetect","mail-common-hidef-profiles","common-ui-menu-helper","_shared_module_offscreen_bin_contacts_menu_contact_compact_compose"]},"contacts-ui-contactsevents":{"path":"contacts/ui/contactseventstranslator/contactsEvents_5259.js"},"contacts-ui-contactseventstranslator":{"path":"contacts/ui/contactseventstranslator/contactsEventsTranslator_5259.js","requires":["contacts-ui-contactsevents","contacts-ui-contactsview"]},"contacts-ui-contactsview":{"path":"contacts/ui/contactsview/contactsview_5259.js","requires":["mail-ui-basewidget","node-event-simulate"]},"contacts-ui-createlistdialog":{"path":"comms/shared/src/createList/js/createlistdialog_5259.js","requires":["common-ui-listview","array-extras","comms-ui-dialog-base","contacts-api","contacts-api-utils","contacts-ui-createlistdialog-view","contacts-ui-createlistdialog-confirm","modal_css","forms_css"]},"contacts-ui-createlistdialog-confirm":{"path":"comms/shared/src/createList/js/createlistconfirm_5259.js","requires":["node-event-simulate","common-utils","template-renderer","comms-intl-bidi"]},"contacts-ui-createlistdialog-view":{"path":"comms/shared/src/createList/js/createlistview_5259.js","requires":["node-event-simulate","common-utils","mu__shared_module_offscreen_bin_contacts_modal_kiosk_add_list_modal_kiosk_addlist","template-renderer","comms-bidi-textentry"]},"crossframe":{"path":"comms/shared/src/crossframe/crossframe-base_5259.js"},"file":{"path":"mail/common/file_5259.js"},"file-flash":{"path":"mail/common/file-flash_5259.js","requires":["base"]},"file-html5":{"path":"mail/common/file-html5_5259.js","requires":["base"]},"filter-contacts":{"path":"contacts/autocomplete/filtercontacts_5259.js","requires":["contacts-api-utils","contacts-api"]},"gx-ui-galaxyview-base":{"path":"galaxy/ui/galaxyview/galaxyview_5259.js","requires":["mail-ui-basewidget"]},"gx-ui-updates-base":{"path":"galaxy/ui/updates/updates_5259.js","requires":["common-utils","common-ui-toolbar-base","minty_module_shell_navigation_updates_rollup","minty_module_toolbar_updates","mail-ui-basewidget","rocket-stats","gx_utils"]},"gx-ui-updates-videoRenderer":{"path":"galaxy/ui/videoRenderer/videoRenderer_5259.js","requires":["node","gx_utils"]},"gx_YOS":{"path":"galaxy/ui/YOS/gx_YOS_5259.js","requires":["gx_utils","json"]},"gx_bootstrap":{"path":"galaxy/ui/bootstrap/bootstrap_5259.js","requires":["node-base"]},"gx_cue":{"path":"galaxy/ui/cue/gx_cue_5259.js","requires":["node","event","anim","gx_utils","ult_wrapper"]},"gx_cue_mini_nux":{"path":"galaxy/ui/cue/gx_cue_mini_nux_5259.js","requires":["node","event","anim","gx_utils","ult_wrapper"]},"gx_messages":{"path":"galaxy/ui/messages/gx_messages_5259.js","requires":["node","gx_utils","json-parse","ult_wrapper","rocket-stats"]},"gx_news":{"path":"galaxy/ui/news/gx_news_5259.js","requires":["node","anim","json","gx_utils","rocket-stats"]},"gx_profiledata":{"path":"galaxy/ui/profiledata/gx_profiledata_5259.js","requires":["node","json","gx_utils"]},"gx_status":{"path":"galaxy/ui/sharebox/gx_status_5259.js","requires":["node","event","anim","json","gx_utils","ult_wrapper","comms-ui-menu-base","common-ui-menu-helper","comms-bidi-textentry"]},"gx_utils":{"path":"galaxy/ui/utils/gx_utils_5259.js","requires":["node","common-net-sessionmgr"]},"info-collector":{"path":"mail/debug/info-collector_5259.js","requires":["io"]},"launch-utils":{"path":"common/launch/utils_5259.js","requires":["comms-log4js"]},"mail-common-cachewarmer":{"path":"mail/common/cachewarmer_5259.js","requires":["async-queue","loader","common-net-session","mail-ui-messagelist-base","mail-controller-messages"]},"mail-common-downloader-v1":{"path":"mail/common/downloader_v1_5259.js","requires":["common-utils","mail-controller-messages","_shared_module_offscreen_bin_modal_attach_download_rollup","common-ui-dialog-helper","comms-ui-dialog-base","rocket-stats"]},"mail-common-downloader-v2":{"path":"mail/common/downloader_v2_5259.js","requires":["common-utils","mail-controller-messages","common-ui-dialog-helper","comms-ui-dialog-base","rocket-stats","datatype"]},"mail-common-hidef-profiles":{"path":"mail/common/hidef_profiles_5259.js","requires":["common-net-session"]},"mail-common-inline-edit":{"path":"mail/common/edit-control_5259.js"},"mail-common-lowbandwidth":{"path":"mail/common/lowbandwidth_5259.js","requires":["node","rocket-stats"]},"mail-common-pixiedust":{"path":"mail/common/pixiedust_5259.js"},"mail-common-precache-ranking":{"path":"mail/common/precache-ranking_5259.js","requires":["mail-ui-messagelist-base"]},"mail-common-precache-unread":{"path":"mail/common/precache-unread_5259.js","requires":["mail-ui-messagelist-base"]},"mail-common-yml":{"path":"mail/common/yml_5259.js"},"mail-controller-base":{"path":"mail/controller/base_5259.js","requires":["mail-net-transport","common-net-error-base","common-utils-apihook","rocket-stats"]},"mail-controller-compose":{"path":"mail/controller/composectrl_5259.js","requires":["mail-controller-base","mail-model-compose","common-persist-user-data","mail-persist-meta-data","mail-ui-common-fonts","_shared_module_compose_reply"]},"mail-controller-compose-text":{"path":"mail/controller/composetext_5259.js","requires":["common-persist-user-data","mail-controller-compose"]},"mail-controller-conversations":{"path":"mail/controller/conversation_5259.js","requires":["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data","mail-model-convstore","mail-model-datastore"]},"mail-controller-conversations-ops":{"path":"mail/controller/conversationsops_5259.js","requires":["rocket-stats","mail-controller-base","mail-model-convstore","json-stringify"]},"mail-controller-folders":{"path":"mail/controller/folders_5259.js","requires":["rocket-stats","mail-model-datastore","mail-controller-base","common-persist-user-data"]},"mail-controller-messages":{"path":"mail/controller/messages_5259.js","requires":["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data"]},"mail-controller-messages-ops":{"path":"mail/controller/messagesops_5259.js","requires":["rocket-stats","mail-controller-base","mail-model-datastore","json-stringify"]},"mail-controller-mrd":{"path":"mail/controller/mrd_5259.js","requires":["common-utils","mail-ui-shortcuts"]},"mail-controller-processbody":{"path":"mail/controller/processbody_5259.js","requires":["common-utils","common-utils-stats"]},"mail-controller-sendconfirm":{"path":"mail/controller/sendconfirm_5259.js","requires":["mail-controller-base","mail-model-send","contacts-api-utils","contacts-api","mail-controller-messages-ops","rocket-stats","common-utils-stats"]},"mail-controller-spellcheck":{"path":"mail/controller/spellcheck_5259.js","requires":["mail-controller-base","mail-model-compose","common-net-sessionmgr","common-persist-user-data","json-parse"]},"mail-debug":{"path":"mail/debug/debug_5259.js","requires":["comms-log4js","comms-log4js-appenders-console","info-collector","common-net-diag","_shared_module_offscreen_bin_menus_debug"]},"mail-error":{"path":"mail/controller/error_5259.js","requires":["common-net-error","mail-errormap","rocket-stats","json-stringify","_shared_module_offscreen_bin_modal_launch_error_rollup"]},"mail-errormap":{"path":"mail/controller/errormap_5259.js","requires":["json-stringify","common-net-error"]},"mail-model-compose":{"path":"mail/model/composemodel_5259.js","requires":["base","common-persist-user-data"]},"mail-model-convstore":{"path":"mail/model/convstore_5259.js","requires":["common-utils"]},"mail-model-datastore":{"path":"mail/model/datastore_5259.js","requires":["common-utils","json-stringify"]},"mail-model-send":{"path":"mail/model/sendmodel_5259.js","requires":["base"]},"mail-net-ETP":{"path":"mail/net/etp_5259.js"},"mail-net-diag":{"path":"mail/net/diag_5259.js","requires":["common-net-diag","json-stringify","json-parse"]},"mail-net-queue":{"path":"mail/net/queue_5259.js","requires":["mail-net-transport"]},"mail-net-transport":{"path":"mail/net/transport_5259.js","requires":["common-net-sessionmgr","json-stringify","common-persist-neo-data"]},"mail-persist-meta-data":{"path":"mail/persist/metaData_5259.js","requires":["attribute","mail-net-transport"]},"mail-persist-user-preferences":{"path":"mail/persist/userPreferences_5259.js","requires":["attribute","mail-net-transport","json"]},"mail-service-uploader-form":{"path":"mail/common/uploader_form_5259.js"},"mail-service-uploader-utils":{"path":"mail/common/uploader-utils_5259.js","requires":["common-utils-stats","common-net-sessionmgr"]},"mail-service-uploader-v1":{"path":"mail/common/uploader_5259.js","requires":["_shared_module_compose","mail-controller-compose","mail-model-compose","rocket-stats","common-utils","swfdetect","mail-service-uploader-utils"]},"mail-service-uploader-v2":{"path":"mail/common/uploader_v2_5259.js","requires":["common-utils-stats","swfdetect","uploader-html5","uploader-flash","mail-service-uploader-utils"]},"mail-service-uploader-yui":{"path":"mail/common/uploader_yui_5259.js","requires":["mail-service-uploader-v1","uploader","event","event-base"]},"mail-track":{"path":"common/utils/track_5259.js"},"mail-ui-accordion-base-jp":{"path":"mail/ui/accordion/accordion-jp_5259.js","requires":["mail-modules","mail-templates","anim","common-utils-error","minty_module_jp_accordion_title"]},"mail-ui-accounts":{"path":"mail/ui/accounts/accounts_5259.js","requires":["common-utils","common-persist-user-data"]},"mail-ui-actions-marker":{"path":"mail/ui/actions/marker_5259.js","requires":["event","comms-aop-tracer"]},"mail-ui-ad-upsell-dialog":{"path":"mail/ui/darla/adUpsellDialog_5259.js","requires":["mail-persist-meta-data","common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_upsell_rollup","modal_css"]},"mail-ui-attachment-filetype":{"path":"mail/ui/attachments/filetype_5259.js"},"mail-ui-authorview-base":{"path":"mail/ui/composeview/authorview_5259.js","requires":["mail-controller-base","mail-controller-compose","mail-ui-fullcompose","_shared_module_compose_title"]},"mail-ui-basewidget":{"path":"mail/ui/basewidget/basewidget_5259.js","requires":["common-ui-contentwidget","mail-ui-navkeys"]},"mail-ui-button-ctxt":{"path":"mail/ui/buttonctxt/buttonctxt_5259.js","requires":["common-ui-toolbar-base","mail-ui-messagelist-base"]},"mail-ui-captcha-controller":{"path":"mail/ui/captcha/controller_5259.js","requires":["common-utils","captcha_css","comms-ui-dialog-base","common-ui-dialog-helper","mail-ui-captcha-view"]},"mail-ui-captcha-view":{"path":"mail/ui/captcha/view_5259.js","requires":["captcha_css","_shared_module_send_confirm_captcha","_shared_module_send_confirm_captcha_blocked"]},"mail-ui-common-calendar-jp":{"path":"mail/ui/common/calendar-jp_5259.js","requires":["common-utils","common-net-sessionmgr","comms-ui-dialog-base"]},"mail-ui-common-fonts":{"path":"mail/ui/common/fonts_5259.js","requires":["mail-persist-meta-data"]},"mail-ui-common-string-utils":{"path":"mail/ui/common/stringUtils_5259.js","requires":["common-utils"]},"mail-ui-composeview-attach":{"path":"mail/ui/composeview/compose-attach_5259.js","requires":["rocket-stats","swfdetect","mail-service-uploader-utils"]},"mail-ui-composeview-spellcheck":{"path":"mail/ui/composeview/compose-spellcheck_5259.js","requires":["node","plugin","mail-controller-compose","mail-controller-spellcheck","menus_css","comms-ui-menu-base","common-ui-menu-helper","_shared_module_offscreen_bin_compose_menu_spell_langs"]},"mail-ui-convcompose-header":{"path":"mail/ui/mailcompose/conv/convcompose-header_5259.js","requires":["mail-ui-mailcompose-base-header"]},"mail-ui-convevents":{"path":"mail/ui/mailview/conv/convevents_5259.js","requires":["mail-controller-conversations","mail-controller-conversations-ops","mail-model-convstore","mail-ui-mailevents"]},"mail-ui-convlist-base":{"path":"mail/ui/maillist/conv/convlist_5259.js","requires":["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-conversations","mail-ui-listview-controls"]},"mail-ui-convpane-base":{"path":"mail/ui/mailpane/conv/convpane_5259.js","requires":["_shared_module_thread_thread_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-controller-conversations","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils","mail-model-convstore"]},"mail-ui-convpane-bind":{"path":"mail/ui/mailpane/conv/bind_5259.js"},"mail-ui-convpane-error":{"path":"mail/ui/mailpane/conv/error_5259.js","requires":["common-utils","_shared_module_thread_thread_display_rollup","mail-ui-pane-utils"]},"mail-ui-convpane-profiles":{"path":"mail/ui/mailpane/conv/convpaneprofiles_5259.js","requires":["mail-ui-messagepane-base","mail-ui-messagepane-read","common-net-session","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles","mail-ui-profileutils"]},"mail-ui-convpane-read":{"path":"mail/ui/mailpane/conv/convpaneread_5259.js","requires":["common-persist-user-data","mail-persist-meta-data","mail-ui-messagepane-warnings","_shared_module_thread_thread_display_rollup","mail-ui-mailpane-read","contacts-api","contacts-api-utils","common-utils-stats","mail-ui-messagepane-utils","attachments_css","mod-conversation-history_css","mail-ui-attachment-filetype","mail-ui-common-fonts","common-ui-tabs-base","mail-ui-pane-utils"]},"mail-ui-convview-base":{"path":"mail/ui/mailview/conv/convview_5259.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-convlist-base","mail-ui-convpane-base","minty_module_toolbar_inbox_default_thread_rollup","dom-screen","mail-ui-common-string-utils"]},"mail-ui-darla":{"path":"mail/ui/darla/neodarla_5259.js","requires":["node-base","darla-base","rocket-stats"]},"mail-ui-factory-base":{"path":"mail/ui/factory/factory_5259.js"},"mail-ui-folderevents":{"path":"mail/ui/foldersview/folderevents_5259.js","requires":["common-utils","mail-controller-folders","common-ui-dialog-helper","comms-bidi-textentry"]},"mail-ui-foldersview-base":{"path":"mail/ui/foldersview/foldersview_5259.js","requires":["common-utils","rocket-stats","mail-controller-folders","attribute","node","mail-persist-meta-data","common-persist-user-data","mail-ui-accounts"]},"mail-ui-foldersview-bind":{"path":"mail/ui/foldersview/bind_5259.js"},"mail-ui-fullcompose":{"path":"mail/ui/mailcompose/message/composeview_5259.js","requires":["mail-ui-mailcompose","mail-ui-rteview","mail-ui-messagepane-utils","forms_css","rte_css","attachments_css","mod-stationery_css","mod-compose_css","mail-ui-composeview-attach","editor-base","editor-para","editor-br","node","stylesheet","mail-controller-compose-text","mail-model-compose","contacts-api-utils","contacts-api","filter-contacts","plugin","comms-bidi-textentry","comms-editor-autobidi","comms-intl-bidi","editor-bidi","_shared_module_compose","_shared_module_toolbar_compose","_shared_module_compose_loading","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_rte_well_content_format","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_attachments","_shared_module_rte_well_tabs_compose","common-ui-toolbar-base","_shared_module_offscreen_bin_compose_menu_list","_shared_module_offscreen_bin_compose_menu_text_align"]},"mail-ui-header":{"path":"mail/ui/header/header_5259.js","requires":["mail-ui-header-base","mail-ui-header-utils","common-utils","common-persist-user-data"]},"mail-ui-header-base":{"path":"mail/ui/header/header_base_5259.js"},"mail-ui-header-utils":{"path":"mail/ui/header/headerUtils_5259.js","requires":["common-utils","common-persist-user-data"]},"mail-ui-inboxmenu-base":{"path":"mail/ui/inboxmenu/inboxmenu_5259.js","requires":["common-utils","menus_css"]},"mail-ui-inlinecompose":{"path":"mail/ui/mailcompose/conv/convcompose_5259.js","requires":["mail-ui-convcompose-header","mail-ui-mailcompose","widget","mail-service-uploader-v1","mail-ui-composeview-attach","editor","editor-para","editor-br","_shared_module_send_confirm_captcha","rte_css","mod-compose_css","mail-service-uploader-form"]},"mail-ui-leftcolumn-contactmenu-base-jp":{"path":"mail/ui/inboxmenu/leftcolumn-contactmenu-jp_5259.js","requires":["mail-modules","mail-templates","common-utils","menus_css","common-ui-menu-helper","contacts-api-utils","_shared_module_offscreen_bin_menus_jp_contact"]},"mail-ui-listview-controls":{"path":"mail/ui/maillist/base/listview-controls_5259.js"},"mail-ui-mailcompose":{"path":"mail/ui/mailcompose/base/mailcompose_5259.js","requires":["autocomplete_css","common-persist-user-data","mail-persist-meta-data","_shared_module_compose_message_header","mail-controller-compose","mail-ui-mailcompose-base-header","rocket-stats","comms-utils"]},"mail-ui-mailcompose-base-header":{"path":"mail/ui/mailcompose/base/mailcompose-header_5259.js","requires":["comms-ui-lozenge","ac-widget","_shared_module_offscreen_bin_compose","mail-controller-compose","mail-controller-compose-text","contacts-api","_shared_module_compose_message_header"]},"mail-ui-mailevents":{"path":"mail/ui/mailview/base/mailevents_5259.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","common-ui-tabs-base","mail-model-datastore","comms-utils"]},"mail-ui-maillist":{"path":"mail/ui/maillist/base/maillist_5259.js","requires":["common-ui-contentwidget","mail-controller-folders","common-persist-user-data","mail-ui-common-string-utils","mail-ui-accounts","mail-model-datastore","rocket-stats"]},"mail-ui-maillist-listview":{"path":"mail/ui/maillist/base/maillist-listview_5259.js","requires":["mail-ui-messagelist-base"]},"mail-ui-maillist-model":{"path":"mail/ui/maillist/base/maillistmodel_5259.js","requires":["common-ui-listview"]},"mail-ui-maillist-view":{"path":"mail/ui/maillist/base/maillistview_5259.js","requires":["common-ui-listview"]},"mail-ui-mailmarkup-base":{"path":"mail/ui/mailview/base/markup_5259.js","requires":["node"]},"mail-ui-mailpane-base":{"path":"mail/ui/mailpane/base/mailpane_5259.js","requires":["_shared_module_message_pane","_shared_module_thread_thread_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-basewidget","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]},"mail-ui-mailpane-next-prev":{"path":"mail/ui/mailpane/base/mailnextprevious_5259.js","requires":["mail-ui-common-string-utils","common-utils","common-utils-stats"]},"mail-ui-mailpane-read":{"path":"mail/ui/mailpane/base/mailread_5259.js","requires":["mail-ui-common-string-utils","common-utils","common-utils-stats"]},"mail-ui-mailuibind-base":{"path":"mail/ui/mailview/base/uibind_5259.js","requires":["node"]},"mail-ui-mailview-base":{"path":"mail/ui/mailview/base/mailview_5259.js","requires":["mail-ui-basewidget","common-persist-user-data","mail-ui-messagepane-utils","mail-model-datastore","common-utils","node-event-simulate"]},"mail-ui-message-encodings":{"path":"mail/ui/messagesview/message-encodings_5259.js","requires":["common-utils"]},"mail-ui-message-timedalertdialog":{"path":"mail/ui/messagesview/message-timedalertdialogs_5259.js","requires":["mail-modules","mail-templates","common-utils","common-ui-dialog-helper"]},"mail-ui-messageevents":{"path":"mail/ui/mailview/message/messageevents_5259.js","requires":["mail-controller-messages","mail-controller-messages-ops","mail-model-datastore","mail-ui-mailevents"]},"mail-ui-messagelist-base":{"path":"mail/ui/maillist/message/messagelist_5259.js","requires":["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-messages","mail-ui-listview-controls"]},"mail-ui-messagepane-base":{"path":"mail/ui/mailpane/message/messagepane_5259.js","requires":["_shared_module_message_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]},"mail-ui-messagepane-bind":{"path":"mail/ui/mailpane/message/bind_5259.js"},"mail-ui-messagepane-error":{"path":"mail/ui/mailpane/message/error_5259.js","requires":["common-utils","_shared_module_message_display_rollup"]},"mail-ui-messagepane-next-prev":{"path":"mail/ui/mailpane/message/nextprevious_5259.js","requires":["mail-ui-common-string-utils","mail-ui-messagepane-base","mail-ui-mailpane-next-prev","mail-model-datastore","mail-controller-messages","mail-ui-messagelist-base","common-utils","common-utils-stats"]},"mail-ui-messagepane-read":{"path":"mail/ui/mailpane/message/messagepaneread_5259.js","requires":["common-persist-user-data","mail-persist-meta-data","mail-ui-messagepane-warnings","_shared_module_message_display_rollup","mail-ui-mailpane-read","contacts-api","contacts-api-utils","common-utils-stats","mail-ui-messagepane-utils","attachments_css","mod-conversation-history_css","mail-ui-attachment-filetype","mail-ui-common-fonts","common-ui-tabs-base"]},"mail-ui-messagepane-utils":{"path":"mail/ui/messagepane/utils_5259.js","requires":["common-utils-stats","mail-ui-messagepane-utils-shared"]},"mail-ui-messagepane-utils-shared":{"path":"mail/ui/messagepane/shared_5259.js"},"mail-ui-messagepane-warnings":{"path":"mail/ui/messagepane/warnings_5259.js","requires":["common-utils"]},"mail-ui-messagepreview":{"path":"mail/ui/mailpane/message/preview_5259.js","requires":["common-utils","mail-model-datastore","mail-controller-messages","_shared_module_offscreen_bin_modal_preview_rollup"]},"mail-ui-messagesview-base":{"path":"mail/ui/mailview/message/messagesview_5259.js","requires":["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagelist-base","mail-ui-messagepane-base","minty_module_toolbar_inbox_default_rollup","minty_module_toolbar_inbox_default_fresh_rollup","dom-screen","mail-ui-common-string-utils"]},"mail-ui-messagesview-dd":{"path":"mail/ui/messagesview/messagesview-dd_5259.js","requires":["mail-model-datastore","common-utils","node-base","common-ui-dd"]},"mail-ui-messagesview-quickfilter":{"path":"mail/ui/messagesview/quickfilter_5259.js","requires":["common-utils","common-persist-user-data","mail-model-datastore","forms_css","_shared_module_offscreen_bin_modal_quick_filters","common-ui-dialog-helper","mail-controller-messages-ops","mail-ui-common-string-utils"]},"mail-ui-messagesview-resize":{"path":"mail/ui/messagesview/messagesview-resize_5259.js","requires":["common-persist-cookie-data","stylesheet","node","common-ui-dd","common-persist-user-data"]},"mail-ui-messagesview-vertical":{"path":"mail/ui/messagesview/vertical_5259.js","requires":["mail-ui-messagesview-resize"]},"mail-ui-messenger":{"path":"mail/ui/messenger/messenger_5259.js","requires":["common-utils","swfdetect"]},"mail-ui-msgpane-profiles":{"path":"mail/ui/mailpane/message/messagepaneprofiles_5259.js","requires":["mail-ui-messagepane-base","mail-ui-messagepane-read","common-net-session","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles","mail-ui-profileutils"]},"mail-ui-navkeys":{"path":"mail/ui/navkeys/navkeys_5259.js","requires":["mail-controller-folders"]},"mail-ui-oviheader":{"path":"mail/ui/header/oviheader_5259.js","requires":["common-utils","node"]},"mail-ui-pane-utils":{"path":"mail/ui/mailpane/base/paneutils_5259.js","requires":["mail-controller-messages","common-utils","mail-persist-meta-data"]},"mail-ui-print":{"path":"mail/ui/print/print_5259.js","requires":["mail-controller-messages","_shared_module_offscreen_bin_print_print_rollup"]},"mail-ui-profileutils":{"path":"mail/ui/mailpane/base/profileutils_5259.js","requires":["common-net-session","common-utils","common-utils-stats","_shared_module_updates_ycw","mail-common-hidef-profiles"]},"mail-ui-rteview":{"path":"mail/ui/mailcompose/rte/rteview_5259.js","requires":["node-base","node-event-delegate","attribute-base","event-base","mail-ui-basewidget"]},"mail-ui-sendconfirm-capthcaut":{"path":"mail/ui/sendconfirm/captchaut_5259.js","requires":["captcha_css"]},"mail-ui-sendconfirmview-base":{"path":"mail/ui/sendconfirm/sendconfirm-base_5259.js","requires":["common-utils","_shared_module_send_confirm_rollup","mail-controller-sendconfirm","_shared_module_send_confirm_recipients_rollup","minty_module_toolbar_inbox_sent_msg_rollup","minty_module_toolbar_inbox_sent_msg_thread_rollup","_shared_module_send_confirm_captcha_blocked","comms-lozenge-address","comms-ui-lozenge","mail-ui-searchbar"]},"mail-ui-shortcuts":{"path":"mail/ui/shortcuts/shortcuts_5259.js","requires":["common-utils","mail-ui-messagepane-utils"]},"mail-ui-shortcuts-dialog":{"path":"mail/ui/shortcuts/shortcutsdialog_5259.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_shortcuts_rollup","modal_css"]},"mail-ui-themes":{"path":"mail/ui/themes/themes_5259.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_colors_rollup","minty_module_static_themes_js","json-parse","modal_css","options-pages_css"]},"mail-ui-themes-jp":{"path":"mail/ui/themes/themes-jp_5259.js","requires":["common-utils","comms-ui-dialog-base","_shared_module_offscreen_bin_modal_colors_rollup","modal_css","options-pages_css"]},"mail-ui-workspace-base":{"path":"mail/ui/workspace/workspace_5259.js","requires":["mail-modules","mail-templates","mail-ui-foldersview-base","common-ui-tabs-base","mail-ui-messagesview-base","mail-ui-convview-base","common-ui-toolbar-base","mail-ui-searchbar","gx-ui-galaxyview-base","common-utils-stats","mail-ui-common-string-utils"]},"mail-ui-workspace-ext":{"path":"mail/ui/workspace/workspace-ext_5259.js","requires":["mail-ui-workspace-base"]},"mail-ui-workspace-horizontal-slider":{"path":"mail/ui/workspace/workspacehslider_5259.js","requires":["node-base","common-persist-cookie-data","common-ui-dd"]},"om-api-appdata":{"path":"om/api/appdata_5259.js","requires":["om-common-apiutils"]},"om-api-conv":{"path":"om/api/conv_5259.js","requires":["om-controller-openapi","om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-event":{"path":"om/api/event_5259.js","requires":["om-common-apiutils"]},"om-api-mail":{"path":"om/api/mail_5259.js","requires":["mail-ui-authorview-base","common-ui-dialog-helper","mail-model-send","mail-controller-compose","mail-controller-sendconfirm","_shared_module_send_confirm_captcha","mail-ui-sendconfirm-capthcaut","om-common-apiutils"]},"om-api-menu":{"path":"om/api/menu_5259.js","requires":["om-common-apiutils","_shared_module_offscreen_bin_menus_openmail_extension"]},"om-api-message":{"path":"om/api/message_5259.js","requires":["om-controller-openapi","om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-neo":{"path":"om/api/neo_5259.js","requires":["om-common-apiutils","om-common-errors","om-common-constants"]},"om-api-social":{"path":"om/api/social_5259.js","requires":["array-extras","gx_utils","querystring","om-common-net-session","mail-ui-workspace-base","om-common-apiutils","om-common-errors","om-common-constants"]},"om-common-apiutils":{"path":"om/common/utils/apiutils_5259.js","requires":["om-common-errors","om-common-constants"]},"om-common-constants":{"path":"om/common/constants/om_public_constants_5259.js"},"om-common-errors":{"path":"om/common/constants/om_public_errors_5259.js"},"om-common-net-session":{"path":"om/common/net/session_5259.js","requires":["event-custom","common-utils","common-net-session","common-net-sessionmgr","om-common-utils"]},"om-common-utils":{"path":"om/common/utils/utils_5259.js","requires":["common-utils"]},"om-controller-addremoveapp":{"path":"om/controller/addremoveapp_5259.js","requires":["om-controller-base","om-common-utils","common-utils","om-common-net-session","om-model-datastore","om-controller-applicationlist","rocket-stats"]},"om-controller-applicationlist":{"path":"om/controller/applicationlist_5259.js","requires":["om-controller-base","om-common-net-session","om-model-datastore","rocket-stats"]},"om-controller-base":{"path":"om/controller/base_5259.js"},"om-controller-compose":{"path":"om/controller/compose_5259.js","requires":["om-controller-base","om-controller-views","om-ui-composeview","om-controller-compose-events","om-controller-internalapi","rocket-stats","om-common-utils","common-utils-stats"]},"om-controller-compose-events":{"path":"om/controller/compose-events_5259.js","requires":["om-common-utils","om-controller-base"]},"om-controller-crossframe":{"path":"om/controller/crossframe_5259.js","requires":["om-controller-base","om-common-utils","om-controller-openapi","omCrossframe","rocket-stats"]},"om-controller-internalapi":{"path":"om/controller/internalapi_5259.js","requires":["om-controller-base","om-common-utils","om-common-apiutils","om-model-datastore","om-controller-openapi","rocket-stats","om-api-appdata","om-api-menu","om-api-event","om-api-message"]},"om-controller-messageread":{"path":"om/controller/messageread_5259.js","requires":["om-controller-base","om-common-utils","async-queue","mail-controller-messages","common-utils-stats"]},"om-controller-openapi":{"path":"om/controller/openapi_5259.js","requires":["om-controller-base","om-controller-webservice","om-common-constants","om-common-net-session","om-common-utils","om-model-datastore","om-common-errors","common-net-sessionmgr","common-utils","json","rocket-stats"]},"om-controller-views":{"path":"om/controller/views_5259.js","requires":["common-utils","om-controller-base","om-common-utils","om-model-datastore","om-controller-crossframe","om-common-errors","querystring-stringify-simple"]},"om-controller-views-other":{"path":"om/controller/views-other_5259.js","requires":["om-controller-views"]},"om-controller-webservice":{"path":"om/controller/webservice_5259.js","requires":["om-controller-base","om-model-datastore","om-common-errors","om-common-utils","common-utils","_shared_module_open_mail_webservice_container"]},"om-model-datastore":{"path":"om/model/datastore_5259.js","requires":["array-extras","om-common-utils"]},"om-ui-applicationlist-base":{"path":"om/ui/applicationlist/applicationlist_5259.js","requires":["common-utils","_shared_module_open_mail_application_list","om-model-datastore","om-controller-applicationlist","om-controller-views","_shared_module_open_mail_application_list_menu","common-persist-cookie-data"]},"om-ui-applicationlistmenu-base":{"path":"om/ui/applicationlist/applicationlistmenu_5259.js","requires":["common-utils","_shared_module_open_mail_application_list_menu"]},"om-ui-autosuggest":{"path":"om/ui/autosuggest/autosuggest_5259.js","requires":["ac-widget"]},"om-ui-composeview":{"path":"om/ui/composeview/composeview_5259.js","requires":["om-ui-mailcompose-header","mail-ui-fullcompose","om-ui-autosuggest"]},"om-ui-convpane-base":{"path":"om/ui/mailpane/convpane_5259.js","requires":["mail-ui-convpane-base","mail-controller-messages","json-stringify","om-model-datastore","om-controller-messageread","om-controller-views","common-utils-stats","rocket-stats"]},"om-ui-mailcompose-header":{"path":"om/ui/mailcompose-header/mailcompose-header_5259.js","requires":["mail-ui-mailcompose-base-header","om-ui-autosuggest"]},"om-ui-messagepane-base":{"path":"om/ui/mailpane/messagepane_5259.js","requires":["mail-ui-messagepane-base","mail-controller-messages","json-stringify","om-model-datastore","om-controller-messageread","om-controller-views","common-utils-stats","rocket-stats"]},"om-ui-messagepane-sandbox-controller":{"path":"om/ui/mailpane/sandbox/controller_5259.js","requires":["mail-ui-messagepane-utils-shared","om-ui-sandbox-utils","om-ui-sandbox-view","om-ui-sandbox-datastore","om-ui-sandbox-messageread"]},"om-ui-sandbox-datastore":{"path":"om/ui/mailpane/sandbox/datastore_5259.js","requires":["om-ui-sandbox-view"]},"om-ui-sandbox-messageread":{"path":"om/ui/mailpane/sandbox/messageread_5259.js","requires":["om-ui-sandbox-datastore"]},"om-ui-sandbox-utils":{"path":"om/ui/mailpane/sandbox/utils_5259.js"},"om-ui-sandbox-view":{"path":"om/ui/mailpane/sandbox/view_5259.js","requires":["base-base","mail-ui-messagepane-utils-shared","om-ui-sandbox-utils","om-ui-sandbox-messageread"]},"om-ui-sendconfirm":{"path":"om/ui/sendconfirm/sendconfirm_5259.js","requires":["mail-ui-sendconfirmview-base"]},"om-ui-views-alignedoverlay":{"path":"om/ui/views/alignedoverlay/alignedoverlay_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_panel"]},"om-ui-views-dialog":{"path":"om/ui/views/dialog/dialog_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_dialog"]},"om-ui-views-folderpane":{"path":"om/ui/views/folderpane/folderpane_5259.js","requires":["om-ui-views-simple"]},"om-ui-views-hidden":{"path":"om/ui/views/hidden/hidden_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_hidden"]},"om-ui-views-lightbox":{"path":"om/ui/views/lightbox/lightbox_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_lightbox"]},"om-ui-views-overlay":{"path":"om/ui/views/overlay/overlay_5259.js","requires":["om-ui-views-simple","om-common-utils","_shared_module_open_mail_application_overlay"]},"om-ui-views-panel":{"path":"om/ui/views/panel/panel_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_panel"]},"om-ui-views-pod":{"path":"om/ui/views/pod/pod_5259.js","requires":["om-ui-views-simple","_shared_module_open_mail_application_pod"]},"om-ui-views-simple":{"path":"om/ui/views/simple/simple_5259.js","requires":["base-base","node","common-utils","common-utils-stats","_shared_module_open_mail_application_simple"]},"om-ui-views-tab":{"path":"om/ui/views/tab/tab_5259.js","requires":["common-utils","_shared_module_open_mail_application_content","om-ui-views-simple"]},"om-ui-workspace-base":{"path":"om/ui/workspace/workspace_5259.js","requires":["mail-ui-factory-base","om-model-datastore","om-ui-applicationlist-base","om-ui-messagepane-base"]},"options-ui-mailoptionsview":{"path":"mail/ui/optionsview/optionsview_5259.js","requires":["common-ui-contentwidget"]},"pods-location-acwidget":{"path":"hydra/pods/location-acwidget_5259.js","requires":["comms-ui-autocomplete","json","pods_generic"]},"pods_app":{"path":"hydra/pods/app_5259.js","requires":["pods_generic"]},"pods_birthday":{"path":"hydra/pods/birthday_5259.js","requires":["pods_generic"]},"pods_calendar":{"path":"hydra/pods/calendar_5259.js","requires":["pods_generic"]},"pods_generic":{"path":"hydra/pods/generic_5259.js","requires":["node","event","json-parse","common-net-session","rocket-stats"]},"pods_localnews":{"path":"hydra/pods/localnews_5259.js","requires":["pods_generic"]},"pods_news":{"path":"hydra/pods/news_5259.js","requires":["pods_generic"]},"pods_ruefc":{"path":"hydra/pods/ruefc_5259.js","requires":["pods_generic","mail-model-datastore"]},"pods_weather":{"path":"hydra/pods/weather_5259.js","requires":["pods_generic"]},"profile-api":{"path":"comms/shared/src/profile-api/js/api_5259.js","requires":["profile-api-config"]},"profile-api-config":{"path":"comms/shared/src/profile-api/js/api-config_5259.js","requires":["attribute"]},"rocket-stats":{"path":"comms/shared/src/rocketstats/js/src/rocketstats_5259.js"},"scrum-board":{"path":"comms/shared/tools/scrumBoard/scrumBoard_5259.js","requires":["bugzilla-table","node","json","substitute","dd-ddm-drop","dd-proxy","dd-drop","dd-delegate"]},"template-renderer":{"path":"comms/shared/src/utils/js/template-renderer_5259.js"},"themes-img-snowing":{"path":"theme/img-snowing/img-snowing_5259.js","requires":["stylesheet"]},"themes-img-ufo":{"path":"theme/img-ufo/ufo_5259.js","requires":["stylesheet"]},"themes-img-water":{"path":"theme/img-water/img-water_5259.js","requires":["stylesheet"]},"themes-img-ydog":{"path":"theme/img-ydog/ydog_5259.js","requires":["stylesheet"]},"tracer":{"path":"mail/debug/tracer_5259.js","requires":["comms-aop-weaver","comms-aop-tracer","mail-ui-actions-marker"]},"ult-track":{"path":"common/utils/ultTrack_5259.js","requires":["ult_wrapper"]},"ult-tracker":{"path":"common/utils/ultTracker_5259.js","requires":["ult_wrapper"]},"ult_wrapper":{"path":"common/utils/ult_5259.js"},"uploader-flash":{"path":"mail/common/uploader-flash_5259.js","requires":["swf","widget","substitute","base","cssbutton","node","event-custom","file-flash","uploader-queue"]},"uploader-html5":{"path":"mail/common/uploader-html5_5259.js","requires":["widget","substitute","node-event-simulate","file-html5","uploader-queue"]},"uploader-queue":{"path":"mail/common/uploader-queue_5259.js","requires":["base"]}});
var D={"postlaunch":["common-utils-error","mail-common-cachewarmer","mail-error","mail-errormap","mail-ui-inboxmenu-base","mail-ui-folderevents","mail-ui-oviheader","mail-ui-messenger","mail-ui-print","mail-ui-themes","mail-ui-shortcuts-dialog","mail-ui-ad-upsell-dialog","gx-ui-updates-base","gx_utils","gx_YOS","gx_cue","gx_messages","gx_profiledata","gx_status","gx_news","gx_cue_mini_nux","om-api-social","common-ui-menu-helper","common-ui-notification","common-ui-tabs-overflow","mail-ui-workspace-ext","mail-ui-foldersview-bind","mail-ui-messagesview-quickfilter","options-ui-mailoptionsview","calendar-ui-calendarview","calendar-ui-addEvent-utils","calendar-ui-addEvent-listener","calendar-ui-addEvent-controller","calendar-ui-addEvent-model","calendar-ui-addEvent-view"],"calendar":["calendar-ui-addEvent-view","calendar-dialogs-addEvent-view","calendar-menus-stickers-view","calendar-dialogs-addEvent-controller","calendar-menus-stickers-controller","calendar-menus-minical-view","calendar-menus-months-controller","calendar-menus-time-view","calendar-menus-listMove-controller","calendar-menus-listMove-view","calendar-menus-minical-controller","calendar-menus-time-controller"],"compose":["mail-common-downloader-v1","mail-common-downloader-v2","mail-controller-compose","mail-controller-compose-text","mail-controller-spellcheck","mail-ui-authorview-base","mail-ui-composeview-attach","mail-ui-inlinecompose","mail-ui-mailcompose","mail-ui-fullcompose","mail-ui-mailcompose-base-header","mail-ui-convcompose-header","mail-ui-composeview-spellcheck","mail-ui-messageevents","mail-ui-convevents","mail-ui-mailevents","mail-ui-messagepane-next-prev","mail-ui-messagepane-bind","mail-ui-message-encodings","mail-ui-messagepreview","mail-ui-sendconfirmview-base","mail-service-uploader-v1","mail-service-uploader-v2","uploader-flash","mail-service-uploader-yui","mail-service-uploader-form","mail-service-uploader-utils","uploader-html5","mail-ui-empty-search","mail-ui-sendconfirm-capthcaut","mail-ui-convpane-read","mail-ui-captcha-controller","mail-ui-captcha-view","mail-ui-rteview","comms-ui-lozenge","comms-utils","ac-widget","common-ui-menu-helper","mail-ui-mailpane-next-prev","comms-lozenge-address","comms-lozenge","mail-ui-pane-utils"],"contacts":["contacts-ui-addcontact-add","contacts-ui-addcontact-confirm","contacts-ui-addcontactdialog","contacts-ui-choosecontactdialog","contacts-ui-contact-popup","contacts-ui-createlistdialog","contacts-ui-createlistdialog-view","contacts-ui-createlistdialog-confirm","contacts-ui-addcontact-controller","comms-utils","common-ui-menu-helper"],"openmail":["om-controller-addremoveapp","om-controller-compose","om-controller-internalapi","om-ui-views-lightbox","om-ui-messagepane-sandbox-controller","om-ui-sandbox-messageread","om-ui-sandbox-datastore","om-ui-sandbox-view","om-ui-sandbox-utils","om-api-mail","om-ui-composeview","om-ui-sendconfirm","om-ui-mailcompose-header","om-ui-autosuggest","mail-ui-mailcompose-base-header","comms-ui-lozenge","comms-utils","ac-widget","mail-controller-compose","mail-controller-compose-text","mail-ui-fullcompose","mail-ui-mailcompose","mail-ui-rteview","mail-ui-composeview-attach","mail-service-uploader-utils","om-api-message","mail-ui-authorview-base","mail-ui-sendconfirm-capthcaut","mail-ui-sendconfirmview-base","comms-lozenge-address","comms-lozenge"],"search":["mail-ui-search-refinements","mail-ui-itemlist-base","mail-ui-search-base","mail-ui-searchutils","mail-ui-bulk-progress","mail-ui-search-model","mail-ui-mailSearchController","mail-ui-searchListController","mail-ui-searchListView","mail-ui-advancedSearchController","mail-ui-advancedSearchView","mail-ui-searchGroupsController","mail-ui-dmsearch-controller","mail-ui-dmsearch-model","mail-ui-searchGroupsView","ac-widget","comms-utils"],"postlaunch_jp":["mail-ui-workspace-base-jp","mail-ui-accordion-base-jp","mail-ui-message-timedalertdialog-jp","contacts-ui-addcontact-add-jp","mail-ui-folderevents-jp","mail-ui-leftcolumn-contactmenu-base-jp","mail-ui-common-calendar-jp","mail-ui-themes-jp","contacts-ui-addcontact-add","mail-ui-folderevents","common-ui-menu-helper"],"compose_jp":["mail-ui-composeview-base-jp","mail-ui-sendconfirmview-base-jp","mail-common-ybox-uploader-jp"],"subcompose":["mail-ui-authorview-base","ac-widget","comms-lozenge","comms-ui-lozenge","comms-utils","comms-lozenge-address","comms-lozenge-edit","comms-ui-editable-overlay-plugin","mail-model-send","mail-controller-compose","mail-controller-sendconfirm","mail-ui-fullcompose","mail-ui-mailcompose","mail-ui-mailcompose-base-header","mail-controller-compose-text","mail-ui-rteview","mail-ui-composeview-attach","mail-service-uploader-utils"]};var P={"postlaunch_strings":{"path":"intl/js/postlaunch/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js"},"calendar_strings":{"path":"intl/js/calendar/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"compose_strings":{"path":"intl/js/compose/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"contacts_strings":{"path":"intl/js/contacts/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"openmail_strings":{"path":"intl/js/openmail/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"search_strings":{"path":"intl/js/search/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"postlaunch_jp_strings":{"path":"intl/js/postlaunch_jp/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"compose_jp_strings":{"path":"intl/js/compose_jp/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings","subcompose_strings"]},"subcompose_strings":{"path":"intl/js/subcompose/lang_"+NeoConfig.lang+NeoConfig.buildSuffix+".js","requires":["postlaunch_strings"]}};
C.mix(C.comps,P);for(var G in D){var H=D[G];for(var O=0;O<H.length;O++){var J=H[O];var T=C.comps[J];if(T){if(!T.requires){T.requires=[];}T.requires.push(G+"_strings");}}}M();function M(){var Z,Y,V,a;if(NeoConfig.convMods){for(var X in NeoConfig.convMods){V=X.split("$");Z=NeoConfig.convMods[X];Y=C.comps[V[1]];if(Y&&Z){if(V[0]=="PATH"){Y["path"]=Z;}else{if(V[0]=="REQ"){a=Z.split("$");if(a[0]===""){Y["requires"].push(a[1]);}else{for(var W=0;W<Y["requires"].length;W++){if(Y["requires"][W]==a[0]){Y["requires"][W]=a[1];break;}}}}}}}}}var F,L="",N=0,K=0,E=1,B=0,I=NeoConfig.reducedUrlLength||255,U=NeoConfig.urlLength||2000,R={mail:{name:"mail",comboBase:YUI_config.groups.mailMods.comboBase,root:YUI_config.groups.mailMods.root,base:YUI_config.groups.mailMods.base,combine:true,modules:C.comps,origin:NeoConfig.originPath}};S();function S(){(B++>2)&&(B<7)&&E++;F=(NeoConfig.yloaderTimeout||7500)*E;if(NeoConfig.low_bandwidth){F=F*2+2;}}function Q(){var Z,c,X,f,b,g,V,e=NeoConfig.retryOriginPerc,Y=0,W=[],d=window,a=d.globals||{};d.globals=a;Z=a.failures={};e||(e===0)||(e=101);V=Math.random()*100<e;return c=function(i,l,o,j){var w,y,u=i.Env,s=YUI.Env.mods,n=u._loader,p=n.moduleInfo,x=n.groups,h=i.common.Utils.rocketstats;m.errorFn=1;j=i.clone(j);q(j);if(w&&w.type=="js"&&!w.noRegister){Z[w.name]=Z[w.name]||0;Z[w.name]++;h.stat("loader","modfailure_"+w.name+"_"+e+"_"+V);if(!L){L=w.name;K++;}N++;if(U==I){(F<61000)&&(F*=2);}else{w=0;}U=I;y={timeout:F,maxURLLength:U};i._config(y);if(w){V?v(w,t):t(2);return;}}t(Y++<5?1:2);function m(){r("edge");S();try{l&&l.apply(this,arguments);}catch(z){}k(0,1);}function r(z){L&&h.stat("loader",z+"success_"+L+"_"+K);N&&h.stat("loader",z+"retries"+"_"+e+"_"+V,N);L="";N=0;}function k(AA,z){if(g&&(z==2)){b=g+10000-new Date().getTime();if(b>0){X=X||setTimeout(k,b);}if(X){return;}}else{X&&(z==1)&&clearTimeout(X);X=0;}setTimeout(function(){g=new Date().getTime();if(f=W.shift()){f.Y.use.apply(f.Y,f.a);}},0);}function t(z){(l&&l.errorFn)?j.push(l):j.push(m);W.push({Y:i,a:j});k(0,z);}function q(){var AA,z,AB=0;while(AA=j[AB++]){if(!s[AA]){w=p[AA];w||h.stat("loader","nomodinfo_"+AA);if(w){if(w.type=="js"){if(!w.noRegister){return;}z=w;YUI.add(AA);}z=z||w;}}}w=z;}function v(AD,AA){var AF,AG,z,AC,AH=AD.fullpath,AB=AD.name,AE=F/4;if(!AH){if(AG=x[AD.group]){if(!(AF=AG.origin)){h.stat("loader","no_origin_"+AD.group);if((AF=AG.root)&&(AF.indexOf("nq/")==0)){AF="neo/"+AF.substring(3);}if(AF.indexOf("f=/n/")==0){AF="neo/"+AF.substring(5);}if(AF.length<3){h.stat("loader","invalid_origin_"+AB);AA(2);return;}}}else{AF="yui3/build/";}AH=location.protocol+"//"+location.host+"/"+AF+AD.path;}if(i.UA.webkit){AH+="?.rand="+new Date().getTime();}z={autopurge:true,timeout:AE,onSuccess:function(){if(!AC&&s[AB]){AC=1;r("origin");AA(1);}else{this.onFailure();}},onFailure:function(){if(!AC){AC=1;AA(2);}}};z.onTimeout=z.onFailure;i.Get.script(AH,z);}};}delete C.Env._loader.rollups;C._config({requireRegistration:true,loadErrorFn:Q(),timeout:F,maxURLLength:U,groups:R});});},"1.0.0");

YUI.add("mail-templates",function(B){var A={mailTmpl:{name:"mailTmpl",comboBase:YUI_config.groups.mailMods.comboBase,root:YUI_config.groups.mailMods.root+"templates/js/",base:YUI_config.groups.mailMods.base+"templates/js/",combine:true,modules:{"_shared_module_calendar_dialog_add_event_mail_rollup":{"path":"_shared/module/calendar/dialog/add-event-mail_rollup_5259.js"},"_shared_module_carousel_carousel":{"path":"_shared/module/carousel/carousel_5259.js","requires":["_shared_module_carousel_carousel_item","_shared_module_carousel_carousel_stationery_item"]},"_shared_module_carousel_carousel_item":{"path":"_shared/module/carousel/carousel-item_5259.js"},"_shared_module_carousel_carousel_stationery_item":{"path":"_shared/module/carousel/carousel-stationery-item_5259.js"},"_shared_module_compose":{"path":"_shared/module/compose_5259.js","requires":["_shared_module_compose_message_header","_shared_module_rte_well","_shared_module_compose_message_body"]},"_shared_module_compose_loading":{"path":"_shared/module/compose/loading_5259.js"},"_shared_module_compose_message_body":{"path":"_shared/module/compose/message-body_5259.js","requires":["_shared_module_message_loading_error"]},"_shared_module_compose_message_header":{"path":"_shared/module/compose/message-header_5259.js"},"_shared_module_compose_reply":{"path":"_shared/module/compose/reply_5259.js"},"_shared_module_compose_title":{"path":"_shared/module/compose/title_5259.js"},"_shared_module_contact_card_confirm":{"path":"_shared/module/contact/card-confirm_5259.js","requires":["_shared_module_contact_fragments_photo","_shared_module_contact_fragments_activity","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info"]},"_shared_module_contact_card_email":{"path":"_shared/module/contact/card-email_5259.js","requires":["_shared_module_contact_fragments_dl_email"]},"_shared_module_contact_card_email_rollup":{"path":"_shared/module/contact/card-email_rollup_5259.js"},"_shared_module_contact_card_lg":{"path":"_shared/module/contact/card-lg_5259.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_follow","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info"]},"_shared_module_contact_card_md":{"path":"_shared/module/contact/card-md_5259.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info","_shared_module_contact_fragments_follow"]},"_shared_module_contact_card_sm":{"path":"_shared/module/contact/card-sm_5259.js","requires":["_shared_module_contact_fragments_activity","_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name","_shared_module_contact_fragments_info","_shared_module_contact_fragments_follow"]},"_shared_module_contact_fragments_activity":{"path":"_shared/module/contact/fragments/activity_5259.js"},"_shared_module_contact_fragments_dl_email":{"path":"_shared/module/contact/fragments/dl/email_5259.js"},"_shared_module_contact_fragments_dl_mobile":{"path":"_shared/module/contact/fragments/dl/mobile_5259.js"},"_shared_module_contact_fragments_dl_yim":{"path":"_shared/module/contact/fragments/dl/yim_5259.js"},"_shared_module_contact_fragments_follow":{"path":"_shared/module/contact/fragments/follow_5259.js"},"_shared_module_contact_fragments_info":{"path":"_shared/module/contact/fragments/info_5259.js","requires":["_shared_module_contact_fragments_dl_email","_shared_module_contact_fragments_dl_yim","_shared_module_contact_fragments_dl_mobile"]},"_shared_module_contact_fragments_name":{"path":"_shared/module/contact/fragments/name_5259.js"},"_shared_module_contact_fragments_photo":{"path":"_shared/module/contact/fragments/photo_5259.js"},"_shared_module_contacts_list_jp_contact":{"path":"_shared/module/contacts-list/jp/contact_5259.js"},"_shared_module_contacts_list_jp_contacts_list":{"path":"_shared/module/contacts-list/jp/contacts-list_5259.js"},"_shared_module_conversation_fragments_conversation_history":{"path":"_shared/module/conversation/fragments/conversation-history_5259.js","requires":["_shared_module_conversation_fragments_conversation_timestamp","_shared_module_conversation_fragments_history"]},"_shared_module_conversation_fragments_conversation_timestamp":{"path":"_shared/module/conversation/fragments/conversation-timestamp_5259.js"},"_shared_module_conversation_fragments_history":{"path":"_shared/module/conversation/fragments/history_5259.js","requires":["_shared_module_conversation_fragments_msg"]},"_shared_module_conversation_fragments_msg":{"path":"_shared/module/conversation/fragments/msg_5259.js"},"_shared_module_folder_empty_rollup":{"path":"_shared/module/folder-empty_rollup_5259.js"},"_shared_module_message_attachments":{"path":"_shared/module/message/attachments_5259.js"},"_shared_module_message_blocked":{"path":"_shared/module/message/blocked_5259.js"},"_shared_module_message_display":{"path":"_shared/module/message-display_5259.js","requires":["_shared_module_message_blocked","_shared_module_message_inlineattachment","_shared_module_conversation_fragments_conversation_history","_shared_module_message_loading_error","_shared_module_message_truncated","_shared_module_message_photos","_shared_module_message_attachments","_shared_module_message_header"]},"_shared_module_message_display_rollup":{"path":"_shared/module/message-display_rollup_5259.js"},"_shared_module_message_header":{"path":"_shared/module/message-header_5259.js","requires":["_shared_module_message_header_attachments","_shared_module_message_header_from","_shared_module_message_header_to","_shared_module_message_header_cc","_shared_module_message_header_bcc","_shared_module_message_header_participants","_shared_module_message_header_with","_shared_module_updates_ycw"]},"_shared_module_message_header_attachments":{"path":"_shared/module/message-header/attachments_5259.js"},"_shared_module_message_header_bcc":{"path":"_shared/module/message-header/bcc_5259.js"},"_shared_module_message_header_cc":{"path":"_shared/module/message-header/cc_5259.js"},"_shared_module_message_header_from":{"path":"_shared/module/message-header/from_5259.js"},"_shared_module_message_header_participants":{"path":"_shared/module/message-header/participants_5259.js"},"_shared_module_message_header_to":{"path":"_shared/module/message-header/to_5259.js"},"_shared_module_message_header_with":{"path":"_shared/module/message-header/with_5259.js"},"_shared_module_message_inlineattachment":{"path":"_shared/module/message/inlineattachment_5259.js"},"_shared_module_message_list_refresh_rollup":{"path":"_shared/module/message-list-refresh_rollup_5259.js"},"_shared_module_message_list_rollup":{"path":"_shared/module/message-list_rollup_5259.js"},"_shared_module_message_list_threaded_rollup":{"path":"_shared/module/message-list-threaded_rollup_5259.js"},"_shared_module_message_loading_error":{"path":"_shared/module/message/loading-error_5259.js"},"_shared_module_message_norton_logo":{"path":"_shared/module/message/norton-logo_5259.js"},"_shared_module_message_pane":{"path":"_shared/module/message-pane_5259.js","requires":["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_message_display"]},"_shared_module_message_photos":{"path":"_shared/module/message/photos_5259.js"},"_shared_module_message_prompt":{"path":"_shared/module/message/prompt_5259.js"},"_shared_module_message_truncated":{"path":"_shared/module/message/truncated_5259.js"},"_shared_module_offscreen_bin_compose":{"path":"_shared/module/offscreen-bin/compose_5259.js"},"_shared_module_offscreen_bin_compose_jp_menu_spell_langs":{"path":"_shared/module/offscreen-bin/compose/jp/menu-spell-langs_5259.js"},"_shared_module_offscreen_bin_compose_menu_color_picker":{"path":"_shared/module/offscreen-bin/compose/menu-color-picker_5259.js"},"_shared_module_offscreen_bin_compose_menu_list":{"path":"_shared/module/offscreen-bin/compose/menu-list_5259.js"},"_shared_module_offscreen_bin_compose_menu_spell_langs":{"path":"_shared/module/offscreen-bin/compose/menu-spell-langs_5259.js"},"_shared_module_offscreen_bin_compose_menu_spellcheck":{"path":"_shared/module/offscreen-bin/compose/menu-spellcheck_5259.js"},"_shared_module_offscreen_bin_compose_menu_text_align":{"path":"_shared/module/offscreen-bin/compose/menu-text-align_5259.js"},"_shared_module_offscreen_bin_compose_modal_cancel_compose":{"path":"_shared/module/offscreen-bin/compose/modal-cancel-compose_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_compose_modal_check_spelling_rollup":{"path":"_shared/module/offscreen-bin/compose/modal-check-spelling_rollup_5259.js"},"_shared_module_offscreen_bin_contacts_lists_create_list_confirmation":{"path":"_shared/module/offscreen-bin/contacts/lists/create-list-confirmation_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_ok"]},"_shared_module_offscreen_bin_contacts_menu_contact_compact_compose":{"path":"_shared/module/offscreen-bin/contacts/menu-contact-compact-compose_5259.js","requires":["_shared_module_contact_fragments_photo","_shared_module_contact_fragments_name"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-bd_5259.js","requires":["minty_module_contacts_edit_error","minty_module_contacts_edit_name","minty_module_contacts_edit_basics_emails","minty_module_contacts_edit_basics_ims","minty_module_contacts_edit_basics_phones"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-ft_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontact-hd_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-bd_5259.js","requires":["_shared_module_contact_card_confirm"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-ft_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_done"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontactconfirm_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/fragments/modal-kiosk-addcontactconfirm-hd_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_fragments_modal_kiosk_addcontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/jp/fragments/modal-kiosk-addcontact-bd_5259.js","requires":["minty_module_contacts_edit_error","minty_module_contacts_edit_name","minty_module_contacts_edit_basics_jp_emails","minty_module_contacts_edit_basics_jp_ims"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_modal_kiosk_addcontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/jp/modal-kiosk-addcontact_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_jp_fragments_modal_kiosk_addcontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_count":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-count_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_filter":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-filter_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-bd_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-hd_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_loading":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-loading_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name-error_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error_strings"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name_error_strings":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/addlist-pane-name-error-strings_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-bd_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_choose_filter","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_loading","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_pane_name","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_addlist_count","_shared_module_offscreen_bin_modal_toast_saving"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-ft_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/fragments/modal-kiosk-addlist-hd_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_modal_kiosk_addlist":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add-list/modal-kiosk-addlist_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_list_fragments_modal_kiosk_addlist_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_add_modal_kiosk_addcontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-add/modal-kiosk-addcontact_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_add_fragments_modal_kiosk_addcontact_ft"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_count":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-count_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_filter":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-filter_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_look_for":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-look-for_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_bd"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-bd_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-hd_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_loading":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/choose-pane-loading_5259.js"},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_bd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-bd_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_filter","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_look_for","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_pane_loading","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_choose_count"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_ft":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-ft_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_hd":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/fragments/modal-kiosk-choosecontact-hd_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_contacts_modal_kiosk_choose_modal_kiosk_choosecontact":{"path":"_shared/module/offscreen-bin/contacts/modal-kiosk-choose/modal-kiosk-choosecontact_5259.js","requires":["_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_hd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_bd","_shared_module_offscreen_bin_contacts_modal_kiosk_choose_fragments_modal_kiosk_choosecontact_ft"]},"_shared_module_offscreen_bin_inbox":{"path":"_shared/module/offscreen-bin/inbox_5259.js","requires":["_shared_module_offscreen_bin_menus_actions","_shared_module_offscreen_bin_menus_actions_fresh","_shared_module_offscreen_bin_menus_thread_list","_shared_module_offscreen_bin_menus_msg_actions","_shared_module_offscreen_bin_menus_compose","_shared_module_offscreen_bin_modal_attach_download","_shared_module_offscreen_bin_menus_tab_overflow","_shared_module_offscreen_bin_modal_set_encodings","_shared_module_offscreen_bin_menus_conv_actions","_shared_module_offscreen_bin_menus_bubble_actions","_shared_module_offscreen_bin_menus_conv_reply","_shared_module_offscreen_bin_menus_message_list_preview","_shared_module_offscreen_bin_menus_message_list_switcher","_shared_module_offscreen_bin_menus_message_list_sortby","_shared_module_offscreen_bin_menus_message_list_cbox_select","_shared_module_offscreen_bin_menus_message_list_count","_shared_module_offscreen_bin_menus_thread_item_options"]},"_shared_module_offscreen_bin_jp_cal_allday":{"path":"_shared/module/offscreen-bin/jp/cal-allday_5259.js"},"_shared_module_offscreen_bin_jp_cal_day":{"path":"_shared/module/offscreen-bin/jp/cal-day_5259.js"},"_shared_module_offscreen_bin_jp_cal_hour":{"path":"_shared/module/offscreen-bin/jp/cal-hour_5259.js"},"_shared_module_offscreen_bin_jp_cal_limit":{"path":"_shared/module/offscreen-bin/jp/cal-limit_5259.js","requires":["_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day","_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day"]},"_shared_module_offscreen_bin_jp_cal_minute":{"path":"_shared/module/offscreen-bin/jp/cal-minute_5259.js"},"_shared_module_offscreen_bin_jp_cal_month":{"path":"_shared/module/offscreen-bin/jp/cal-month_5259.js"},"_shared_module_offscreen_bin_jp_cal_task_status":{"path":"_shared/module/offscreen-bin/jp/cal-task-status_5259.js"},"_shared_module_offscreen_bin_jp_cal_term_hour":{"path":"_shared/module/offscreen-bin/jp/cal-term-hour_5259.js"},"_shared_module_offscreen_bin_jp_cal_term_minute":{"path":"_shared/module/offscreen-bin/jp/cal-term-minute_5259.js"},"_shared_module_offscreen_bin_jp_cal_year":{"path":"_shared/module/offscreen-bin/jp/cal-year_5259.js"},"_shared_module_offscreen_bin_jp_glass":{"path":"_shared/module/offscreen-bin/jp/glass_5259.js"},"_shared_module_offscreen_bin_jp_modal_attach_download_rollup":{"path":"_shared/module/offscreen-bin/jp/modal-attach-download_rollup_5259.js"},"_shared_module_offscreen_bin_jp_modal_event":{"path":"_shared/module/offscreen-bin/jp/modal-event_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_delete","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_jp_cal_year","_shared_module_offscreen_bin_jp_cal_month","_shared_module_offscreen_bin_jp_cal_day","_shared_module_offscreen_bin_jp_cal_hour","_shared_module_offscreen_bin_jp_cal_minute","_shared_module_offscreen_bin_jp_cal_allday","_shared_module_offscreen_bin_jp_cal_term_hour","_shared_module_offscreen_bin_jp_cal_term_minute","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_jp_modal_kiosk_mail_preview_rollup":{"path":"_shared/module/offscreen-bin/jp/modal-kiosk-mail-preview_rollup_5259.js"},"_shared_module_offscreen_bin_jp_modal_set_encodings":{"path":"_shared/module/offscreen-bin/jp/modal-set-encodings_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btns_done_cancel"]},"_shared_module_offscreen_bin_jp_modal_task":{"path":"_shared/module/offscreen-bin/jp/modal-task_5259.js","requires":["_shared_module_offscreen_bin_jp_cal_limit","_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_delete","_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_jp_cal_task_status","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_menus_actions":{"path":"_shared/module/offscreen-bin/menus/actions_5259.js"},"_shared_module_offscreen_bin_menus_actions_fresh":{"path":"_shared/module/offscreen-bin/menus/actions-fresh_5259.js"},"_shared_module_offscreen_bin_menus_att_external_links":{"path":"_shared/module/offscreen-bin/menus/att-external-links_5259.js"},"_shared_module_offscreen_bin_menus_bubble_actions":{"path":"_shared/module/offscreen-bin/menus/bubble-actions_5259.js"},"_shared_module_offscreen_bin_menus_compose":{"path":"_shared/module/offscreen-bin/menus/compose_5259.js"},"_shared_module_offscreen_bin_menus_compose_attach":{"path":"_shared/module/offscreen-bin/menus/compose-attach_5259.js"},"_shared_module_offscreen_bin_menus_compose_rollup":{"path":"_shared/module/offscreen-bin/menus/compose_rollup_5259.js"},"_shared_module_offscreen_bin_menus_conv_actions":{"path":"_shared/module/offscreen-bin/menus/conv-actions_5259.js"},"_shared_module_offscreen_bin_menus_conv_reply":{"path":"_shared/module/offscreen-bin/menus/conv-reply_5259.js"},"_shared_module_offscreen_bin_menus_debug":{"path":"_shared/module/offscreen-bin/menus/debug_5259.js"},"_shared_module_offscreen_bin_menus_external_links":{"path":"_shared/module/offscreen-bin/menus/external-links_5259.js"},"_shared_module_offscreen_bin_menus_help":{"path":"_shared/module/offscreen-bin/menus/help_5259.js"},"_shared_module_offscreen_bin_menus_jp_contact":{"path":"_shared/module/offscreen-bin/menus/jp/contact_5259.js"},"_shared_module_offscreen_bin_menus_jp_option":{"path":"_shared/module/offscreen-bin/menus/jp/option_5259.js"},"_shared_module_offscreen_bin_menus_loading":{"path":"_shared/module/offscreen-bin/menus/loading_5259.js"},"_shared_module_offscreen_bin_menus_message_list_cbox_select":{"path":"_shared/module/offscreen-bin/menus/message-list-cbox-select_5259.js"},"_shared_module_offscreen_bin_menus_message_list_count":{"path":"_shared/module/offscreen-bin/menus/message-list-count_5259.js"},"_shared_module_offscreen_bin_menus_message_list_preview":{"path":"_shared/module/offscreen-bin/menus/message-list-preview_5259.js"},"_shared_module_offscreen_bin_menus_message_list_sortby":{"path":"_shared/module/offscreen-bin/menus/message-list-sortby_5259.js"},"_shared_module_offscreen_bin_menus_message_list_switcher":{"path":"_shared/module/offscreen-bin/menus/message-list-switcher_5259.js"},"_shared_module_offscreen_bin_menus_msg_actions":{"path":"_shared/module/offscreen-bin/menus/msg-actions_5259.js"},"_shared_module_offscreen_bin_menus_mts_external_links":{"path":"_shared/module/offscreen-bin/menus/mts-external-links_5259.js"},"_shared_module_offscreen_bin_menus_openmail_extension":{"path":"_shared/module/offscreen-bin/menus/openmail-extension_5259.js"},"_shared_module_offscreen_bin_menus_options":{"path":"_shared/module/offscreen-bin/menus/options_5259.js"},"_shared_module_offscreen_bin_menus_ovi_account":{"path":"_shared/module/offscreen-bin/menus/ovi-account_5259.js"},"_shared_module_offscreen_bin_menus_ovi_support":{"path":"_shared/module/offscreen-bin/menus/ovi-support_5259.js"},"_shared_module_offscreen_bin_menus_sbc_external_links":{"path":"_shared/module/offscreen-bin/menus/sbc-external-links_5259.js"},"_shared_module_offscreen_bin_menus_tab_overflow":{"path":"_shared/module/offscreen-bin/menus/tab-overflow_5259.js"},"_shared_module_offscreen_bin_menus_thread_list":{"path":"_shared/module/offscreen-bin/menus/thread-list_5259.js"},"_shared_module_offscreen_bin_menus_uh_account":{"path":"_shared/module/offscreen-bin/menus/uh-account_5259.js"},"_shared_module_offscreen_bin_modal":{"path":"_shared/module/offscreen-bin/modal_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon"]},"_shared_module_offscreen_bin_modal_attach_download":{"path":"_shared/module/offscreen-bin/modal-attach-download_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_message_norton_logo","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_attach_download_rollup":{"path":"_shared/module/offscreen-bin/modal-attach-download_rollup_5259.js"},"_shared_module_offscreen_bin_modal_btn_cancel":{"path":"_shared/module/offscreen-bin/modal-btn-cancel_5259.js"},"_shared_module_offscreen_bin_modal_btn_continue":{"path":"_shared/module/offscreen-bin/modal-btn-continue_5259.js"},"_shared_module_offscreen_bin_modal_btn_delete":{"path":"_shared/module/offscreen-bin/modal-btn-delete_5259.js"},"_shared_module_offscreen_bin_modal_btn_done":{"path":"_shared/module/offscreen-bin/modal-btn-done_5259.js"},"_shared_module_offscreen_bin_modal_btn_generic":{"path":"_shared/module/offscreen-bin/modal-btn-generic_5259.js"},"_shared_module_offscreen_bin_modal_btn_ok":{"path":"_shared/module/offscreen-bin/modal-btn-ok_5259.js"},"_shared_module_offscreen_bin_modal_btn_save":{"path":"_shared/module/offscreen-bin/modal-btn-save_5259.js"},"_shared_module_offscreen_bin_modal_btns_done_cancel":{"path":"_shared/module/offscreen-bin/modal-btns-done-cancel_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_done","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_btns_ok_cancel":{"path":"_shared/module/offscreen-bin/modal-btns-ok-cancel_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_ok","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_close_icon":{"path":"_shared/module/offscreen-bin/modal-close-icon_5259.js"},"_shared_module_offscreen_bin_modal_colors_rollup":{"path":"_shared/module/offscreen-bin/modal-colors_rollup_5259.js"},"_shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup":{"path":"_shared/module/offscreen-bin/modal-kiosk-mail-preview_rollup_5259.js"},"_shared_module_offscreen_bin_modal_launch_error_rollup":{"path":"_shared/module/offscreen-bin/modal-launch-error_rollup_5259.js"},"_shared_module_offscreen_bin_modal_preview_rollup":{"path":"_shared/module/offscreen-bin/modal-preview_rollup_5259.js"},"_shared_module_offscreen_bin_modal_quick_filters":{"path":"_shared/module/offscreen-bin/modal-quick-filters_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btn_save","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_offscreen_bin_modal_set_encodings":{"path":"_shared/module/offscreen-bin/modal-set-encodings_5259.js","requires":["_shared_module_offscreen_bin_modal_close_icon","_shared_module_offscreen_bin_modal_btns_done_cancel"]},"_shared_module_offscreen_bin_modal_shortcuts_rollup":{"path":"_shared/module/offscreen-bin/modal-shortcuts_rollup_5259.js"},"_shared_module_offscreen_bin_modal_toast_saving":{"path":"_shared/module/offscreen-bin/modal-toast-saving_5259.js"},"_shared_module_offscreen_bin_modal_upsell_rollup":{"path":"_shared/module/offscreen-bin/modal-upsell_rollup_5259.js"},"_shared_module_offscreen_bin_print_print_rollup":{"path":"_shared/module/offscreen-bin/print/print_rollup_5259.js"},"_shared_module_offscreen_bin_progress_bar":{"path":"_shared/module/offscreen-bin/progress-bar_5259.js"},"_shared_module_offscreen_bin_renamer":{"path":"_shared/module/offscreen-bin/renamer_5259.js"},"_shared_module_offscreen_bin_shell_navigation_newfolder_body_rollup":{"path":"_shared/module/offscreen-bin/shell-navigation/newfolder/body_rollup_5259.js"},"_shared_module_offscreen_bin_shell_navigation_newfolder_header_rollup":{"path":"_shared/module/offscreen-bin/shell-navigation/newfolder/header_rollup_5259.js"},"_shared_module_open_mail_application_content":{"path":"_shared/module/open-mail/application-content_5259.js"},"_shared_module_open_mail_application_dialog":{"path":"_shared/module/open-mail/application-dialog_5259.js"},"_shared_module_open_mail_application_hidden":{"path":"_shared/module/open-mail/application-hidden_5259.js"},"_shared_module_open_mail_application_lightbox":{"path":"_shared/module/open-mail/application-lightbox_5259.js"},"_shared_module_open_mail_application_list":{"path":"_shared/module/open-mail/application-list_5259.js"},"_shared_module_open_mail_application_list_menu":{"path":"_shared/module/open-mail/application-list-menu_5259.js"},"_shared_module_open_mail_application_messagepane":{"path":"_shared/module/open-mail/application-messagepane_5259.js"},"_shared_module_open_mail_application_overlay":{"path":"_shared/module/open-mail/application-overlay_5259.js"},"_shared_module_open_mail_application_panel":{"path":"_shared/module/open-mail/application-panel_5259.js"},"_shared_module_open_mail_application_pod":{"path":"_shared/module/open-mail/application-pod_5259.js"},"_shared_module_open_mail_application_simple":{"path":"_shared/module/open-mail/application-simple_5259.js"},"_shared_module_open_mail_legal_dialog":{"path":"_shared/module/open-mail/legal-dialog_5259.js"},"_shared_module_open_mail_webservice_container":{"path":"_shared/module/open-mail/webservice-container_5259.js"},"_shared_module_rte_well":{"path":"_shared/module/rte-well_5259.js","requires":["_shared_module_rte_well_tabs_compose","_shared_module_rte_well_tabs_conversation","_shared_module_rte_well_tabs_sms","_shared_module_rte_well_content_emoticons","_shared_module_rte_well_content_format","_shared_module_rte_well_content_rich_text_switch","_shared_module_rte_well_content_attachments"]},"_shared_module_rte_well_content_attach_item":{"path":"_shared/module/rte-well/content/attach-item_5259.js"},"_shared_module_rte_well_content_attachments":{"path":"_shared/module/rte-well/content/attachments_5259.js","requires":["_shared_module_rte_well_content_attach_item","_shared_module_rte_well_content_file_count"]},"_shared_module_rte_well_content_emoticons":{"path":"_shared/module/rte-well/content/emoticons_5259.js"},"_shared_module_rte_well_content_file_count":{"path":"_shared/module/rte-well/content/file-count_5259.js","requires":["_shared_module_message_norton_logo"]},"_shared_module_rte_well_content_format":{"path":"_shared/module/rte-well/content/format_5259.js"},"_shared_module_rte_well_content_jp_emoticons":{"path":"_shared/module/rte-well/content/jp/emoticons_5259.js"},"_shared_module_rte_well_content_rich_text_switch":{"path":"_shared/module/rte-well/content/rich-text-switch_5259.js"},"_shared_module_rte_well_content_stationery":{"path":"_shared/module/rte-well/content/stationery_5259.js","requires":["_shared_module_carousel_carousel"]},"_shared_module_rte_well_tabs_compose":{"path":"_shared/module/rte-well/tabs/compose_5259.js"},"_shared_module_rte_well_tabs_conversation":{"path":"_shared/module/rte-well/tabs/conversation_5259.js"},"_shared_module_rte_well_tabs_sms":{"path":"_shared/module/rte-well/tabs/sms_5259.js"},"_shared_module_search_empty_rollup":{"path":"_shared/module/search-empty_rollup_5259.js"},"_shared_module_search_non_snippet_rollup":{"path":"_shared/module/search-non-snippet_rollup_5259.js"},"_shared_module_search_not_narrowed":{"path":"_shared/module/search/not-narrowed_5259.js"},"_shared_module_search_rollup":{"path":"_shared/module/search_rollup_5259.js"},"_shared_module_search_simple_rollup":{"path":"_shared/module/search-simple_rollup_5259.js"},"_shared_module_send_confirm_captcha":{"path":"_shared/module/send-confirm/captcha_5259.js","requires":["_shared_module_offscreen_bin_modal_btn_continue","_shared_module_offscreen_bin_modal_btn_cancel"]},"_shared_module_send_confirm_captcha_blocked":{"path":"_shared/module/send-confirm/captcha-blocked_5259.js"},"_shared_module_send_confirm_jp_captcha_rollup":{"path":"_shared/module/send-confirm/jp/captcha_rollup_5259.js"},"_shared_module_send_confirm_recipients_rollup":{"path":"_shared/module/send-confirm/recipients_rollup_5259.js"},"_shared_module_send_confirm_rollup":{"path":"_shared/module/send-confirm_rollup_5259.js"},"_shared_module_shell_navigation_search_rollup":{"path":"_shared/module/shell-navigation/search_rollup_5259.js"},"_shared_module_thread_loading_error":{"path":"_shared/module/thread/loading-error_5259.js"},"_shared_module_thread_thread_display":{"path":"_shared/module/thread/thread-display_5259.js","requires":["_shared_module_thread_loading_error","_shared_module_thread_thread_item_header","_shared_module_thread_thread_item_body","_shared_module_thread_thread_header"]},"_shared_module_thread_thread_display_rollup":{"path":"_shared/module/thread/thread-display_rollup_5259.js"},"_shared_module_thread_thread_header":{"path":"_shared/module/thread/thread-header_5259.js"},"_shared_module_thread_thread_item_attachments":{"path":"_shared/module/thread/thread-item/attachments_5259.js","requires":["_shared_module_message_photos","_shared_module_message_attachments"]},"_shared_module_thread_thread_item_body":{"path":"_shared/module/thread/thread-item/body_5259.js","requires":["_shared_module_message_blocked","_shared_module_message_loading_error","_shared_module_thread_thread_item_attachments","_shared_module_rte_well_content_attach_item"]},"_shared_module_thread_thread_item_header":{"path":"_shared/module/thread/thread-item/header_5259.js"},"_shared_module_thread_thread_pane":{"path":"_shared/module/thread/thread-pane_5259.js","requires":["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_thread_thread_display"]},"_shared_module_toolbar_compose":{"path":"_shared/module/toolbar/compose_5259.js"},"_shared_module_toolbar_jp_compose":{"path":"_shared/module/toolbar/jp/compose_5259.js"},"_shared_module_updates_ycw":{"path":"_shared/module/updates/ycw_5259.js"},"_shared_module_whats_new_pod_rollup":{"path":"_shared/module/whats-new/pod_rollup_5259.js"},"minty_module_comm_modes":{"path":"minty/module/comm-modes_5259.js"},"minty_module_contacts_edit_basics_emails":{"path":"minty/module/contacts/edit/basics/emails_5259.js","requires":["minty_module_contacts_edit_select_lists_emails"]},"minty_module_contacts_edit_basics_ims":{"path":"minty/module/contacts/edit/basics/ims_5259.js","requires":["minty_module_contacts_edit_select_lists_ims"]},"minty_module_contacts_edit_basics_jp_emails":{"path":"minty/module/contacts/edit/basics/jp/emails_5259.js"},"minty_module_contacts_edit_basics_jp_ims":{"path":"minty/module/contacts/edit/basics/jp/ims_5259.js"},"minty_module_contacts_edit_basics_phones":{"path":"minty/module/contacts/edit/basics/phones_5259.js","requires":["minty_module_contacts_edit_select_lists_phones"]},"minty_module_contacts_edit_error":{"path":"minty/module/contacts/edit/error_5259.js"},"minty_module_contacts_edit_name":{"path":"minty/module/contacts/edit/name_5259.js"},"minty_module_contacts_edit_select_lists_emails":{"path":"minty/module/contacts/edit/select-lists/emails_5259.js"},"minty_module_contacts_edit_select_lists_ims":{"path":"minty/module/contacts/edit/select-lists/ims_5259.js"},"minty_module_contacts_edit_select_lists_phones":{"path":"minty/module/contacts/edit/select-lists/phones_5259.js"},"minty_module_jp_accordion_title":{"path":"minty/module/jp/accordion-title_5259.js"},"minty_module_jp_alert_mbox_alert":{"path":"minty/module/jp/alert-mbox-alert_5259.js"},"minty_module_jp_alert_mbox_error":{"path":"minty/module/jp/alert-mbox-error_5259.js"},"minty_module_jp_alert_mbox_slimfast":{"path":"minty/module/jp/alert-mbox-slimfast_5259.js"},"minty_module_jp_dummy_header":{"path":"minty/module/jp/dummy-header_5259.js"},"minty_module_jp_quota":{"path":"minty/module/jp/quota_5259.js"},"minty_module_jp_truncate":{"path":"minty/module/jp/truncate_5259.js"},"minty_module_jp_unread_message_folderlist":{"path":"minty/module/jp/unread-message-folderlist_5259.js"},"minty_module_list_view_ad_search":{"path":"minty/module/list-view-ad/search_5259.js"},"minty_module_shell_navigation_updates_rollup":{"path":"minty/module/shell-navigation/updates_rollup_5259.js"},"minty_module_static_themes_js":{"path":"minty/module/static/themes-js_5259.js"},"minty_module_tabs_tab_removable":{"path":"minty/module/tabs/tab-removable_5259.js"},"minty_module_toolbar_fragments_message_filter":{"path":"minty/module/toolbar/fragments/message-filter_5259.js"},"minty_module_toolbar_inbox":{"path":"minty/module/toolbar/inbox_5259.js"},"minty_module_toolbar_inbox_conversation_rollup":{"path":"minty/module/toolbar/inbox/conversation_rollup_5259.js"},"minty_module_toolbar_inbox_conversation_thread_rollup":{"path":"minty/module/toolbar/inbox/conversation-thread_rollup_5259.js"},"minty_module_toolbar_inbox_default_fresh_rollup":{"path":"minty/module/toolbar/inbox/default-fresh_rollup_5259.js"},"minty_module_toolbar_inbox_default_rollup":{"path":"minty/module/toolbar/inbox/default_rollup_5259.js"},"minty_module_toolbar_inbox_default_thread_rollup":{"path":"minty/module/toolbar/inbox/default-thread_rollup_5259.js"},"minty_module_toolbar_inbox_drafts_rollup":{"path":"minty/module/toolbar/inbox/drafts_rollup_5259.js"},"minty_module_toolbar_inbox_drafts_thread_rollup":{"path":"minty/module/toolbar/inbox/drafts-thread_rollup_5259.js"},"minty_module_toolbar_inbox_jp_default_rollup":{"path":"minty/module/toolbar/inbox/jp/default_rollup_5259.js"},"minty_module_toolbar_inbox_jp_drafts_rollup":{"path":"minty/module/toolbar/inbox/jp/drafts_rollup_5259.js"},"minty_module_toolbar_inbox_jp_message":{"path":"minty/module/toolbar/inbox/jp/message_5259.js"},"minty_module_toolbar_inbox_jp_search_rollup":{"path":"minty/module/toolbar/inbox/jp/search_rollup_5259.js"},"minty_module_toolbar_inbox_jp_sent_rollup":{"path":"minty/module/toolbar/inbox/jp/sent_rollup_5259.js"},"minty_module_toolbar_inbox_jp_spam_rollup":{"path":"minty/module/toolbar/inbox/jp/spam_rollup_5259.js"},"minty_module_toolbar_inbox_message":{"path":"minty/module/toolbar/inbox/message_5259.js"},"minty_module_toolbar_inbox_message_thread":{"path":"minty/module/toolbar/inbox/message-thread_5259.js","requires":["minty_module_toolbar_fragments_message_filter"]},"minty_module_toolbar_inbox_search_rollup":{"path":"minty/module/toolbar/inbox/search_rollup_5259.js"},"minty_module_toolbar_inbox_search_thread_rollup":{"path":"minty/module/toolbar/inbox/search-thread_rollup_5259.js"},"minty_module_toolbar_inbox_sent_msg_rollup":{"path":"minty/module/toolbar/inbox/sent-msg_rollup_5259.js"},"minty_module_toolbar_inbox_sent_msg_thread_rollup":{"path":"minty/module/toolbar/inbox/sent-msg-thread_rollup_5259.js"},"minty_module_toolbar_inbox_sent_rollup":{"path":"minty/module/toolbar/inbox/sent_rollup_5259.js"},"minty_module_toolbar_inbox_sent_thread_rollup":{"path":"minty/module/toolbar/inbox/sent-thread_rollup_5259.js"},"minty_module_toolbar_inbox_spam_rollup":{"path":"minty/module/toolbar/inbox/spam_rollup_5259.js"},"minty_module_toolbar_inbox_spam_thread_rollup":{"path":"minty/module/toolbar/inbox/spam-thread_rollup_5259.js"},"minty_module_toolbar_updates":{"path":"minty/module/toolbar/updates_5259.js"}}}};
if(B.Env._loader){B.Env._loader._config({groups:A});}else{B._config({groups:A});}},"1.0.0");

YUI.add("common-net-diag",function(A){A.namespace("common.net");A.common.net.Diag=function(){var U=A.common,V=U.Utils,O=U.net.Status,S={},Y={},K={},Z,B=NeoConfig.chkStaleReq||30000,E,W=V.traceMsg,J=V.rocketstats,N='<span style="font-weight:bold">',T="</span>";function I(){return new Date().getTime();}function G(b){function a(){var d,c;if((d=S[b])&&!d.end){c=I()-d.start;if(c>B){d.stale=true;W(["Session stale : ",b,":",d.key,"stale for",c," ms"].join(" "));P("stalecheck");}}}A.later(B,null,a);}function X(b,a){if(!Y[b]){Y[b]=[];}Y[b].push(a);}function D(){var c,b=arguments[0],e=Y["net:"+b],d="",a="",f,g=[];for(c=1;c<arguments.length;c++){g.push(arguments[c]);}for(c=0;e&&c<e.length;c++){if(f=e[c].apply(null,g)){d+=(f.log&&(f.log+";"))||"";a+=(f.dbgui&&(f.dbgui+";"))||"";}}return{log:d,dbgui:a};}function M(c,h,a){var g=c.id,e=D("start",c,h,a),b=h.method||((h.service||"")+c.request.url.match(/\/[^\/]*\?+/)),d=e.log,f=e.dbgui||"";S[g]={id:g,key:b,desc:[f],start:c.start||I(),args:h&&h.args};P("start");G(g);W(["net [start] id:",g,b,"desc:",f,d].join(" "));}function C(a,g){var c=S[a.id],e=D("complete",a,g),f=e.dbgui,d="",b=e.log||"";if(c){c.end=a.end||I();g.method&&F("net","RespTime_"+g.method,d=(c.end-c.start));f.length&&c.desc.push(f);}P("complete");W(["net [complete] id:",c.id,c.key,"time :",d,b].join(" "));}function H(b,d,a){var c=S[b.id];if(c){c.end=b.end||I();c.aborted=true;c.timedout=a;P("abort");W(["net [aborted] id: "+b.id,"timeout: ",a,c?(c.end-c.start):-1,D("abort",b,d,a).log].join(" "));}}function R(c,b){var a=b.status,h=c.id,f=D("end",c,b),e=S[h],g=f.dbgui,d=f.log;if(e){g.length&&e.desc.push(g);P("done");if(a!=O.abort&&O!=O.xhr){W(["net [done] id:"+h,"total: "+(e.end?e.end-e.start:-1),"msecs http: "+b.status,d].join(" "));}}}function F(){J&&J.stat.apply(J,arguments);}function P(g){if(Z){var k='<span style="color:red">Open sessions : </span>',e=0,l,m,c,d,f,j=[],b=[],a=[],h,n;for(m in S){n=S[m];n.done=n.end||n.abort;if(n.done){b.push(m);}else{a.push(m);}}while(b.length&&((b.length+a.length)>10)){delete S[b[0]];b.shift();}for(m in S){n=S[m];d=(n.stale&&('<span style="color:red">'+(!n.end?"STALE":(n.aborted?(n.timedout?"TIMEDOUT":"ABORTED"):"DONE"))+"</span>"))||(!n.end&&"OPEN");l=["<br/>","[",n.id,"]",'<span style="color:blue">'+n.key+"</span>",d||"",n.desc.join("<br/>"),n.end?["<br/>client :",N,(n.end-n.start),T,"ms"].join(" "):""].join(" ");j.push(l);}j.reverse();Z.setBody(k+a.length+j.join(""));}}function Q(){if(Z){return;}A.use("common-ui-diagpanel",function(){Z=new A.common.ui.DiagPanel({},function(){Z=null;});P("panelopen");});}A.on("net:start",M);A.on("net:complete",C);A.on("net:abort",H);A.on("net:end",R);var L={addLogger:X,showSessions:Q,addStat:F};return L;}();},"1.0.0",{requires:["common-net-session","rocket-stats","common-utils"]});

YUI.add("common-net-session",function(C){C.namespace("common.net");var E=C.Lang,a=C.common.Utils,c=C.common.net,T=c.Status={},G=0,b=C.config.win||window,B=typeof XMLHttpRequest!=="undefined",j=(C.config&&C.config.net)?C.config.net.XMLHttpRequest:window.XMLHttpRequest,V,f="GET",N,L=[],M="net:exc",h="net:start",S="net:complete",g="net:abort",i="net:end",I="net:idle",e=0;function d(k){try{C.fire.apply(C,k);}catch(Y){a.assert(0);C.use("common-utils-error",function(){a.error.report("netsession error",Y,1,1);});}}function O(){return new Date().getTime();}function H(){try{return B?new j:new ActiveXObject("Microsoft.XMLHTTP");}catch(Y){}return;}function Q(Y){if(Y._timeoutid){b.clearTimeout(Y._timeoutid);Y._timeoutid=V;}}function U(Y){try{var k=Y._conn;if(k&&B){k.onreadystatechange=V;}}catch(l){}Y._conn=V;}function K(Y,m,l){var n,k=Y.match(/\?([\w\W])*/);k=k&&k[0]?(k[0].length>1?"&":""):"?";n=X(m,l);return[Y,n.length?k:"",n].join("");}function X(m,n){var s,r,o,q,Y,p,k=[],l=W(m,n);for(s in m){p=l[s];Y=p?encodeURIComponent(s):s;r=m[s];if(E.isArray(r)){for(o=0,q=r.length;o<q;o++){k.push([Y,p?encodeURIComponent(r[o]):r[o]].join("="));}}else{k.push([Y,p?encodeURIComponent(m[s]):m[s]].join("="));}}return k.join("&");}function W(m,l){if(E.isObject(l)){return l;}var k={},Y;if(l!==false){for(Y in m){k[Y]=1;}}return k;}function R(m){if(E.isString(m)){var l=this.responseHeaders,k=m.toLowerCase(),Y;for(Y in l){if(Y.toLowerCase()==k){return l[Y];}}}return V;}function J(u){function o(y,w){var z=w;try{z=l[y];}catch(x){}return z;}var n,v={},p=0,s,Y,l=u._conn,m=l.status==1223,k,r,q;try{n={status:m?204:l.status,statusText:m?"No Content":o("statusText",""),callback:u._callback,request:u.request,responseHeaders:"",allHeadersText:"",getResponseHeader:R,responseText:o("responseText"),responseXML:o("responseXML"),id:u.id};k=l.getAllResponseHeaders();q=k.split("\n");s=q.length;while(s--){r=q[p++];Y=r.indexOf(":");if(Y!=-1){v[r.substring(0,Y)]=r.substring(Y+2);}}n.responseHeaders=v;n.allHeadersText=k;}catch(t){}return n;}function D(r,Y,o){var n,l=r._conn,m,k="unknown",q=o&&(o.name==M)&&o.code,p=-1;try{if(Y){m=Y.timeout?T.timeout:T.abort;k="abort";}else{if(l){p=l.readyState;}if(p<=3){m=q;k="readyState."+p;}else{n=J(r);}}}catch(q){}if(!n){n={status:m||T.xhr,statusText:k,responseText:(o&&o.message)||V,callback:r._callback,request:r.request,getResponseHeader:R,id:r.id};}return n;}function P(Y){a.assert(Y._conn.readyState);if(Y._conn.readyState===4){Q(Y);Y.end=O();d([S,Y,Y._callback]);F(Y);}}function A(k,m,o){function l(){d([i,k,m]);U(k);m=V;e--;if(!e){d([I,1]);}}var Y=k._callback||{},n=o?Y.success:Y.failure;n?n.call(Y.scope,k,m,l):l();}function F(Y,n){var l=0,k,p,m=Y._conn;try{l=(m&&m.status)||0;}catch(o){a.assert(0);}p=!n&&(l>=200&&l<300||l==1223);k=p?J(Y):D(Y,n);A(Y,k,p);}c.Session=function(k,q,Y,n,m,p){var o=this,l;Y=Y?Y.toUpperCase():f;l=Y==f;o.request={url:k,urlparams:(l?n||{}:{}),post:(!l?n:V),mthd:Y,enc:W(n,m),headers:{}};o._callback=q;if(!p&&p!==0){o.id=G;}else{o.id=p;}++G;};var Z=c.Session;Z.formatQueryParams=X;Z.suspendRequests=function(Y){N=Y;};Z.resumeRequests=function(){N=V;while(L.length){L[0].send();L.splice(0,1);}};Z.isIdle=function(){return e==0;};Z.prototype={_callback:{},_conn:V,tries:0,_timeoutid:V,start:0,end:0,addUrlParam:function(Y,m,l){var k=this.request,n=k.urlparams;n[Y]=m;if(l!==false){k.enc[Y]=1;}},send:function(){var m=this,l=m.request,r=m._callback||{},p=l.mthd,Y=l.url,s,q,o,k;if(N){L.push(m);return;}m.abort();try{m.tries++;Y=K(Y,l.urlparams,l.enc);if(!r.cache&&Y.indexOf("&r=")==-1){Y+=((Y.indexOf("?")==-1)?"?":"&")+"r="+(l.rand=(new Date()).getTime());}if(Y.length>=2048){throw {name:M,code:T.maxsize};}m._conn=H();s=m._conn;q=l.post;l.postdata=q=E.isFunction(q)?q():q;s.open(p,Y,true);m.applyHeaders();s.onreadystatechange=function(){if(m._conn){P(m);}};o=r.timeout;if(o){m._timeoutid=b.setTimeout(function(){m.abort(true);},o);}m.end=0;m.start=O();d([h,m,r,Y]);s.send(q||"");if(!e){d([I,0]);}e++;}catch(n){k=D(m,V,n);b.setTimeout(function(){A(m,k);},0);}},setHeader:function(Y,k){this.request.headers[Y]=k;},getHeaders:function(){var Y=[],l,k=this.request.headers;for(l in k){Y.push([l,k[l]].join("="));}return Y.join(";");},applyHeaders:function(){var m,l=this,Y=l._conn,k=l.request.headers;if(Y){a.assert(!a.isEmpty(k));for(m in k){Y.setRequestHeader(m,k[m]);}if(C.config&&C.config.net){Y.setRequestHeader("Cookie",C.config.net.cookie);}}},abort:function(Y){var l,k=this._conn;if(k){l=this;if(k.readyState!==4&&k.readyState!==0){Q(l);U(l);k.abort();d([g,l,l._callback,Y]);F(l,{timeout:Y});}}}};C.mix(T,{timeout:-1,xhr:-2,maxsize:-3,abort:-4});},"1.0.0",{requires:["event-custom","common-utils"]});

YUI.add("common-net-sessionmgr",function(B){var A=B.common.net;A.SessionMgr=function(){var U=A.Session,G=B.Lang,E=B.JSON,S=A.Error,K=NeoConfig.wssid,P,M=[],C="net:success",H="net:failure",Z="net:suspended",D="net:resumed";function R(f,d,b,a,c){var e;if(f){e={code:f,message:d,detail:b,host:c,subcode:a};}return e;}function N(b){var a=b.responseText||"",c;a=a.replace(/<!--?(.*)?-->[\r\n]*$/,"");try{b.body=E.parse(a);}catch(d){c=S.parse;b.fault=R(c,(d.message||"")+" Response parse failed.",{respTxt:a});}}function W(a,b){var c=J.validate[a];if(c){c(b);}else{b.body=b.responseXML||b.responseText;}}function T(d,f){var c,b=0,e,a=f.callback;c=S.getErrType(d,f);if(c){if(c==S.conn){b=2;}e=c==S.abort||c==S.timeout||c==S.login||c.indexOf(S.send)==0;f.fault={code:c};}else{W(a.responseType,f);}if(a.formatter){a.formatter(d,f);}a.retries=e?0:(G.isNumber(a.retries)?a.retries:b);}function Y(d){var c=d.allHeadersText||"",b=d.responseText,a;if(c.indexOf("Content-Type: text/html")>-1||((/^<html/i.test(b)||/^<!doctype html/i.test(b))&&(/<\/html>[\s]*$/i.test(b)||/<\/html>[\s]*[\r\n]*<!--?(.*)?-->[\r\n]*$/i.test(b)))){if(/<\/html>[\s]*$/i.test(b)){a="External";}else{if(/<\/html>[\s]*[\r\n]*<!--?(.*)?-->[\r\n]*$/i.test(b)){a="Internal";}else{a="Unknown";}}return a;}}function L(a){a.fault=R(S.unknown);}function Q(b){function a(){var c=this;c.success=c.failure=F;c.scope=J;}a.prototype=b;a.prototype.constructor=a;return new a();}function O(a){return a.constructor.prototype;}function F(f,i,d){var b=i,m=i.callback,n,j=i.status,g,h,k,a;function c(){if(a=n&&n.failure){a.call(h,b,g,f);}d();X();}try{T(f,b);if(b.fault&&(f.tries<=m.retries)){B.later(500,null,function(){f.send();});return true;}if(j!=200&&!b.fault){L(b);}n=b.callback=O(m);if(n){g=n.args;h=n.scope;}if(!b.fault){B.fire(C,b);k=n&&n.success;if(k){k.call(h,b,g,f);d();X();}}else{if(j==A.Status.abort){c();}else{B.fire(H,f,b);S._handle(f,b,c);}}}catch(l){}}function I(a){M.push(a);}function X(){if(!P&&M.length){var a=M.shift();if(a&&a.send){a.send();}else{X();}}}function V(d,c){var g=c.data||"",a,h={},b,f=null,e;c=c||{};a=c.on||{};g=c.data||"";b=c.method||"GET";h.service=c.service;h.scope=c.context;h.timeout=c.timeout;h.args=c.args;if(a.success){h.success=function(i,j){a.success(0,i,j);};}if(a.failure){h.failure=function(i,j){a.failure(0,i,j);};}h.responseType=c.responseType||"json";h.suppressCodes=c.suppressCodes||["*"];e=(G.isUndefined(c.sync))?true:!c.sync;return J.request(d,g,h,b,f,e);}var J={request:function(a,c,i,h,d,g){var b,e,f;i=i||{};if(!i.args){i.args={};}f=Q(i);if(NeoConfig.disableFullSSL&&NeoConfig.userOptedIntoSSL&&!NeoConfig.isFullSSL&&(a.indexOf("/ws/mail")>-1||a.indexOf("/showMessage")>-1||a.indexOf("/mailsearch/v2/search")>-1)){if(a.indexOf("?")>-1){a+="&ssl=ignore";}else{a+="?ssl=ignore";}}b=new A.Session(a,f,h,c,d);b.setHeader("Content-Type","application/"+(f.responseType||"json"));if(K&&!i.suppressWssid){b.addUrlParam("wssid",K,false);}b.callbackData=i.args;if(g){if(P||M.length){I(b);}else{b.send();}}else{e=b.send;b.send=function(){var j=this;j.send=e;if(P||M.length){I(j);}else{e.apply(j);}};}return b;},requestProxy:V,formatQueryParams:function(b,a){return U.formatQueryParams(b,a);},getWssid:function(){return K;},setWssid:function(c){K=c;for(var b=0,a=M.length;b<a;b++){M[b].addUrlParam("wssid",K,false);}},makeFaultObject:R,validate:{"json":N},isHtml:Y,suspend:function(a){P=a;B.fire(Z,a);},resume:function(){P=0;X();B.fire(D);},queue:I,_qsize:function(){return M.length;},_qclear:function(){M=[];},pingTest:function(){B.common.Utils.rocketstats.stat("net","pingTest");}};return J;}();},"1.0.0",{requires:["event-custom-base","common-net-session","common-net-error-base","rocket-stats","json-parse"]});

YUI.add("common-net-error-base",function(B){B.namespace("common.net");var D=B.common,C=D.net,J=D.Utils,A="HTTPError.",I=C.Error=C.Error||{},G=[502,900,12007,12029,12030,12031,13030,0],E=I.handler=[];function F(K){for(var L=0;L<G.length;L++){if(K==G[L]){return true;}}}function H(L,K){K=K&&K.replace(/<br\/>/g,"\n").replace(/<p\/>/g,"\n");K&&window.alert(K);L&&L();}B.mix(I,{base:A,conn:A+"conn",ydod:A+"999",abort:"abort",timeout:"timeout",unknown:"unknown",login:"login",loginfail:"loginfail",parse:"parse",send:"xhrsend",wssid:"invalidwssid",isHttp:function(K){return/^HTTPError/.test(K);},isConn:function(K){return K=="HTTPError.conn";},isUnexpected:function(K,L){return(!F(K)&&I.isHttp(L)&&(K!=2)&&(K!=999)&&(K!=302));},getErrType:function(M,O){var L=O.status,N=C.Status,K,P;if(L!=200&&L!=500){if(L==N.xhr||L==N.maxsize){K=I.send+"."+O.statusText;}else{if(L==N.abort){K=I.abort;}else{if(L==N.timeout){K=I.timeout;}else{if(M.tries==1){P=(L==0||L==302)&&!D.UserSession.same();}K=P?I.login:(F(L)?I.conn:A+L);O.status=P?401:(L==0?13030:L);}}}}return K;},_fireHandlers:function(){arguments[arguments.length-1]();},_handle:function(){var K=arguments;B.use("common-net-error",function(){I._fireHandlers.apply(I,K);});},onError:function(L,M){var K;J.assert(L);if(M){if((K=B.Array.indexOf(E,L))!=-1){E.splice(K,1);}}else{E.push(L);K=1;}return(K>=0);},show:H,showAlert:H});},"1.0.0",{requires:["common-utils","common-user-session"]});

YUI.add("common-net-error",function(D){var L=3,c=D.common,a=c.UserSession,b=c.net,R=c.Utils,h=b.Session,V=b.SessionMgr,d=b.Status,j=b.Error,T=j.handler,k=R.substitute,I=c.persist.UserData,C=c.ui&&c.ui.DialogHelper,f=document.location.href,Q=k(strings.str_cfg_url_yahoo_relogin,null,null,null,strings),M=R.rocketstats,X,S={},i,N,F=null;function B(l,Y,o,n,m){n=n||{};D.mix(n,{hd:o||k(strings["str_error_title"],null,null,null,strings),bd:(m?Y:'<div class="dlg-error">'+Y+"</div>")});if(Y){R.assert(C);if(C){C.alert(n,{ok:{handler:l}});}else{j.showAlert(l,Y,o,n);}}else{l&&l();}}function G(l,n,Y,o,m){m=m||{};D.mix(m,{hd:o||k(strings["str_error_title"],null,null,null,strings),bd:'<div class="dlg-error">'+Y+"</div>"});if(Y){R.assert(C);if(C){C.confirm(m,{ok:{handler:l},cancel:{handler:n}});}else{j.showAlert(l,Y,o,m);}}else{l&&l();}}function e(n,Y,t){if(F){V.queue(n);return true;}var s,m=n.id,r,l=S[m]||0,q=Y.fault,o=n.status;function u(w){var v=w&&w.callback;if(w.id==m||(v&&!v.suppressWssid)){delete S[m];D.unsubscribe(s);}}try{if(l==0){s=D.on("net:success",u);}S[m]=++l;if(l==L){q.code=j.wssid;q.message=["wssid net :",V.getWssid(),"resp :",t].join(" ");U({msg:strings.str_error_wstoken,stat:"BadWssid"});return;}else{if(l>=L){M.stat("net","Reload_BadWssid_ignore",null,true);return true;}}if(t){r=a.getState();if(!r.newuser){V.setWssid(t);n.addUrlParam("wssid",t,false);n.send();}else{E();}}}catch(p){}return !!t;}function U(n){var m=n||{},Y=m.url||f,l=m.stat;l&&M.stat("net","Reload_"+l,null,true);B(function(){D.later(0,null,function(){if(Y){window.location=Y;}else{window.location.reload();}});},m.msg,0,{hideClose:true});}function Z(m){var Y,l=m.request;if(l.mthd=="GET"){Y=V.request(l.url,V.formatQueryParams(l.urlparams,l.enc),m.callback,"POST",l.enc);Y.send();return true;}return;}function H(m){var Y,n="us",l=m&&['"',strings["str_cfg_url_arc_help"]+"?token=",m,"&.intl=",n,"&property=abuse_ops",'"'].join("");Y=["<p class=userMessage >",strings["str_error_ydod_error"],".<br/>",l?strings["str_error_ydod_token_link"].replace("{linkURL}",l):"","</p>"].join("");B(null,Y,strings["str_error_ydod_title"]);}function E(){U({msg:k(strings.str_error_reload_user_change,{username:I.get("userSendPref.loggedInAlias")},null,null,strings),stat:"UserChange"});}window.reloginCallback=function(){F&&F.destroy();N=F=null;if(a.getState().newuser){D.later(0,null,E);}else{a.update();if(X){U({url:X,stat:"HostCorrection"});}else{V.resume();}}};function J(m,o,Y){if(F){m&&V.queue(m);return true;}function q(){if(N){N.close();}N=window.open(l,"_blank",NeoConfig.loginParams||"height=650,width=850,resizable,scrollbars=yes");}var s=o||{},l=Q+f.replace(/[^\/]+([?#]+|$)/,"relogin?"),r=k(strings.str_error_title,null,null,null,strings),p=s.stat||(m&&m.request.url.replace(/http:\/\/[^\/]*/,"")),n={hd:r,bd:'<div class="dlg-error">'+(s.msg||strings.str_error_relogin)+"</div>",suppressActive:true,maskId:"opaque-overlay",noScroll:true,hideClose:true,disableEsc:true};if(m&&m.id==i){R.assert(0,"cyclic login");if(Y&&Y.fault){Y.fault.code=j.loginfail;}M.stat("net","ReloginCyclic_"+p);R.netError("net:ReloginCyclic_"+[D.JSON.stringify(m.request),Y.responseText,m.id,i].join(" : "));return false;}X=s.url;R.assert(C);M.stat("net","Relogin_"+(p||"unk"));R.netError("net:Relogin"+[D.JSON.stringify(m.request),Y.responseText,m.id,i].join(" : "));if(C){C.alert(n,{ok:{handler:q,stopDestroy:true,text:strings.str_error_signin}},function(t){F=t;V.suspend("relogin");i=(m&&m.id)||-1;m&&V.queue(m);});}return true;}function P(Y,o,n){var l=o.responseHeaders,m=o.responseText||strings["str_error_Connect"];if(Y==302&&l&&l.Location){window.open(l.Location);}else{if(!n){W(Y,o,{message:m});}}}function W(m,p,q){function n(s,u){var t,r={success:function(w){u(w.responseText);},failure:function(){u(R.escapeHtml(s));},suppressCodes:["*"],timeout:10000},v="content="+encodeURIComponent(s)+"&restrictOff=true";t=V.request("/om/yiv/om_yiv.php",v,r,"POST");t.setHeader("Content-length",v.length);t.setHeader("Connection","close");t.send();}function l(u){var r,t=j.isConn(o),v=(q&&q.title&&k(q.title,null,null,null,strings))||k(strings["str_error_"+(t?"UnexpectedTitle":"MailErrorTitle")],p),s=s||strings["str_error_"+(t?"Connect":"MailUnexpectedResponse")];r=[k(s,null,null,null,strings)];u&&r.push("<div>"+u+"</div>");r=r.join("");B(null,r,v,(r.length>1000)&&{modal_classes:"lg",focusedNode:".default"},true);}var Y=q&&q.message,o=p.fault.code;if(j.isUnexpected(m,o)&&V.isHtml(p)){n(p.responseText,l);}else{l();}}function K(l){var Y=l.match(/[\&\?(amp;)>]wssid=([^<\&}\"]+)/i)||l.match(/^wssid=([^<\&}\"]+)/i)||l.match(/<WSSID>([\w\W]+)<\/WSSID>/i);return(Y&&Y[1]);}function O(n,l,m){var Y,o;for(Y=0;l&&Y<l.length;Y++){o=l[Y];if(o=="*"||m(o)){return false;}}for(Y=0;n&&Y<n.length;Y++){o=n[Y];if(o=="*"||m(o)){return true;}}}function g(u,p,n,l,r,s){var v=l.callback||{},Y,x,o,t=l.fault,m=t&&t.code,w=j.isConn(m),q=O(v.suppressCodes,v.exceptCodes,function(y){return p==y;});switch(p){case 402:Y=e(n,l,r);break;case 401:Y=J(n,r,l);s=false;break;case 310:Y=U(r);break;case 999:if(!q){H(r);}break;case d.maxsize:Y=Z(l);break;case d.abort:break;case 302:case 13030:P(p,l,q);break;case d.xhr:x=true;default:if(!q){W(p,l,r);}break;}if(s&&!Y){o=w?"E_HTTPConnect":(x?"E_XHR":"E_HTTP");M.stat("net",o);M.stat("net",[o,(v.service||"service"),(v.method||"method"),p,m].join("_"));}u.done(Y);}function A(p,m,l,o,r,n){var Y=o||l.status,q=r||(Y==402?K(l.responseText):(Y==999?null:l));g(p,Y,m,l,q,n);}j._fireHandlers=function(){var n,Y,m,o=new b.ErrorEvent(arguments,A,j),l=[o];for(n=0,Y=arguments.length-1;n<Y;n++){l.push(arguments[n]);}for(n=0;n<T.length;n++){if(o.isdone()||(m=T[n].apply(this,l))){break;}}if(!(o.isdone()||m===o.asyncval)){o.callDefault(null,null,1);}};D.mix(j,{relogin:J,show:B,showConfirm:G,suppress:O,_handle:function(){j._fireHandlers.apply(j,arguments);},_parseWssid:K},true);},"1.0.0",{requires:["common-net-error-base","common-net-errorevent","common-net-sessionmgr","common-ui-dialog-helper","json-stringify","rocket-stats","common-persist-user-data"]});


YUI.add("common-net-errorevent",function(C){C.namespace("common.net");var B=C.common.net;var A=function(D,F,E){var G=this;G.args=D;G._def=function(H){if(F){F.apply(E,H);}else{G.done();}};};A.prototype={async:function(D){var E=this;if(!E.timer){E.timer=C.later(NeoConfig.timerErrEv||10000,null,function(){if(!E.isdone()){if(D){D();}else{E.callDefault(null,null,1);}}});}return -1;},asyncval:-1,callDefault:function(H,I,G){var F,D,E,J=this;if(!J._h){E=J.args;D=[J];for(F=0;F<E.length-1;F++){D.push(E[F]);}D.push(H);D.push(I);D.push(!!G);J._def(D);}},isdone:function(){return this._h;},done:function(D){var E,F=this;F.timer&&F.timer.cancel();if(!F._h){F._h=true;F.retry=D;if(!D){E=F.args;E[E.length-1]();}}}};B.ErrorEvent=A;},"1.0.0",{requires:[]});

YUI.add("common-persist-neo-data",function(B){var A=B.namespace("common.persist");function C(D){var E={cookieDomain:{writeOnce:true},cookiePath:{writeOnce:true},cookieID:{writeOnce:true},servername:{writeOnce:true},farm:{writeOnce:true},wssid:{writeOnce:true},neoguid:{writeOnce:true},hasAds:{writeOnce:true},om:{writeOnce:true},global_url_base:{writeOnce:true},extraURLArgs:{writeOnce:true},mailnetQueue:{writeOnce:true}};this.addAttrs(E,D);}B.augment(C,B.Attribute);A.NeoData=new C(window.NeoConfig);},"1.0.0",{requires:["attribute"]});

YUI.add("common-persist-cookie-data",function(F){var E=F.namespace("common.persist");var G=E.NeoData;E.Cookies=[];var D="YM.NEO_"+G.get("cookieID");function B(H){H=H||D;if(E.Cookies[H]){return E.Cookies[H];}E.Cookies[H]=new A(H);return E.Cookies[H];}function C(H){H=H||D;F.Cookie.remove(H,{domain:G.get("cookieDomain"),path:G.get("cookiePath")});if(E.Cookies[H]){delete E.Cookies[H];}}function A(H){this.name=H;if(F.Cookie.get(this.name)===null){if(this.name!="T"&&this.name!="Y"){F.Cookie.set(this.name,"",this.getCookieArgs());}}else{var I=G.get("cookiePath");if(I&&I.length>2&&I[I.length-1]=="/"){I=I.slice(0,I.length-1);F.Cookie.remove(H,{domain:G.get("cookieDomain"),path:I});}}}A.prototype.getCookieArgs=function(){return{expires:new Date((new Date()).getTime()+(90*24*60*60*1000)),domain:G.get("cookieDomain"),path:G.get("cookiePath")};};A.prototype.set=function(H,I){return F.Cookie.setSub(this.name,H,I,this.getCookieArgs());};A.prototype.get=function(H){return F.Cookie.getSub(this.name,H,this.getCookieArgs());};A.prototype.remove=function(H){return F.Cookie.removeSub(this.name,H);};F.augment(A,F.Attribute);E.getCookie=B;E.removeCookie=C;if(NeoConfig.intl==="jp"){F.use("common-persist-cookie-data-jp",function(H){E.Cookie=E.CookieJp;E.getCookie=E.getCookieJp;E.removeCookie=E.removeCookieJp;});}},"1.0.0",{requires:["cookie","attribute","common-persist-neo-data"]});

YUI.add("common-persist-user-data",function(A){A.namespace("common.persist");function H(J){this.attributeConfig={userFeaturePref:{},userUIPref:{},userSpamPref:{},userVacationPref:{},userSendPref:{},userPopPref:{},externalAccounts:{},disposableAddresses:{},aliases:{},otherYahooMboxes:{},blockedAddresses:{},switches:{},parentalControls:{},filters:{},loaded:{value:false}};this.addAttrs(this.attributeConfig,J);if(J){this.set("loaded",true);}else{this.load();}}H.prototype.load=function(K){var J,L=this;A.mail.net.Transport.request("GetUserData",{bidiDetection:NeoConfig.bidi},{success:function(M){M=M.body.result.data;for(J in M){L.set(J,M[J]);}L.set("loaded",true);if(K){A.fire("uData:change",M);}},failure:function(){}},true);};H.prototype.update=function(J){if(A.mail.ui.Workspace){A.mail.ui.Workspace.moUpdate(J);}};H.prototype.saveOne=function(N){var J,M,L,K,P={},O=this.get(N);M=N.split(".");L=M.length-1;K=P;for(J=0;J<L;J++){K[M[J]]={};K=K[M[J]];}K[M[J]]=O;this.saveRequest(P);};H.prototype.save=function(){var M={},K,J,L=["userFeaturePref","userUIPref","userSpamPref","userVacationPref","userSendPref","userPopPref","blockedAddresses","switches","aliases"];for(J in L){K=L[J];if(K==="aliases"){M.alias=this.get("aliases.alias");}else{if(K==="userPopPref"){if(this.get(K+".popSetupEligible")){M[K]=this.get(K);}}else{M[K]=this.get(K);}}}this.saveRequest(M);};H.prototype.saveRequest=function(J){A.mail.net.Transport.request("SetUserData",{setdata:J},{success:function(){},failure:function(){}},true);};H.prototype.knownAddresses=null;function I(S){var R={},M=S.get("userSendPref.defaultFromAddress").toLowerCase(),O=S.get("externalAccounts.extAccount")||[],K=S.get("aliases.alias")||[],N=S.get("disposableAddresses").deaName||[],L=function(U){var T=U.address;if(T&&T!==""){R[T.toLowerCase()]=1;}},Q="Change",P="knownAddress|";function J(){S.knownAddresses=null;S.detach(P+"*");}R[M]=1;A.Array.each(O,L);A.Array.each(K,L);A.Array.each(N,L);S.after(P+"userSendPref"+Q,J);S.after(P+"externalAccounts"+Q,J);S.after(P+"aliases"+Q,J);S.after(P+"disposableAddresses"+Q,J);return R;}H.prototype.isUsersEmailAddress=function(J){var K=this;if(!K.knownAddresses){K.knownAddresses=I(K);}return K.knownAddresses[J.toLowerCase()];};A.augment(H,A.Attribute);if(NeoConfig.userDataObj){var F=NeoConfig.userDataObj.userSendPref,G=NeoConfig.userDataObj.externalAccounts,D=A.common.Utils.unescapeHtml;if(F){F.defaultFromName=D(F.defaultFromName);}if(G){var C=G.extAccount;if(C){var E=0,B=C.length;for(;E<B;E++){C[E].fromName=D(C[E].fromName);C[E].username=D(C[E].username);}}}}A.common.persist.UserData=new H(NeoConfig.userDataObj);},"1.0.0",{requires:["attribute","mail-net-transport","json","common-utils"]});

YUI.add("common-ui-tabs-base",function(F){var B=F.Node.one,D=F.Node.create,E=F.Lang,A=false;var C=new function(){var I=this,W="div.tabs ul",h="#shellcontent",T="active",N,b,j,M=[],p,R=F.ui.Templates.minty_module_tabs_tab_removable.base,V=F.common.Utils.substitute,Z=F.common.Utils.unescapeHtml,L=F.common.Utils.removeHtml,H=0,G=F.config.win||window,X=[219,221],o,Q=20,U=70,n="hidden",K,q;var Y=function(AD){var AM=this,y=F.guid(),AD=AD||{},AF=AD.label||"",AB=AD.url||"#",AL=AD.content||"",AA=AD.widget,AG=AD.forcePane,AN=AD.yTabEl||D(V(R,{tab_url:AB,tab_id:y,tab_label:AF},null,null,strings)),z=AN.one("a"),AE=AD.yTabContentEl||D('<div style="visibility:hidden;'+(H?"display:none;":"")+'" '+(!H&&F.UA.webkit?'class = "offscreen"':"")+">"+AL+"</div>"),AK={},AQ,AJ=F.one('#main[role="tabpanel"]'),AI;if(AD.yTabEl){y=AD.yTabEl.one("a").get("id");}if(AE&&AD.inactive){AE.setStyle("visibility","hidden");v(AE,false);AE.removeClass("hidden");}if(AA){AA.render(AE);}this.cfg=AD;this.elTab=AN;this.invisible=AD.invisible;this.reuse=AD.reuse;this.widget=AA;this.elContent=AE;this.noDefault=AD.noDefault?true:false;this.allowFullpage=!AD.forcePane;this.userClose=false;AM.addTabEl();if(AF){this.NAME=AF+" Tab";}if(!AD.yTabContentEl){j.appendChild(AE);}z.setAttrs({tabIndex:-1,"aria-selected":false});Y.superclass.constructor.call(AM);function AH(AT){var AR=AT.newVal;if(AR){if(!AM.widget&&AD.init){AT.halt(true);AD.init(AM,function(){if(AM.widget){AM.widget.render(AE);AM.set("widget",AM.widget);AM.set("active",1);}});return;}N=AM;AN.addClass(T);z.setAttrs({"aria-selected":true,tabIndex:0});try{AJ.set("aria-labelledby",z.get("id"));}catch(AS){}l(AM);F.fire("tabChange",AM.widget);}else{F.fire("tabBlur",{widget:AM.widget});if(F.UA.ie){if(!H){x();}AE.setStyle("display","none");}else{AE.setStyle("visibility","hidden");v(AE,false);}AN.removeClass(T);z.setAttrs({"aria-selected":false,tabIndex:-1});}}function AO(AR){if(AR.newVal==1){k(AM,{SwitchTab:(AM==N)});AN.hide();AE.hide();}}function x(AT){var AW,AV,AU,AS=AM.widget?AM.widget.scrolling||[]:[],AR=AS.length;for(AU=0;AU<AR;AU++){AW=AS[AU];AV=AE.test(AW)?AE:AE.one(AW);if(AV){AV=F.Node.getDOMNode(AV);if(AT){if(AK[AW]>0){AV.scrollTop=AK[AW];}}else{AK[AW]=AV.scrollTop;}}}}function u(AR){if(H&&!AR){F.UA.ie?setTimeout(function(){G.scrollTo(0,0);},0):G.scrollTo(0,0);}}function v(AS,AR){if(H){AS.setStyle("display",AR?"block":"none");}else{if(F.UA.webkit){AR?AS.removeClass("offscreen"):AS.addClass("offscreen");}}}function AP(AR){var AS=AN.one("a#"+y+" b")||AN.one("a.uc b")||AN.one("a#"+y)||AN.one("a.uc");if(AS&&E.trim(AS.get("text"))!=E.trim(AR)){AS.setContent(AR);var AT=AN.one("a#"+y)||AN.one("a.uc");titleUpdate=Z(L(AR));AT.setAttribute("title",titleUpdate);s(0,100);}AF=AR;AM.NAME=AF+" Tab";}function i(AS){var AR=AN.one("a#"+y)||AN.one("a.uc");AR&&AR.setAttribute("dir",AS);}AN.on("keydown",function(AR){if(AR.keyCode=="13"){m(AM);}});AN.on("mousedown",function(AR){AR.preventDefault();if(AM.get("active")!=1){m(AM);}},AM);AN.on("click",function(AR){AR.preventDefault();});var AC=AN.one("span");if(AC){AC.on("mousedown",function(AR){AR.halt();AM.set("close",1);},AM);}AM.after("closeChange",function(AS){var AT=AS.newVal,AR=AM.get("reuse");if(AT){if(AR){AN.addClass("hidden");AE.addClass("hidden");}else{AE.remove(true);AN.remove(true);AM.detachDarla();AM.detachAll();}k(AM,{SwitchTab:(AM==N)});}else{if(AR){AN.removeClass("hidden");AE.removeClass("hidden");}}s(0,1000);},AM);AM.on("activeChange",AH);AM.after("activeChange",function(AR){if(AR.newVal){if(F.UA.ie){if(!AQ&&AE.getStyle("visibility")=="hidden"){AE.setStyle("visibility","visible");AQ=1;}AE.setStyle("display","block");if(!H){x(1);}}else{AE.setStyle("visibility","visible");v(AE,true);}u(AR.noScroll);}});AM.on("unloadingChange",AO);AM.on("titleChange",function(AR){if(AR.oldVal!=AR.newVal){AP(AR.newVal);}});AM.on("closeHalted",function(AR){if(AM!=N){m(AM);}});AM.after("closeHalted",function(AR){F.use("common-ui-dialog-helper",function(AS){setTimeout(function(){var AT={hd:strings["str_modal_tabdeactivate_title"],bd:strings["str_modal_tabdeactivate_body"]},AU=function(){AM.set("forceClose",1);AM.set("reuse",0);AM.set("close",1);};AS.common.ui.DialogHelper.confirm(AT,{ok:{handler:AU},cancel:{}});},0);});});AM.before("widgetChange",function(AV){var AU=AV.newVal,AT=AV.prevVal,AS={},AW=false,AR=function(){var AX;F.detach(AM.widget._evt["widgetChange-Active"]);if(AW){AX=AU.get("rootNode");AX&&AX.removeClass("hidden");}else{AX=AM.widget.get("rootNode");AX&&AX.addClass("hidden");}AM.widget=null;AM.once("widgetChange",function(){AT.set("skipEvents.active-1",true);AU.set("active",1);if(!AW){AU.render(AM.elContent);}});AM.detachDarla();AM.set("widget",AU);};if(AM.widget&&AM.widget!=AU){AV.halt(true);AM.iterateChildren(function(AX){if(AX==AU){AW=true;}});if(!AW){AM.set("children",AM.get("children").concat([AU]));}if(AM.widget._evt["widgetChange-Active"]){F.detach(AM._evt["widgetChange-Active"]);}AM.widget._evt["widgetChange-Active"]=AM.widget.after("activeChange",AR);AS=AU.get("skipEvents");delete AS["active-1"];AU.set("skipEvents",AS);if(AM.widget.get("active")){AM.widget.set("active",0);}else{AR();}}else{AM.widget=AU;AM.widget.tab=AM;if(!AM.get("children").length){AM.set("children",[AU]);}}},AM);F.mix(AM,{widget:AA});AM.addAttrs({id:{value:y},title:{},direction:{setter:i},widget:{setter:function(AR){AM.attachDarla();}},children:{value:[AM.widget]}});};F.extend(Y,F.mail.ui.BaseWidget);F.mix(Y.prototype,{NAME:"Tab",addTabEl:function(){var i=this;if(!i.invisible&&!i.cfg.yTabEl){i.elTab.setStyle("visibility","hidden");b.insert(i.elTab,o);setTimeout(function(){i.elTab.setStyle("visibility","visible");},10);}},attachDarla:function(){var i=this;if(!i.darlaEvent&&i.widget){i.darlaEvent=i.widget.on("darlaEvent",function(v){v.beaconOnly=!i.widget.get("active");var u=NeoConfig;if(u.enableUltTest&&v.action){F.use("ult-tracker",function(){switch(v.action){case"folderview_inbox":var x=F.common.persist.UserData;F.fire("ult:trackPageParam",{t1:"inbxTab",t1pos:2,fp:u.fullPage,pp:x.get("userUIPref.msgPaneVisible"),mpp:x.get("userUIPref.messagesPerPage")});
break;case"msgread_reading_pane":case"message_tabpane":var y=v.currentTarget;if(y.fid==="Inbox"){F.fire("ult:trackClick",{t1:"inbxTab",t1pos:2,t2:"msgLst",t3:"msg",pp:v.action==="msgread_reading_pane"?true:false,t3pos:y.msgDetails?y.msgDetails.index+1:0});}break;}F.fire("darlaEvent",v);});}else{F.fire("darlaEvent",v);}});}},detachDarla:function(){var i=this;i.darlaEvent&&i.darlaEvent.detach();i.darlaEvent=null;}});function r(){b=B(W);j=B(h);b.plug(F.comms.ui.NodeFocusBase,{descendants:"a",keys:{next:"39",previous:"37"}});o=b.one(".tab-overflow");o.once("click",function(i){F.use("common-ui-tabs-overflow");i.preventDefault();});F.on("windowresize",function(){s(1);});F.on("pagemodeChange",function(i){d(i);});F.on("tabview:handleKeyDown",J);F.on("key",J,document,"down:"+X.join("+ctrl,")+"+ctrl",I);F.on("key",J,document,"down:"+X.join("+meta,")+"+meta",I);}function O(u,v){var i;if(u.tab){u.tab.addTabEl();u.tab.set("title",u.label);}v.label=u.label;i=P();v.prevTabId=i?i.get("id"):-1;if(u.widget&&u.widget!=v.get("widget")){v.set("widget",u.widget);}M.push(v);if(!u.yTabEl){s(0,((F.UA.ie==8||F.UA.ie==7)?100:0));}b.fire("refresh");v.fire("tab:add",{cfg:u,tab:v});}function e(i){return new Y(i);}function m(u,i){if(N==u||A){return;}if(!N||u.get("active")){N=u;if(!N.get("active")){N.set("active",1);}return;}if(N._evt["switchToTab-deactivateOldTab"]){F.detach(N._evt["switchToTab-deactivateOldTab"]);}N._evt["switchToTab-deactivateOldTab"]=N.after("activeChange",function(v){F.detach(N._evt["switchToTab-deactivateOldTab"]);if(v.newVal){return;}if(u._evt["switchToTab-activateNewTab"]){F.detach(u._evt["switchToTab-activateNewTab"]);}u._evt["switchToTab-activateNewTab"]=u.after("activeChange",function(){F.detach(u._evt["switchToTab-activateNewTab"]);A=false;i&&i(u);});F.fire("tabDeactivated",u);u.set("active",1);});A=true;N.set("active",0);}function k(y,AC){var AD=0,z,AB,x=y.get("id"),v,AA=y.get("active"),u,AE=y.prevTabId;while(z=M[AD++]){v=z.get("id");if(x===v){I.tabs=M=M.slice(0,AD-1).concat(M.slice(AD));AD--;continue;}if(v==AE){u=z;}}if(!u){AB=M.length-1;while(AB>0){if(M[AB]&&M[AB].noDefault){AB--;}else{break;}}u=M[AB]||M[0];}if(AC.SwitchTab){N=null;F.fire("tabDeactivated",u);m(u,function(){b.fire("refresh");});}}function f(u){var v=M.length;while(v--){w=M[v].widget||{};if(u(w,M[v])){return M[v];}}}function S(AA,AD){var AC,AB=M,v=AD?-1:AB.length,y=AD?AB.length-1:0,u=AD?-1:1,z=AB.length,x;for(x=y;x!=v;x+=u){if(AA(AB[x])){break;}}}function t(i){return(!i||!i.widget||!i.widget.get||i.widget.get("canDeactivate"));}function P(){return N;}function c(){var v,u;for(u=M.length;u--;){v=M[u];if(v&&v.get("active")){return u;}}return -1;}function J(y){var x=y.keyCode,v=y.metaKey,u=y.ctrlKey;function i(AA){var z=c();if(z!=-1){z=z+(AA?-1:1);if(z<0){z=M.length-1;}else{if(z>=M.length){z=0;}}}else{z=0;}y.halt();if(M[z]){m(M[z]);}}switch(x){case 219:if((v||u)&&!y.shiftKey&&!y.altKey){i(true);}break;case 221:if((v||u)&&!y.shiftKey&&!y.altKey){i(false);}break;}}function a(){r();}function d(u){var i=P();H=u;if(i){l(i);}}function l(v){var u=F.one("body"),x=H&&v.allowFullpage?"fullpage":"panescroll",i=u.hasClass("panescroll")?"panescroll":u.hasClass("fullpage")?"fullpage":"none";if(x!==i){if(i=="none"){F.one("body").addClass(x);}else{F.one("body").replaceClass(i,x);}}}function g(z){var y=F.one("div.tabs"),i=y.all("li").size()-1,x=F.one(".nav-bar").get("clientWidth"),z=z||parseInt(y.getStyle("paddingRight")),u=parseInt(y.getStyle("paddingLeft"))+z+10+Q,v=parseInt(Math.min((x-u)/i,160))-1;p={"tabCount":i,"totalPadding":u,"workingWidth":x-u,"width":v};}function s(i,u){u=u||0;if(K){K.cancel();}K=E.later(u,this,function(){K=0;F.use("stylesheet",function(y){var v=160,x=110;if(!p){g();}else{p.tabCount=M.length;if(i){p.workingWidth=y.one(".nav-bar").get("clientWidth")-p.totalPadding;}p.width=parseInt(Math.min(p.workingWidth/p.tabCount,v))-1;if(p.width<=x){o.removeClass(n);}else{o.addClass(n);}}y.StyleSheet("TR").set(".nav-bar .tabs li",{maxWidth:p.width+"px"});y.mail.Tabs.maxTabsReached=(p.width<U||(y.UA.ie==7&&M.length>14))?1:0;});});}F.augment(I,F.Attribute);F.mix(I,{render:a,createTab:e,addTab:O,switchToTab:m,removeTab:k,setPageMode:d,cfgTabResize:g,tabs:M,getTab:f,iterateTabs:S,getActiveTab:P,getActiveTabIndex:c,canDeactivateTab:t});}();F.namespace("mail");F.mail.Tabs=C;},"1.0.0",{requires:["mail-ui-basewidget","minty_module_tabs_tab_removable","comms-ui-nodefocus-base","common-utils"]});

YUI.add("common-ui-toolbar-base",function(G){G.Node.DOM_EVENTS.beforedeactivate=1;var A=strings["str_msg-view_btn_hidepreview"],D=strings["str_msg-view_btn_showpreview"],C;G.augment(E,G.Attribute);function E(J){var Q=this,O=0,S,U,H,T;J=J||{};S=J.root;U=J.template;H=J.menu;Q.root=S;Q.addAttrs({content:{value:S,getter:M},close:{setter:P},active:{}});if(S){K();V();}function V(){S.all(".btn a").each(function(W){W.setAttribute("role","button");});S.all(".menu a").each(function(W){W.setAttribute("aria-haspopup","true");});S.all(".btn a i").each(function(W){W.setAttribute("role","presentation");});}function I(W){var X=S?S.one("#btn-togglepreview a"):0;if(X){X.setContent(W?A:D);}}function M(){if(!S&&U){S=G.Node.create(G.common.Utils.substitute(U,0,0,0,strings));Q.root=S;Q.set("content",S);V();}if(!O){K();}return S||"&nbsp;";}function K(){if(S){G.on("toolbar:ui-automation",N);S.delegate("mousedown",function(X){if(G.UA.ie&&G.UA.ie<=8){document.activeElement&&G.one(document.activeElement).once("beforedeactivate",function(Y){Y.preventDefault();});}else{X.preventDefault();}},".btn a");S.on("click",function(a){a.preventDefault();if(!C){var b=G.common.Utils.getDataAction(a),Y=b.action,X=b.node,Z=a.target;R(Y,X,Z,a);C=setTimeout(function(){C=0;},300);}});Q.on("activeChange",function(X){if(X.newVal){G.fire("toolbar:refresh");}});var W=S?S.one("#btn-togglepreview a"):0;if(W){T=G.on("ws:previewChange",I);}O=1;}}function N(Y,W){var X;if(Q.get("active")&&Y=="menu"){X=S.one("#btn-"+W);if(X){if(!X.menu){R(Y,X);}else{if(X.menu.show&&Q.buttonEnabled({root:S,node:X})){Q.setNodeButtonMenu({node:X});X.menu.show();}}}}}function R(Y,X,Z,W){if(Y){if(Y=="menu"&&H&&Q.buttonEnabled({root:S,node:X})){if(!(X.menu)){G.use("common-ui-menu-helper",function(b){var a=b.common.ui.MenuHelper;a.createLoadingMenu(X);H.template.call(this,X.get("id"),function(){L(X);});});}(X.get("id")=="btn-actions"||X.get("id")=="btn-msg-actions")&&G.fire("darlaEvent",{action:"action_menu"});}else{Q.fire("itemSelected",{dataAction:Y,item:Z,rawEvent:W});}}}function L(W){G.use("common-ui-menu-helper",function(b){var a=W.get("id").replace("btn-","menu-"),Z=b.one("#"+a),X=b.common.ui.MenuHelper;X.create(W,{menu:Z,button_enabled:function(){return Q.buttonEnabled({root:S,node:W});},keys:function(Y){H.keys.call(this,Z,Y);},enterAccel:function(Y){H.enterAccel.call(this,Y);}},function(){var Y;Z.on("menuSelected",function(c){Q.fire("itemSelected",{dataAction:c.dataAction,item:c.item});});Z.on("menu:state",function(c){if(c.state=="show"&&Q.buttonEnabled({root:S,node:W})){Q.setNodeButtonMenu({node:W});W.addClass("pressed");}else{W.removeClass("pressed");}});W.addClass("pressed");Y=Q.on("activeChange",function(c){if(!c.newVal){W.menu&&W.menu.hide();W.unplug(b.Plugin.Menu);Y.detach();}});Q.setNodeButtonMenu({node:W});});});}function P(W){if(W){if(T){T.detach();}Q.detachAll();}}}function B(H){return true;}G.mix(E.prototype,{buttonEnabled:B,setNodeButtonMenu:B});G.namespace("mail.ui").Toolbar=E;var F=function(){var H=G.one("#toolbar");if(H){H.plug(G.comms.ui.NodeFocusBase,{descendants:"span.btn a",keys:{next:"39",previous:"37"}});G.on("toolbar:refresh",function(){H.fire("refresh");});}};G.mail.ui.ToolbarContainer=new F;},"1.0.0",{requires:["attribute","event-custom-base","common-utils","comms-ui-nodefocus-base"]});

YUI.add("common-ui-contentwidget",function(A){var C=0;var B=function(){},E={"input":1,"textarea":1,"select":1};var I=null;var G=function(J){if(J&&J.hasAttribute){try{if(!J.hasAttribute("tabIndex")){J.setAttribute("tabIndex","0");}}catch(K){}}return J;};var F=function(Q,K,P){var R=Q?Q.split(","):[],M=R?R.length:0,J,N={},O,L;for(J=0;J<M;J++){O=R[J].split("+");L=O[1];O=O[0];N[O]=1;if(L){P.push(R[J]);}else{K.push(O);}if(O>=48&&O<=57){K.push(parseInt(O)+48);}}if(N["46"]){K.push("8");}};var D=function(J){var K=this;if(!this.NAME){this.NAME="ContentWidget";}K.accelKeyHandle=[];K.accelLocalKeyHandle=[];A.augment(K,A.Attribute);K.addAttrs({"active":{setter:K._active},"reuse":{value:0},"close":{setter:K._close},"skipEvents":{value:{}},"contentToolbar":{setter:K._setContentToolbar},"parentNode":{},"rootNode":{setter:K._setRoot},"focus":{setter:K._setFocus},"dirty":{getter:K._getDirty},"children":{setter:K._setChildren,value:[]},"focusNode":{setter:G},"forceClose":{value:0},"canClose":{value:1,getter:K._canClose,setter:function(L){this._canCloseFlag=L;}},"forceDeactivate":{value:0},"canDeactivate":{value:1,getter:K._getCanDeactivate,setter:function(L){this._canDeactivateFlag=L;}},"title":{},"direction":{},"navToolbar":{},"navKeys":{},"charCodes":{},"localCharCodes":{},"handleKeysLocally":{}},J||{},true);K._evt={};K.before("closeChange",function(N){var L=N.newVal,M=K.get("active")||0;if(N.newVal&&!(K.get("forceClose")||K.get("canClose"))){K.fire("closeHalted");N.halt(true);return;}if(M==L&&!K.get("reuse")){N.halt(true);if(K._evt["deactivateB4Close"]){A.detach(K._evt["deactivateB4Close"]);}K._evt.deactivateB4Close=K.after("activeChange",function(O){K.set("close",L);});K.set("active",!L);}});K.on(["closeChange","reuseChange","activeChange","forceCloseChange","forceDeactivateChange"],function(S){var M=S.attrName,L=S.newVal,R=S.type,P=0,Q=K.get("children").length,O,N;if(K.get(M)==L){S.halt(true);return;}if(M=="active"&&!L&&!(K.get("forceDeactivate")||K.get("canDeactivate"))){if(K._evt["deactivateB4Close"]){A.detach(K._evt["deactivateB4Close"]);}K.fire("activeHalted");S.halt(true);return;}O=function(){if(P==Q&&K.get(M+"Flag")){if(N){if(K._evtAfterAction){A.detach(K._evtAfterAction);}K._evtAfterAction=K.after(R,function(){K.set(M+"Flag",0);});K.set(M,L);}else{K.set(M+"Flag",0);}}};K.set(M+"Flag",1);K.iterateChildren(function(U){var T=U.get("skipEvents."+M+"-"+(L&&1));if(U.get(M)!=L&&!T){if(U._myActionEvt){A.detach(U._myActionEvt);}U._myActionEvt=U.after(R,function(){P++;O();});U.set(M,L);}else{P++;}},K);if(K.get(M+"Flag")&&Q&&Q!=P){N=1;S.halt(true);return;}});K.after("closeChange",function(M){var L=function(N){N.detachAll();N.ondestroy();N=null;delete N;};if(M.newVal&&!K.get("reuse")){setTimeout(function(){try{K.iterateChildren(L);if(!K.parentCW){L(K);}}catch(N){}},500);}});K.after("activeChange",function(M){if(M.newVal){var L=K.get("contentToolbar");K.set("contentToolbar",L?L:"");L=K.get("navToolbar");if(L){K.set("navToolbar",L);}K.set("navKeys",K.get("navKeys"));}});};var H=function(O){var K=this.NAME,J=false;C--;if(A.Lang.isString(O)&&O.length>1){K=O;}try{var N=this;for(var L in N){if(N.hasOwnProperty(L)){if(N[L] instanceof A.Node){}N[L]=null;}}L=null;N=null;J=true;}catch(M){}K=null;return J;};A.mix(D.prototype,{keyHandle:null,localKeyHandle:null,accelKeyHandle:null,accelLocalKeyHandle:null,bound:null,ondestroy:function(){H.apply(this,arguments);},iterateChildren:function(K){var N=this,M=N.get("children"),J=M.length,L;for(L=0;L<J;L++){child=M[L];K.call(N,child,L);}},addChild:function(L){var K=this,J=false;if(!L||!(L instanceof D)){return;}K.iterateChildren(function(M){if(M==L){J=true;return;}});if(!J){K.set("children",K.get("children").concat([L]));}},removeChild:function(K){var L=this,J=function(N){var M=[];if(N.newVal){L.iterateChildren(function(O){if(O==K){O.parentCW=null;return;}M.push(O);});L.set("children",M);}};if(K.get("close")){J({newVal:1});}else{K.once("closeChange",J);K.set("close",1);}},_active:function(K){var L=this,J=L.get("contentToolbar");if(K){if(!L.isContained){I=L;}if(!L.get("active")){setTimeout(function(){if(L.get("active")){if(window.bktest2){}L._bindToKeys();}},0);}if(!L.isContained){L._focus();}}else{if(!L.isContained){I=null;}if(!L.isContained){L._blur();}L._detach();}J&&J.set("active",K);},_setFocus:function(J){var K=this;J?K._focus(J):K._blur(J);},_focus:function(K){var N,M=this,L=M.get("focusNode"),J;if((A.UA.gecko>=2)&&(J=document.activeElement)){J.blur();}if(L){try{N=M.onFocus(L);}catch(K){N=false;}if(!N){try{if(L){L.focus();}}catch(K){}}}},_blur:function(J){var L=this,K=L.get("focusNode");if(K&&K.blur){try{K.blur();}catch(J){}}},_close:function(J){if(J==1){this._detach();}},_handleKeyDown:function(O){var J=false;try{var L=O.keyCode,N=O.target,K=N?N.get("tagName").toLowerCase():"";var M=N.get("type")&&(N.get("type").toLowerCase()==="text"||N.get("type").toLowerCase()==="textarea");if(O.ctrlKey||O.metaKey||O.altKey||!(K in E)||!M){if(A.UA.os=="macintosh"&&L==8){O.charCode=46;O.keyCode=46;}if(L>=96&&L<=105){O.charCode=L-48;O.keyCode=L-48;}J=this.onKeyDown(O);}}catch(O){J=false;}if(J){O.halt();return false;}return J;},_setRoot:function(J){var K=this;if(J){if(!K.get("focusNode")){K.set("focusNode",J);}else{G(J);}if(K.get("active")){K._bindToKeys(J);}}},_bindToKeys:function(L){var M,P,O=this,S=O.get("charCodes"),K=O.get("localCharCodes"),Q=O.get("handleKeysLocally"),L=L||O.get("rootNode");if(O.bound){return;}if(S&&(!Q||L)){var N=[],R=[],J=Q?(L||document):document;F(S,N,R);if(N.length){O.keyHandle=A.on("key",O._handleKeyDown,J,("down:"+N.join(",")),O);O.bound=1;}P=R?R.length:0;for(M=0;M<P;M++){O.accelKeyHandle.push(A.on("key",O._handleKeyDown,J,("down:"+R[M]),O));O.bound=1;}}if(K&&L){var N=[],R=[];F(K,N,R);if(N.length){O.localKeyHandle=A.on("key",O._handleKeyDown,L,("down:"+N.join(",")),O);O.bound=1;}P=R?R.length:0;for(M=0;M<P;M++){O.accelLocalKeyHandle.push(A.on("key",O._handleKeyDown,L,("down:"+R[M]),O));O.bound=1;}}},_nest:function(K){var J=this;K.isContained=1;K.after(["activeChange","closeChange"],function(M){var N=M.attrName,L=M.newVal,O=0,P=J.get("children").length;
J.iterateChildren(function(R){var Q=K.get("skipEvents."+N+"-"+(L&&1));if((K==R)||R.get(N)==L||Q){O++;}if(O==P&&J.get(N+"Flag")!=1){J.set(N,L);}});},J);K.on(["titleChange","focusNodeChange","dirtyChange","directionChange","navKeysChange"],function(L){if(L.oldVal!=L.newVal){J.set(L.attrName,L.newVal);}},J);},_setContentToolbar:function(J){var K=this.get("contentToolbar");if(K!=J){K&&K.set("active",0);J&&J.set("active",1);}return J;},_setChildren:function(L){var K=0,J=L?L.length:0,O,M=[],N=this;for(K;K<J;K++){O=L[K];if(O&&O instanceof D){if(O.parentCW!=N){O.parentCW=N;N._nest(O);}M.push(O);}}return M;},_detach:function(){var L=this,J=L.accelKeyHandle.length;if(L.keyHandle){L.keyHandle.detach();}if(L.localKeyHandle){L.localKeyHandle.detach();}for(var K=0;K<J;K++){L.accelKeyHandle[K].detach();}L.accelKeyHandle=[];J=L.accelLocalKeyHandle.length;for(K=0;K<J;K++){L.accelLocalKeyHandle[K].detach();}L.accelLocalKeyHandle=[];L.bound=0;J=null;},_getDirty:function(){var K=this,J=false;K.iterateChildren(function(L){if(L.get("isDirty")){J=true;return;}});return J||(K.isDirty&&K.isDirty());},_getCanDeactivate:function(){var L=this,K=L.get("children"),J=false;if(L._canDeactivateFlag==-1||L._canDeactivateFlag==2){return(L._canDeactivateFlag>0);}L.iterateChildren(function(M){if(!M.get("canDeactivate")){J=true;return;}});return(K.length)?!J:L._canDeactivateFlag;},_canClose:function(){var L=this,K=L.get("children"),J=false;if(L._canCloseFlag==-1||L._canCloseFlag==2){return(L._canCloseFlag>0);}L.iterateChildren(function(M){if(!M.get("canClose")){J=true;return;}});return(K.length)?!J:L._canCloseFlag;},render:B,onKeyDown:B,onFocus:B,isDirty:function(){return false;}});A.namespace("common.ui").ContentWidget=D;},"1.0.0",{requires:["event-key"]});

YUI.add("comms-ui-nodefocus-base",function(A){function B(C){B.superclass.constructor.apply(this,arguments);}A.extend(B,A.Plugin.Base,{initializer:function(D){var E=this,F,I,K,H=E.get("host"),C=A.comms.ui,J=C.NodeFocus;if(J){H.plug(J,D);}else{K=[D.keys.next,D.keys.previous];function G(L){F.detach();I.detach();A.use("comms-ui-nodefocus",function(){H.unplug(C.NodeFocusBase);H.plug(C.NodeFocus,D);H.nodeFocus.onKeyDown(L);});}F=A.on("key",G,H,"down:"+K.join(","),E);I=A.on("nodeFocus:load",G,E);}}});B.NAME="NodeFocusBase";B.NS="nodeFocusBase";A.on("keydown",function(C){C.keyCode==9&&A.fire("nodeFocus:load",C);});A.namespace("comms.ui").NodeFocusBase=B;},"1.0.0",{requires:["plugin","node","event-key"]});

YUI.add("minty_module_tabs_tab_removable",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_tabs_tab_removable={base:'<li role="presentation" class="removable"><a data-action="navigate" href="{{tab_url}}" role="tab" id="{{tab_id}}" title="{{tab_label}}"><b>{{tab_label}}</b></a><span class="close-tab" data-action="close-tab" title="{{str_tabs_close_attr}}">{{str_tabs_close}}</span></li>'};},"1.0.0");

YUI.add("mail-ui-accounts",function(F){var C=NeoConfig,B=F.common.Utils.substitute,A=F.common.persist.UserData;function D(){var M,L,U,I,K,O,Q,P,T,S=strings.str_cfg_tog_accnt_user_color||NeoConfig.userColorIndicParam,G=C.extAccountColors,R=G.length,N=F.Lang.trim(A.get("userSendPref.defaultFromName"))||A.get("userSendPref.defaultFromAddress"),H=(A.get("externalAccounts")||{}).extAccount,J=H?H.length:0;P={Inbox:{id:"Inbox",color:"ypurple",name:N,pretty_name:N,check_mbox:B(strings.str_nav_left_checkmail_account_attr,{mailbox_pretty_name:N})}};for(M=0,L=0;M<J;++M){U=H[M];T=null;if(S){Q=U.colorIndicator;if(C.colorIndicatorsStr[Q]){T=C.colorIndicatorsStr[Q];}else{Q=U.colorIndicator?U.colorIndicator:"";if(Q>0){T=C.colorIndicators[Q];}}}K=U.server?F.Lang.trim(U.server):null;O=U.username&&K?U.username+"@"+K:null;if(O){I="data-mboxid"+L;N=F.Lang.trim(U.accountName)||U.address;P[I]={id:I,color:T||G[L%R],name:U.address,pretty_name:N,check_mbox:B(strings.str_nav_left_checkmail_account_attr,{mailbox_pretty_name:N}),server_addr:O};if(T){P[I].user_color=T;}++L;}}if(L===0){P=null;}return P;}function E(){var H,N,S,K,O,Q,L,G=C.colorIndicators,R=strings.str_cfg_tog_accnt_user_color||NeoConfig.userColorIndicParam,J={},P=D(),I=(A.get("aliases")||{}).alias||[],M=(A.get("disposableAddresses")||{}).deaName||[];if(strings.str_cfg_tog_msgListColorIndic||C.showExtAccountsParam>1){if(P){for(H in P){S=P[H];O=S.server_addr;L=R?S.user_color:S.color;if(O&&L){J[O]=S.color;}}}if(R){I=I.concat(M);N=I.length;for(H=0;H<N;++H){S=I[H];Q=S.colorIndicator?S.colorIndicator-0:0;if(Q>0){J[S.address]=C.colorIndicators[Q];}}}}return J;}F.namespace("mail.ui");F.mail.ui.Accounts={buildExtAccountList:D,buildAccountList:E};},"1.0.0",{requires:["common-utils","common-persist-user-data"]});

YUI.add("mail-ui-foldersview-base",function(B){var L=B.Node.one,D=B.Node.all,C=NeoConfig,I=C.folderListTmpl,Q=B.common.Utils,P=Q.rocketstats.stat,A=B.mail.common,M=Q.substitute,G=strings.str_nav_left_checking_mail,O=strings.str_nav_inbox,R=strings.str_tabs_inbox,E=C.mailboxes,F=!(C.pfm&&C.pfm.count),H="knownAddress|externalAccountsChange",J=B.common.persist.UserData,K="mail-ui-foldersview-bind";B.Node.DOM_EVENTS.beforedeactivate=1;var N=new function(){var AE="#system-folders",Z="#custom-folders",t="#smart-folders",g="#nav-smart-folders",z="a[role=option]",d=AE+" "+z+", "+Z+" "+z,l='a[tabindex="0"]',V=this,o="selected",W="has-unread",f="hasnomsg",T="hasmultimsg",p={"in":"Inbox",chats:"%40C%40Chats",drafts:"Draft",sent:"Sent",folder:"%40B%40Bulk",spam:"%40B%40Bulk",trash:"Trash"},Y={Inbox:"str_tabs_inbox",Draft:"str_tabs_drafts",Sent:"str_tabs_sent","%40B%40Bulk":"str_tabs_spam","%40C%40Chats":"str_tabs_conversations",Trash:"str_tabs_trash"},AB=(Neo&&Neo.fid)||"",AA,u=false,y=B.mail.Controller.Folders,S=B.Lang,v=null,X,AD=null;function a(AG){if(u){return L('li[data-vfid="'+AG+'"]');}return L("li[data-fid='"+AG+"']");}function j(){var AG={fid:{value:{fid:"",name:"",checkMail:false,mailboxId:"",extraParams:null,smartFolder:false,forceRefresh:false},setter:function(AI){var AL,AH,AJ=AI.fid,AR=AI.checkMail,AM=AI.mailboxId,AP=AI.extraParams,AT=AI.forceRefresh,AN,AK,AO=false,AQ,AS=false;u=AI.smartFolder;if((AJ===AB&&AJ===p["in"]&&!u)||AR){if(AD===null){U(AM);AN=AM;if(AM&&AM!==""&&AM!=="Inbox"){AN=E&&E[AM]?E[AM].name:"";}if(((AQ=B.common.persist.UserData.get("externalAccounts"))||{}).extAccount&&AN===""){AD=y.refresh({},{success:function(){q();B.later(0,null,function(){y.refresh({accountId:AN},{},"checkmail");});},failure:q,timeout:30000},"checkmail");}else{AD=y.refresh({accountId:AN},{success:q,failure:q,timeout:30000},"checkmail");}P("folders","checkmailmanual_"+(AQ?"ext":"noext"));}}if(AJ!==AB||u||AT){AO=u&&!AT;if(AO){u=false;}AL=a(AB)||a("Inbox");if(AO){u=true;}AS=u&&AT;if(AS){u=false;}AH=a(AJ);if(AL){AL.removeClass(o);AL.one("a").setAttrs({tabIndex:-1,"aria-selected":false});}if(AH){if((AK=AH.ancestor("ul").one(l))){AK&&AK.set("tabIndex",-1);}AH.addClass(o);AH.one("a").setAttrs({tabIndex:0,"aria-selected":true});}b();AB=AJ;return AI;}},lazyAdd:true},isCheckingMail:{value:false},active:{value:false}};V.addAttrs(AG);}function w(AH,AG){return function(AI){if(!AG){AI.preventDefault();}B.use(K,function(AJ){AJ.mail.FoldersView[AH](AI);});};}function AC(){var AM=L("#shellnavigation"),AL,AI,AK=B.mail.persist.MetaData,AG=L(AE),AJ=L(Z),AN=L(t),AH=L(g);AM.delegate("keydown",w("upDownNavigation",true),d);L("#btn-newfolder").on("click",w("newFolderClick"));AM.delegate("mousedown",function(AO){if(!this.hasClass("selected")&&AO.button===1&&!AO.ctrlKey){if(B.UA.ie&&B.UA.ie<=8){document.activeElement&&L(document.activeElement).once("beforedeactivate",function(AP){AP.preventDefault();});}else{AO.preventDefault();}}},"li, h2 span[role=button], h2 .btn input");AG.on("contextmenu",w("contextClick"),V);AG.delegate("click",w("checkMailClick"),"input.check-mail");AG.delegate("keydown",w("sysFoldersKeyDown",true),"li");AJ.delegate("keydown",w("usrFoldersKeyDown",true),"li");AG.delegate("click",w("emptyFolderOnClick"),"li a span.btn");AG.delegate("click",function(AO){AO.smartFolder=u;w("sysFoldersClick")(AO);},"li");if(AJ){AI=AK.after("neoChanged",function(){var AO=true,AP=L(Z+"-nav");if(AK.get("neo.pref.folderState")){AP.replaceClass("collapsed","expanded");}else{AP.replaceClass("expanded","collapsed");AO=false;}AP.one(".label").set("aria-expanded",AO);AK.detach(AI);});AJ.delegate("click",function(AO){AO.fid=AB;AO.smartFolder=u;w("usrFoldersClick")(AO);},"li");AJ.on("contextmenu",w("usrFoldersContextClick"));AL=L(Z+"-btn");AL.on("click",w("onLabelClick",true));AL.on("keydown",function(AO){if(AO.keyCode===13){w("onLabelClick")(AO);}});}if(AN){AN.all("a").each(function(AO){AO.set("href","#");});AN.delegate("click",function(AP){AP.preventDefault();var AO=AP.currentTarget;if(AO.hasClass("emails-contacts")){B.fire("openRUEFCInbox");}else{if(AO.hasClass("btn-apps")){B.fire("om:appclick",AP);}}u=true;},"li");AN.on("contextmenu",function(AO){});}AH&&AH.on("click",function(AQ){var AP=AQ.currentTarget,AO=AP.get("parentNode");if(AO.hasClass("expanded")){AO.removeClass("expanded");AO.addClass("collapsed");}else{if(AO.hasClass("collapsed")){AO.removeClass("collapsed");AO.addClass("expanded");}}});B.common.persist.UserData.after(H,function(AO){if(strings.str_cfg_tog_renderExternalAccounts||C.showExtAccountsParam){B.mail.FoldersView.renderMailboxes();}});AG.all("a").each(function(AO){AO.set("href","#");});B.on("key",function(AO){D("input.check-mail").each(function(){if(this.contains(AO.currentTarget)||this.compareTo(AO.currentTarget)){AO.stopPropagation();}});},AM,"",V);B.on("foldersview:resetFocus",function(AP){var AO=a(AP);AO=AO&&AO.one("a");AO&&AO.focus();});}function c(){var AG=D("li.inbox-sub");if(AG){AG.remove();}E=B.mail.ui.Accounts.buildExtAccountList();if(E){Neo.drawMailboxes(E);}}function i(AJ,AI){var AG=C.grayoutEnabled&&B.mail.ui.ContextButton,AH;if(AG&&AI){AH=a(AI);if(!AG.folderActionEnabled(AJ.dataAction,AH)){return;}}B.use("mail-ui-folderevents",function(AK){AK.mail.ui.FolderEvents.handle(AJ,(AI||AB));});}function b(){var AH=L(AE),AI=L(Z),AG;if(!AH.one(l)&&(AG=AH.one(z))){AG.set("tabIndex",0);}if(!AI.one(l)&&(AG=AI.one(z))){AG.set("tabIndex",0);}}function x(){var AH=L(AE),AI=L(Z),AJ=L("doc").get("activeElement"),AG=-1;if(AH.contains(AJ)||AI.contains(AJ)){AG=B.all(d).indexOf(AJ);}return AG;}function k(AJ){var AI=B.all(d),AH=AI.item(AJ),AG;if(!AH){AG=AJ+1;if(AG>AI.size()){AG=AJ-1;}AH=AI.item(AG);}if(AH){AH.set("tabIndex",0);AH.focus();}}function r(){var AG=L(Z+"-btn");AC();b();if(AG){AG.set("aria-expanded",L(Z+"-nav").hasClass("expanded"));}}function h(AI){var AH="Inbox",AG=strings[Y[AH]];B.fire("checkmail:before");V.set("isCheckingMail",true);if(u){V.set("fid",{fid:AH,name:strings[Y[AH]],checkMail:true,mailboxId:AI,smartFolder:u,forceRefresh:true});
}else{V.set("fid",{fid:AH,name:strings[Y[AH]],checkMail:true,mailboxId:AI});}}function U(AI){var AH,AG=L(AE);if(!AI||AI===""||!E){AG.all("#Inbox i, li.inbox-sub i").setContent(strings.str_nav_left_checking_mail);AG.all("li input.check-mail").addClass("loading");}else{if(E){AH=AG.one('li.inbox-sub i[data-mboxid="'+AI+'"]');if(AH){AH.setContent(strings.str_nav_left_checking_mail);}AH=AG.one('li.inbox-sub input[data-mboxid="'+AI+'"]');if(AH){AH.addClass("loading");}}}B.fire("checkmail:clicked");}function q(){var AJ,AI,AH,AG=L(AE);AG.one("#Inbox i").setContent(O);AG.all("li input.check-mail").removeClass("loading");if(E){for(AJ in E){AI=E[AJ];AH=AG.one('li.inbox-sub i[data-mboxid="'+AJ+'"]');if(AH){AH.setContent(AI.pretty_name||AI.server_addr);}}}B.fire("checkmail:succeeded");V.set("isCheckingMail",false);AD=null;}function m(AM){var AI=AM.folderInfo.fid,AJ=AI==="Draft",AH=AI==="%40C%40Chats",AL=(AJ||AH)?AM.total:AM.unread,AG="{{str_nav_inbox_unread_attr}}",AN={},AK;if(AJ){AG=(AL==1)?"{{str_nav_draft_attr}}":"{{str_nav_drafts_attr}}";}else{if(AH){AG=(AL==1)?"{{str_nav_conv_attr}}":"{{str_nav_convs_attr}}";}}AK=a(AI);if(AK){if(AM.isSystem===false||(!AJ&&AI!=="Sent")){if(AM.unread>0){AK.addClass(W);}else{AK.removeClass(W);}}}AK=AK&&AK.one(".unread-count");if(AK&&S.isNumber(AL)){if(AL<0){AL=0;}AK.set("innerHTML",AL||"");AN.inbox_unread_cnt=AL;if(AH){AN.conv_cnt=AL;}AK.set("title",M(AG,AN,null,null,C.strings));}}function n(AL){var AH=AL.folderInfo.fid,AK=a(AH);AK=AK&&AK.one("a");if(AK){var AG=AK.get("title"),AJ=AL.total,AI=AJ==1?"str_email_cnt_one":"str_email_cnt_multi",AM="{{str_nav_folder_email_cnt}}",AN={total_cnt:AJ,email_str:strings[AI]};switch(AH){case"Draft":AM=(AJ==1)?"{{str_nav_draft_attr}}":"{{str_nav_drafts_attr}}";AN.inbox_unread_cnt=AJ;break;case"%40C%40Chats":AM=(AJ==1)?"{{str_nav_conv_attr}}":"{{str_nav_convs_attr}}";AN.conv_cnt=AJ;break;}if(u){AM="{{str_nav_email_from_ctcts_attr}}";AN.email_ctcts_cnt=AJ;}AK.set("title",M(AM,AN,null,null,strings));}}function AF(AJ){var AM="",AN,AH,AK,AI,AO=L(Z),AP=x(),AL=AJ.length;Neo&&Neo.sortFolders(AJ);for(AK=0;AK<AL;AK++){AH=AJ[AK];AI=AH.folderInfo.fid;if(AA===AI){AN=AH.folderInfo.name;}if(!AH.isSystem){var AG={name:AH.folderInfo.name,fid:AI,unread_cnt:AH.unread||"",total_cnt:AH.total,inbox_unread_cnt:AH.unread||"",isSelected:(AB==AI)?o:"",email_str:(AH.total==1?C.strings.str_email_cnt_one:C.strings.str_email_cnt_multi)};if(NeoConfig.bidi&&AH.folderInfo.dir){AG.name=(AH.folderInfo.dir=="rtl"?"\u202B":"\u202A")+AG.name+"\u202C";}if(!AH.unread){AG.has_unread="";}AM+=M(I.folders,AG,null,null,C.strings,I);}else{if(AI==="Inbox"){X=AH.unread;}n(AH);m(AH);}}s();AO.setContent(AM?AM:"");if(AP>=0){k(AP);}else{b();}AA&&V.set("fid",{fid:AA,name:AN});AA=null;}function e(AG,AH){if(AG){if("show"==AH&&!AG.hasClass("selected")){AG.addClass("cntxtmenu");}else{if("hide"==AH){AG.removeClass("cntxtmenu");}}}}function s(){var AH=(C.userDataObj&&C.userDataObj.otherYahooMboxes&&C.userDataObj.otherYahooMboxes.otherYahooMboxesTotal)?"userSendPref.defaultID":"userSendPref.loggedInAlias";var AG=J.get(AH);B.config.doc.title=(X>0)?M("{{str_page_title_unread}}",{unread_cnt:X,title:AG},null,null,strings):M("{{str_page_title}}",{title:AG},null,null,strings);v=null;}B.on("ds:folder:change",function(AO,AL,AP,AM){var AG,AK,AI,AJ,AH,AN;if(AM==="launch"){for(AK in AL){AG=AL[AK];AI=AG.folderInfo.fid;if(AI==="Inbox"){X=AG.unread;}if(C.grayoutEnabled&&!AG.total){AJ=a(AI);AJ.replaceClass(T,f);}}s();return;}if(!AO){AF(AL,AM=="ruefc");}else{for(AK in AP){AG=AL[AK];AI=AG.folderInfo.fid;if(AM=="ruefc"){AG.folderInfo.name=strings.str_nav_email_from_ctcts;AH=B.mail.ui.common.StringUtils.getSystemFolderName(AI,AG.folderInfo.name,true,true);AN=B.mail.ui.Workspace.getFolderContent();if(NeoConfig.bidi){AH=AN.widget.msgList.getFolderNameBidi(AH,AG.folderInfo.dir,AG.total);}else{AH+="  <i>("+AG.total+")</i>";}AN.set("title",AH);}if(S.isNumber(AP[AK].unread)||AI==="Draft"){m(AG,AM=="ruefc");if(AI==="Inbox"){X+=AG.unread-AO[AK].unread;s();}}if(AG.total!=AO[AK].total){n(AG,AM=="ruefc");}if(C.grayoutEnabled){AJ=a(AI,AM=="ruefc");if(AG.total>0){AJ.replaceClass(f,T);}else{AJ.replaceClass(T,f);}}}}});B.on("ds:folder:add",function(AG,AH){if(AH!="move"&&AH!="qf_folder"){AA=AG.folderInfo.fid;}});B.on("ds:folder:remove",function(AG){if(AG.folderInfo.fid===V.get("fid").fid){AA="Inbox";}});B.on("ds:folder:rename",function(AH,AG){if(AH.folderInfo.fid===V.get("fid").fid){AA=AG.folderInfo.fid;}});B.on("checkmail:pressed",function(AG){var AH=AG?"":"Inbox";h(AH);});B.on("newfolder:pressed",function(){i({dataAction:"folder-new"},null);});B.on("#custom-folders.li:keydown",function(AK){var AJ=AK.currentTarget.getAttribute("data-fid"),AI=AK.keyCode===69&&AJ&&C.emptyFolders?"folder-empty":"folder-rename",AH=B.UA.os,AG=(AH=="windows"||AH=="win");if((AG&&AK.shiftKey&&AK.keyCode==121)||(!AG&&AK.ctrlKey&&AK.shiftKey&&AK.altKey&&AK.keyCode==77)){AK.preventDefault();Q.simulateContextMenu(AK.target);}else{i({dataAction:AI,target:AK.currentTarget},AJ);}});B.on("#system-folders.li:keydown",function(AK){var AL={"%40B%40Bulk":"folder-empty-spam",Trash:"folder-empty-trash"},AJ=AK.currentTarget.getAttribute("data-fid"),AI,AH=B.UA.os,AG=(AH=="windows"||AH=="win");if(AK.keyCode===69&&AJ){AI=AL[AJ]||(C.emptyFolders&&"folder-empty");if(AI){i({dataAction:AI,restoreFocus:1,target:AK.currentTarget},AJ);}}else{if((AG&&AK.shiftKey&&AK.keyCode==121)||(!AG&&AK.ctrlKey&&AK.shiftKey&&AK.altKey&&AK.keyCode==77)){AK.preventDefault();Q.simulateContextMenu(AK.target);}}});B.after("tabChange",function(){if(null===v){v=B.later(1000,null,s,null,false);}});B.augment(V,B.Attribute);j();B.mix(V,{render:r,renderMailboxes:c,checkMail:h,handleFolderActions:i,updateTitle:s});};B.namespace("mail");B.mail.FoldersView=N;},"1.0.0",{requires:["common-utils","rocket-stats","mail-controller-folders","attribute","node","mail-persist-meta-data","common-persist-user-data","mail-ui-accounts"]});

YUI.add("mail-persist-user-preferences",function(D){D.namespace("mail.persist");var B,C=["userFeaturePrefs","userUIPrefs","userSpamPrefs","userSendPrefs","switches","livewordsPrefs","popForwardPrefs"];function A(E){this.attributeConfig={userFeaturePrefs:{},userUIPrefs:{value:{displayPersonalFolders:NeoConfig.expandPF,expandExtAccounts:NeoConfig.expandEA}},userSpamPrefs:{},userSendPrefs:{},switches:{},livewordsPrefs:{},popForwardPrefs:{},loaded:{value:false}};this.addAttrs(this.attributeConfig,E);if(E){this.set("loaded",true);}else{this.load();}}A.prototype.load=function(){var E=this;D.mail.net.Transport.request("GetUserPreferences",{},{success:function(F){var H=F.body.result["userPrefs"];for(var G in H){E.set(G,H[G]);}E.set("loaded",true);},failure:function(){}},true);};A.prototype.save=function(){var G={},F,E;for(E=0;E<C.length;E++){F=C[E];G[F]=this.get(F);}this.saveRequest(G);};A.prototype.saveRequest=function(E){D.mail.net.Transport.request("SetUserPreferences",{setprefs:E},{success:function(){},failure:function(){}},true);};A.prototype.afterSettingsChange=function(){if(this.get("loaded")){this.save();}};D.augment(A,D.Attribute);D.mail.persist.UserPreferences=new A();if(NeoConfig.intl!=="jp"){for(B=0;B<C.length;B++){D.mail.persist.UserPreferences.after(C[B]+"Change",D.mail.persist.UserPreferences.afterSettingsChange);}}},"1.0.0",{requires:["attribute","mail-net-transport","json"]});

YUI.add("mail-persist-meta-data",function(H){var F,G,C,A;H.namespace("mail.persist");function B(){this.addAttr("_save",{value:true});this.addAttr("_timer",{});}B.prototype.wait=function(){this.set("_save",false);};B.prototype.resume=function(){this.set("_save",true);};B.prototype.parse=function(K,J){var I;J+=K.name;if(K.meta&&K.meta.length>0){this._set(J,{});J+=".";for(I=0;I<K.meta.length;I++){if(K.meta[I].meta){this.parse(K.meta[I].meta,J);}this.parse(K.meta[I],J);}}else{if(K.value){this._set(J,K.value);}}};B.prototype.make_cascade=function(K,I){var J;for(J in K){if(typeof K[J]==="object"){I.push({name:J,meta:[]});this.make_cascade(K[J],I[I.length-1].meta);}else{I.push({name:J,value:K[J]});}}};B.prototype.cascade_dump=function(){var M=[],I,K,L,J=this.getAttrs();for(I in J){if(I.match(/^_/)){continue;}K=J[I];L={name:I};if(typeof K==="object"){L.meta=[];this.make_cascade(K,L.meta);}else{L.value=K;}M.push(L);}return{meta:M};};B.prototype.load=function(){var I=this;H.mail.net.Transport.request("GetMetaData",{},{success:function(K){var J=K.body.result.meta,L,M;for(L=0;L<J.length;L++){M=J[L];if(!I.attrAdded(M.name)){I.addAttr(M.name);}I.wait();I.parse(M,"");I.resume();}H.fire("metaDataLoadComplete");},failure:function(){}},true);};B.prototype.update=function(){};B.prototype.save=function(){this.set("_save",true);H.mail.net.Transport.request("SetMetaData",this.cascade_dump(),{success:function(){},failure:function(){}},true);};B.prototype.set=function(K,N){var M,L,J,I=H.Attribute.prototype.set;if(K.indexOf(".")>0){M=K.split(".");for(J=0;J<M.length;J++){if(L){L+="."+M[J];}else{L=M[J];}if(!this.get(L)){if(L===K){I.apply(this,[K,N]);}else{I.apply(this,[L,{}]);}}else{if(L===K){I.apply(this,[K,N]);}}}}else{I.apply(this,[K,N]);}};H.augment(B,H.Attribute);F=new B();if(typeof NeoConfig.metaDataObj!=="undefined"&&NeoConfig.metaDataObj){A=NeoConfig.metaDataObj;for(C=0;C<A.length;C++){G=A[C];F.addAttr(G.name,{});F.parse(G,"");}}else{F.load();}if(!F.attrAdded("neo")){F.addAttr("neo",{pref:{}});}if(!F.get("neo.pref")){F.set("neo",{pref:{}});}function E(){if(this.get("_save")){if(this.get("_timer")){this.get("_timer").cancel();}this.set("_timer",H.later(5000,this,"save"));}}function D(){if(this.get("_save")){this.save();}}F.after("neoChange",E,F);F.after("cgChange",D,F);H.mail.persist.MetaData=F;},"1.0.0",{requires:["attribute","mail-net-transport"]});

YUI.add("mail-ui-workspace-base",function(A){var W=A.Node,L=W.create,B=A.common.Utils,R=B.substitute,P=B.escapeHtml,S=B.unescapeHtml,K=B.loadDarlaAndExecute,T=A.config.win||window,C=T.Neo||0,V,G=NeoConfig,I=!(G.pfm&&G.pfm.count),E=0,Z=false,U=["_shared_module_compose","_shared_module_toolbar_compose","_shared_module_compose_message_header","_shared_module_offscreen_bin_compose","_shared_module_offscreen_bin_compose_menu_color_picker","_shared_module_offscreen_bin_compose_menu_spellcheck","_shared_module_offscreen_bin_compose_modal_cancel_compose","_shared_module_offscreen_bin_compose_menu_spell_langs","_shared_module_compose_reply","mail-ui-authorview-base"],F="%40B%40Bulk",Q,D,N=false,H=(parseInt(NeoConfig.uploaderVersion,10)===2),O="mail-service-uploader-v"+(NeoConfig.uploaderVersion||"1");if(NeoConfig.bidi){U.push("comms-intl-bidihighlight");}if(NeoConfig.om){U.push("om-controller-compose");}U.push(O);A.Node.prototype.focus=function(){try{this._node.focus();}catch(Y){}};function J(){var Y=arguments;A.use("rocket-stats",function(){B.rocketstats.stat.apply(0,Y);});}function X(a){var Y=a||function(){};if(!G.hydra&&NeoConfig.intl!=="jp"){A.use("gx_bootstrap",Y);}}A.namespace("mail.ui");A.mail.ui.Workspace=new function(){var l=this,AD=A.mail,n=AD.FoldersView,An=AD.ui.Toolbar,Ax=AD.Controller,h=Ax.Folders,AK=AD.Tabs,A0,AP,Ar,A1,AY="#toolbar",AR=".switcher",d=".commontasks",AL,As,A4,y,i,Aj,z,Ap,Aa,AX;A.once("ds:msg:change",function(){Aa=1;});function Ac(){if(N){K(function(BB){BB.fire("renderPrefetchedAd",{action:((N.isFolderEmpty&&N.goTo==1)?D+"_empty":D)});},false);N=false;}}function Ak(BG){var BC=[(NeoConfig.hasConv||NeoConfig.hasConvRelease)?"minty_module_toolbar_inbox_message_thread":"minty_module_toolbar_inbox_message","common-ui-menu-helper"],BF=(E==1),BE=G.hasGalaxy&&!BF,BB,BD;G.hasConv?BC.push("mail-ui-convpane-read"):BC.push("mail-ui-messagepane-read");if(NeoConfig.notification){BC.push("common-ui-notification");}BG.once("securecascade:ready",function(){if(G.secure_cascade=="1"&&G.secure_cascade_flash!=1){l.set("cascadeReady",true);J("launch","secureCascadeLoad");}if(!BG.Lang.isUndefined(G.om)){BC.push("om-controller-views","_shared_module_open_mail_application_messagepane","om-ui-views-simple","om-ui-views-hidden","om-controller-internalapi");if(NeoConfig.hasIM){BC.push("om-ui-views-folderpane");}}if(G.cw){BC.push("mail-common-cachewarmer");}BD=(Math.random()<G.preCacheChampThreshold)?"mail-common-precache-ranking":"mail-common-precache-unread";if(G.fullPage){BC.push("common-ui-listview-ext");}if(NeoConfig.bidi){BC.push("comms-intl-bidi");}if(BE&&!G.hydra){BG.galaxy&&BG.galaxy.isRushMore&&BC.push("gx_profiledata");BC.push("gx_messages");}if(G.themeJSModule!=="false"){BC.push(G.themeJSModule);}BC.push(BD,"mail-ui-workspace-horizontal-slider","contacts-api-config","contacts-ui-contactseventstranslator","mail-error",function(BM){if(G.prefetchAd&&(G.prefetchAdType==2)){Ac();}if(G.themeJSModule!=="false"){BM.mail.ui.themes[G.themeJSModule].init();}var BL,BK=BM.one("#rail-resize-hori");if(BK){BL=new BM.mail.ui.WorkspaceHSlider();}var BJ=BM.mail.common,BH=BJ&&BJ.cachewarmer,BI;if(BH){BH.setupLaunch(BF);BF&&!I++&&(BI=2000)&&BH.addInboxPreFetching();BH.addCompose(BI,!BI,U);if(!BI){BH.addDelay(5000);BH.addInboxPreFetching();BH.add(function(){I=1;});}BH.warmUp("pixiedust",["mail-common-pixiedust"]);BH.run();}if(G.uh2Enabled){YUI().use("uh2-base","substitute","node-focusmanager","querystring-stringify",function(){G.setFinished&&G.setFinished("uh2");if(NeoConfig.isBizmail){BM.fire("change:username");}});if(G.hasUh2Notification){BM.Lang.later(9000,null,function(){BM.use("uh2-notification-base",function(){var BN=NeoConfig.isInternalIP&&window.location.href.match(/&rtb_extra=1/)||window.location.href.match(/\?rtb_extra=1/);BN&&((new Image()).src="/neo/rtbeacon.gif?uh2_done=1");});});}}if(window.location.search.indexOf("qa=1")>0){J("launch","flushStat",null,true);}});BG.Lang.later(0,null,function(){BG.use.apply(BG,BC);});l.presetMsgs();l.set("postLoadFired",1);BG.fire("ws:postLoad");});if(G.secure_cascade=="1"&&G.secure_cascade_flash!=1){BB=document.getElementById("secureCascade");BB.src=G.secure_cascade_source;J("launch","secureCascade");}else{BG.fire("securecascade:ready");}if(G.secure_cascade_flash==1){J("launch","secureCascadeFlash");}}function e(){var BB,BC=NeoGV.statQueue;for(BB=0;BB<BC.length;BB++){J(BC[BB].name,BC[BB].well);}NeoGV.statQueue=[];}function Ab(BF,BE){var BG,BB=B.parseQueryString(),BC;e();D="launch_welcome"+(G.hydra?"_hydra":"")+((NeoConfig.low_bandwidth)?"_low":((NeoConfig.ssl_launch||NeoConfig.isFullSSL)?"_ssl":""));M();A.namespace("contacts");A.contacts.clientConfig={requestFn:A.common.net.SessionMgr.requestProxy,guid:G.neoguid,wspath:G.socdirProxyPath,view:["compact"],out:strings.str_cfg_tog_contact_field,sort:"asc",sortfields:strings.str_cfg_tog_contact_sortfields,fieldsToProcess:["name","nickname","email"]};if(G.strings){strings.str_ctrl=G.strings.str_ctrl;strings.str_enter=G.strings.str_enter;strings.str_ctrl_shift=G.strings.str_ctrl_shift;strings.str_ctrl_alt=G.strings.str_ctrl_alt;strings.str_right_click=G.strings.str_right_click;}if(C.ff3dot5&&G.fullPage){A.one("#main").setStyle("position","relative");}function BD(){var BI=false,BQ=false,BH;if(!A4){AN();}A.mail.Tabs.setPageMode(G.fullPage);var BM=A.one(AY),BT,BL,BO,BP,BR;if(!AL&&BM){AL=new An({root:BM.one(AR),menu:{template:function(BV,BU){A.use("mail-ui-inboxmenu-base",function(BW){BW.mail.ui.InboxMenu.insert(BV,BU);});},keys:function(BV,BU){A.use("mail-ui-inboxmenu-base",function(BW){BU(BW.mail.ui.InboxMenu.getValidKeys(BV));});},enterAccel:function(BU){A.use("mail-ui-inboxmenu-base",function(BV){BU(BV.mail.ui.InboxMenu.getEnterAccel());});}}});AL.on("itemSelected",AC);V.originalNav=AL;As=BM.one(d);}var BS=function(){if(C.msgHdrStack.length){var BU=A.one("#tablist .messagetabs.active a"),BV=0,BX=[],BZ,BW,BY=false;BL="Inbox";if(BU){BW=parseInt(BU.getAttribute("tabindex"));}A.all("#tablist .messagetabs").each(function(Ba){BV=parseInt(Ba.one("a").getAttribute("tabindex"));
var Bb="div#shellcontent #messageid"+BV;Ba.remove();BZ=A.mail.model.DataStore.Messages.toMessage(BL,C.msgHdrStack[BV]);if(BV==BW){BY=[BZ,Bb];}else{BX.push([BZ,Bb]);}});if(BY){BX.push(BY);BF=2;if(NeoConfig.hasGalaxy){X();}}if(BX){setTimeout(function(){var Ba,Bb=A.mail.Tabs.getActiveTab();for(Ba in BX){A.fire("openMessage",{fid:BL,msg:BX[Ba][0]},A.bind(function(Bd){try{A.one(Bd).remove();}catch(Bc){}},null,BX[Ba][1]));}Bb&&A.mail.Tabs.switchToTab(Bb);},10);}}};if(!BE&&BF==0){if(A.one("#tabinbox").get("parentNode").hasClass("active")){BF=1;X();}BS();}else{if(BF==1){BS();}}if(BF==1){D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||NeoConfig.isFullSSL)?"launch_inbox_ssl":"launch_inbox");}else{X();}if(NeoConfig.intl!=="jp"){if(!AP){A.use("gx-ui-galaxyview-base",function(BX){var BV=null;if(NeoConfig.udbOpenFailed==true){BV=BX.Node.create('<div > <ul class="error">'+R(strings["str_whats_new_udb_failure_msg"],{},null,null,strings)+"</ul></div>");}BO=new An({root:BV});BP=new BX.gx.ui.GalaxyView({contentToolbar:BO});BR={yTabEl:BX.one("#tabwhatsnew").get("parentNode"),yTabContentEl:BX.one("#galaxyPageContainer"),label:"WHAT'S NEW",widget:BP,sync:true,inactive:(BF!=0)};AP=AH(BR);BG=1;var BW=false;var BU=function(){var BY=G.hydra?"hydra=1":"galaxy=1";C.async("GET","whatsnew?"+BY+"&mode=data&ncrumb="+G.ncrumb+G.extraURLArgs,{success:function(BZ){BF=0;if(!BW){C.exec(BZ.responseText);}if(G.userAdLocations.LREC){var Ba=BX.one("#slot_LREC");Ba&&Ba.setStyle("display","");}!G.noDarla&&K(function(Bb){BP.fire("darlaEvent",{action:(G.hydra)?"welcome_hydra":"welcome_gx",refreshAds:true});},false);X(function(Bb){Bb.galaxy.loadRushmoreImages();});BX.fire("galaxyLoaded");},chunked:function(BZ){C.exec(BZ);BW=true;}});};l.fetchWhatsNew=BU;if(G.isMPWelcomeLaunch){BU();}BP.after("activeChange",function(BY){if(BY.newVal){if(BY.newVal==1&&BF!=0){BU();}else{BP.fire("darlaEvent",{action:(G.hydra)?"welcome_hydra":"welcome_gx"});}}});});}}else{BO=new An({root:null});A.use("mail-ui-whatsnew-base-jp",function(BU){BP=new BU.mail.ui.WhatsNewView({contentToolbar:BO});});BR={yTabEl:A.one("#tabwhatsnew").get("parentNode"),yTabContentEl:A.one("#galaxyPageContainer"),label:"WHAT'S NEW",content:A.one("#shellcontent").get("innerHTML"),widget:BP,inactive:(BF==1)};AH(BR);if(NeoConfig.userAdLocations.LREC){BH=A.one("#slot_LREC");BH&&BH.setStyle("display","");}BP.after("activeChange",function(BU){if(BU.newVal){A.fire("jpwhatsnew:active");BP.fire("darlaEvent",{action:"welcome_gx"});}});}if(!A0){var BN,BK;A.fire("Y.mail.ui.Workspace:switchToInbox:start");BL=(C&&C.fid)||"Inbox";BK={fid:BL,dontBind:Aa};if(NeoConfig.hasConv){BT=new A.mail.ui.ConvView(BK);}else{BT=new A.mail.ui.MessagesView(BK);}BQ=BT.isEmpty(BL);BT.once("renderComplete",function(){l.fire("initComplete",BN);});BR={label:BL,widget:BT};BN=A.one("#inboxcontainer");if(BN){BR.yTabEl=A.one("#tabinbox").get("parentNode");BR.yTabContentEl=BN;BR.inactive=(BF!=1);BR.sync=true;n.set("active",!BR.inactive);}A0=AH(BR);A0.widget.set("loaded",1);if(A0){A0.on("activeChange",function(BU){n.set("active",BU.newVal);});if(NeoConfig.hasReadTabPool){A0.once("activeChange",function(BU){setTimeout(function(){AO.check();},0);});}BG=1;A.fire("Y.mail.ui.Workspace:switchToInbox:complete");}}if(strings.str_cfg_tog_prefetch_contacts){AV(true);}var BJ=(BT&&BT.get("active"))?BT:BP;if(!BI&&!G.isMPWelcomeLaunch&&(G.hasGalaxy||BF==1)&&BJ){N={isFolderEmpty:BQ,goTo:BF};}if(!G.noDarla){if(!BI){if(N){if(G.prefetchAd){(G.prefetchAdType==1)&&Ac();}else{K(function(){BJ.fire("darlaEvent",{action:((BQ&&BF==1)?D+"_empty":D)});},false);}}}else{if(NeoConfig.intl==="jp"){K(function(){BP.fire("darlaEvent",{action:D});},false);}}}if(!Ar&&G.contactsTabEnabled){BR={yTabEl:A.one("#tabcontacts").get("parentNode"),label:"Contacts",noDefault:true,inactive:true,forcePane:true,sync:true,init:function(BV,BU){A.use("contacts-ui-contactsview",function(BX){var BW=BX.contacts.ui.getContactsViewInstance();BW.type="contactstab";A2(BW,BV);BV.widget=BW;BX.contacts.ui.ContactsView.contactsTab=BV;BU();});}};Ar=AH(BR);}if(!A1&&G.calendarTabEnabled){BR={yTabEl:A.one("#tabcalendar").get("parentNode"),label:"Calendar",noDefault:true,inactive:true,forcePane:true,sync:true,init:function(BV,BU){A.use("calendar-ui-calendarview",function(BX){var BW=BX.calendar.ui.getCalendarViewInstance();BW.type="calendartab";A2(BW,BV);BV.widget=BW;BX.calendar.ui.CalendarView.calendarTab=BV;BU();});}};A1=AH(BR);}}B.startConsole(BB.ylog);BD();y=A.one("#main").get("winWidth");if(G.secure_cascade=="1"&&G.secure_cascade_flash!=1){l.set("cascadeReady",false);}else{l.set("cascadeReady",true);}E=BF;if(G.mrd&&G.mrd.action){callFromLaunch=true;g(null,true);}if(C.openCompose){A.fire("newMessage");}return BG;}function AZ(BB,BD){var BE=A.one("#paneshell");var BC=strings.str_tog_loadRTLCss?"right":"left";if(BD){BB.set("shellcontentOffset",BE.one("#shellcontent").getStyle(BC));BE.one("#shellcontent").setStyle(BC,"0");BE.addClass("withoutshellnavigation");}else{BE.one("#shellcontent").setStyle(BC,BB.get("shellcontentOffset"));BE.removeClass("withoutshellnavigation");}}function BA(BB,BC){if(BC){A.one("#shellnavigation").all(".items").addClass("hidden");}else{A.one("#shellnavigation").all(".items").removeClass("hidden");}}function w(BB,BC){if(BC){A.one("#paneshell").addClass("withouttoolbar");}else{A.one("#paneshell").removeClass("withouttoolbar");}}function m(BB){var BE=A.one(AY),BC,BD;if(AL&&BB.newVal){BC=AL.get("content");BC&&BC.remove();BD=BB.newVal;BD=BD?BD.get("content")||"":"";BD&&BE.insert(BD,0);BE.hasClass("hidden")&&BE.removeClass("hidden");AL&&AL.set("active",0);AL=BB.newVal;AL&&AL.set("active",1);}}function Aw(BC){if(As&&BC.target.get("active")){var BB=BC.prevVal,BD=BC.newVal,BE=BD?BD.get("content")||"":"";if(BE!=Aj){if(BE&&BE.one&&(NeoConfig.isInternal!="1"||!NeoConfig.hasConv)){var BF=BE.one(".report_bug");if(BF){BF.remove();}}As.empty();As.setContent(BE);BB&&BB.set("active",0);Aj=BE;BD&&BD.set("active",1);}}}function AI(BE,BF){if(!BE||!BE.fid){return;}var BC=new B.Stopwatch("FolderView"),BG=NeoConfig.bidi,BH=BE.extraParams||(BE.smartFolder&&BE.forceRefresh),BB=BE.smartFolder&&!BE.forceRefresh,BD=BE.fid;
if(!Z){Z=true;D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||NeoConfig.isFullSSL)?"launch_inbox_ssl":"launch_inbox");}h.get(BD,{success:function(BR){BE=BR;var BK=BE.folderInfo.fid,BI=BE.folderInfo.name,BL=A.mail.ui.common.StringUtils.getSystemFolderName(BK,BI,true,BB),BP,BJ=G.roundTrip,BU,BM=window.rt_LogTime;if(BF){BU=n.get("fid");if(BU&&BU.fid!==BK){n.set("fid",{fid:BK,name:BI,checkMail:false});}}else{if(A0){if(NeoConfig.hasConv){var BT=A0.widget.msgList.get("fid");var BV=BT!=F;var BO=BK!=F;if(BV!=BO){BE.forceRefresh=true;if(BO&&!BH){BH=BE.forceRefresh;}var BN={fid:BK,dontBind:true};var BS=BO?new A.mail.ui.ConvView(BN):new A.mail.ui.MessagesView(BN);A0.once("widgetChange",function(BW){A2(BW.newVal,A0);A0.removeChild(BW.prevVal);});A0.set("widget",BS);}A0.set("title",BL);}else{if(BG){BL=A0.widget.msgList.getFolderNameBidi(BL,BE.folderInfo.dir,BE.total);}else{BL+="  <i>("+BE.total+")</i>";}A0.set("title",BL);}A0.widget.msgList.set("extraParams",BH);A0.widget.msgList.set("fid",BK);BP=(A0.widget.msgList.get("fid")==BK);A.mail.Tabs.switchToTab(A0);}else{Ab(1);if(BG){BL=A0.widget.msgList.getFolderNameBidi(BL,BE.folderInfo.dir);}else{BL+="  <i>("+BE.total+")</i>";}A0.set("title",BL);}C.fid=BK;function BQ(){if(BD===C.fid){if(BJ&&BM){if(BJ.t3){BM("t3",BJ.t3,true);delete BJ.t3;}if(BJ.t4){BM("t4",BJ.t4,true);delete BJ.t4;}}BC&&BC.stop();}}if(!A0.widget.handledInitialRender){BQ();A0.widget.handledInitialRender=true;}A0.widget.once("renderComplete",BQ);}}});}function AC(BC){var BB=BC?BC.dataAction:0;switch(BB){case"compose":A.fire("newMessage",{noScroll:true});A.fire("globalUltBeaconEvent",{action:"compose_new_nav_toolbar"});break;case"new-conv":A.use("mail-ui-messenger",function(BD){BD.mail.ui.Messenger.showErrorDialog();});break;}}function AN(){var BB=G.neoJsHeader.module,BC=G.neoJsHeader.headerClass;A.Lang.later(0,null,function(){n.render();});AK.render();A.mail.ui.SearchBar.render();if(NeoConfig.intl!=="jp"){A.Lang.later(0,null,function(){A.use(BB,function(BD){BD.mail.ui[BC].render();});});}a();A4=1;l.fire("renderComplete");}function Ai(){var BB;BB="%0AURL: "+escape(window.location.host);BB+="%0AYID: "+escape(NeoConfig.loginId);BB+="%0ABrowser: "+escape(A.UA.ie?"IE"+A.UA.ie:(A.UA.safari?"Safari"+A.UA.safari:(A.UA.chrome?"Chrome"+A.UA.chrome:(A.UA.gecko?"Firefox"+A.UA.gecko:"unknown"))));BB+="%0AUser Agent: "+escape(navigator.userAgent);BB+="%0AIP: "+escape(NeoConfig.ipAddress);BB+="%0Afarm: "+escape(NeoConfig.farm);BB+="%0ABuild Number: "+escape(NeoConfig.buildNumber);BB+="%0ABuild Type: "+escape(NeoConfig.buildType);BB+="%0AIntl: "+escape(NeoConfig.intl);BB+="%0Asid: "+escape(NeoConfig.cookieID);BB+="%0AScreen resolution: "+escape(screen.width)+"x"+escape(screen.height);return BB;}function a(){A.one("#toolbar").delegate("click",function(BE){BE.halt();var BF=BE.target.getAttribute("desc"),BG,BD;BG=Ai();BD="http://bug.corp.yahoo.com/enter_bug.cgi?assigned_to=coreminty-scrum-triage%40yahoo-inc.com&bug_severity=normal&bug_status=NEW&bugtype=Defect&component=Conversations&contenttypeselection=text%2Fplain&estimated_time=0.0&form_name=enter_bug&keywords=&maketemplate=Remember%20values%20as%20bookmarkable%20template&material_to_version=0&product=Mail%20Neo&production=0&qa_contact=coreminty-scrum-qa%40yahoo-inc.com&short_desc="+BF+"&comment="+BG+"";window.open(BD,"new");},".report_bug a");n.on("fidChange",function(BG){var BI=BG.prevVal||{},BH=BI.fid,BE=BG.newVal.fid,BD=BG.newVal.smartFolder||BI.smartFolder;if(BE==="Inbox"){J("workspace","folderSwitchToInbox");}else{J("workspace","folderSwitchFromInbox");}B.assert(BE.search("_")==-1);if(A0){var BF=BH;if(!BF){BF=(C&&C.fid)||"Inbox";}(BE!=BF||(BE==BF&&BD))&&A0.widget.set("loaded",0);}AI(BG.newVal);});A.on("openMessage",Am);A.on("openConv",Ad);var BC=A5;if(NeoConfig.enableMSWS||(window.location.href.match(/&msws=1/)||window.location.href.match(/\?msws=1/))){BC=A3;if(window.location.href.match(/&msws=0/)||window.location.href.match(/\?msws=0/)){BC=A5;}}A.on("search:input",BC);if(NeoConfig.intl!=="jp"){A.on("globalUltBeaconEvent",function(BD){A.use("ult-track",function(BE){BE.fire("ultBeaconEvent",BD);});});}A.on("newMessage",AJ);A.on("editMessage",f);A.on("openOptions",Y);A.on("updateDataStore",AB);A.on("openInbox",function(){n.set("fid",{fid:"Inbox",name:strings.str_tabs_inbox});});A.on("openRUEFCInbox",function(){n.set("fid",{fid:"Inbox",extraParams:{maxMessagesToScanForContacts:G.msgsToScanContacts||2000},smartFolder:true,name:strings.str_nav_email_from_ctcts});});A.on("openContacts",AQ);A.on("openCalendar",Ay);A.on("openFolder",AI);if(G.fullPage){A.on("ws:fpMsgWidth",A9);A.on("darla:res",Al);}A.on("darla:reposSKY",Ah);A.one("#tabinbox").once("mousedown",function(BF){if(Z){return;}BF.halt(true);var BG=(C&&C.fid)?{fid:C.fid,name:BF.currentTarget.get("text")}:{fid:"Inbox",name:strings.str_tabs_inbox},BE=A.mail.common,BD=BE&&BE.cachewarmer;n.set("fid",BG);BD&&!I++&&BD.preFetchMessages("Inbox",null,100);D=(G.low_bandwidth)?"launch_inbox_low":((G.ssl_launch||NeoConfig.isFullSSL)?"launch_inbox_ssl":"launch_inbox");});var BB=A.one("#signout");if(BB){BB.on("click",function(BD){A.fire("signout");BD.preventDefault();});A.on("signout",u);}A.on("addContact",v);A.on("mrd:launch",g);A.on("update:view",Af);if(G.fullPage){A.on("windowresize",AA);A.on("uData:change",Aq);A.after("tabChange",k);A.on("tabBlur",At);}window.onbeforeunload=Ag;window._TBCD=x;if(NeoConfig.intl==="jp"){A.use("mail-ui-workspace-base-jp",function(BD){BD.mail.ui.WorkspaceJp.bindUI();});}}function AA(){if(G.fullPage){C.resizeFullpage();Av();}}function r(){if(G.launchMsgPrefetch==1&&G.prefetchObj&&G.prefetchObj.result){for(var BB in NeoConfig.prefetchObj.result.message){A.mail.Controller.Messages._preset({fid:"Inbox",msgObj:NeoConfig.prefetchObj.result.message[BB]});}}}function Aq(BC){var BD=(AX<50)?NeoConfig.minPageSize:((AX>200)?200:AX),BB=(BC&&BC.userUIPref)?BC.userUIPref.messagesPerPage:0,BE=(BB<50)?NeoConfig.minPageSize:((BB>200)?200:BB);if(BD!=BE){s();}}function s(){A.use("common-ui-dialog-helper",function(BC){var BB=strings.str_modal_pagination_change.replace("{{str_branding_mail}}",strings.str_branding_mail);
BC.common.ui.DialogHelper.alert({hd:strings.str_modal_pagination_change_title,bd:BB,hideClose:true,disableEsc:true},{ok:{handler:function(){t(true);}}});});}function k(BB){if(BB){var BC=BB.get("scrollWidth");if(BC){j(BC);}}}function At(BC){if(!BC){return;}var BB=BC.widget?BC.widget.get("scrollWidth"):0;if(NeoConfig.userAdLocations.SKY==="true"&&NeoConfig.fullPage&&BB>0&&A.one("body").hasClass("withoutad")){BC.widget.set("scrollWidth",null,{reset:true});}Az(null);}function A9(BB){j(BB&&BB.newVal);}function Al(BB){if(!BB){return;}if(BB.lowRes){c();}else{AF();}}function Ah(BB){A.mail.Tabs.cfgTabResize(BB.width);}function j(BB){var BC=A.one("#main").get("offsetWidth"),BD=A.one("#shellnavigation").get("offsetWidth")+BB;if(BD>BC){Az(BD);}else{if(BD<BC){Az(null);}}}function AF(){var BB=A.mail.Tabs.getActiveTab();if(BB&&BB.widget&&BB.widget.get("scrollWidth")){Az(null);BB.widget.set("scrollWidth",null,{reset:true});}}function c(){var BF,BD,BE,BC;var BB=A.mail.Tabs.getActiveTab();if(BB&&BB.widget){BF=BB.widget.get("scrollWidth");if(!BF){Az(null);}else{BC=A.one("#main").get("winWidth");BD=A.one("#shellnavigation").get("offsetWidth");BE=BF+BD+A.one("#theAd").get("offsetWidth");if(BC>BE){Az(null);}}}}function Av(){var BB;if(y&&A.one("#main")&&A.one("#shellnavigation")&&A.one("#theAd")){BB=A.one("#main").get("winWidth");if(i){if(BB>y){c();}}else{if(BB<y){AF();}}y=BB;}}function Az(BC){var BB=A.one("#main");i=BC;if(BC){BB.setStyle("width",BC+"px");}else{BB.setStyle("width",null);}}function g(BC,BB){A.use("mail-controller-mrd",function(BD){if(BD.mail.Controller.MRD){if(BB){BD.mail.Controller.MRD.handleLaunch();}else{BD.mail.Controller.MRD.handleClick(BC);}}});}function x(BB){if(BB){A.use("mail-controller-mrd",function(BC){BC.mail.Controller.MRD.handleToolbar(BB);});}}function AQ(BB){A.fire("Y.mail.ui.Workspace:openContacts:start");A.use("contacts-ui-contactsview",function(BD){var BC=BD.contacts.ui.getContactsViewInstance(BB);BC.updateConfig(BB);BD.mail.Tabs.switchToTab(Ar);});}function v(BD,BE,BC,BB){if(BD==BE){BD="";}A.use("contacts-ui-addcontactdialog","common-net-sessionmgr",function(){var BF=new A.contacts.ui.AddContactDialog[(BC||BB)?"editDialog":"createDialog"](BB?BB:(BC?{fields:BC}:{name:P(BD),email:P(BE)}),{requestFn:A.common.net.SessionMgr.requestProxy,disableBuddyAdd:strings.str_cfg_tog_disableBuddyAdd,guid:G.neoguid,wspath:G.socdirProxyPath,composeFn:function(BH){var BG={cbfn:function(BI){var BJ=BI.get("header");BJ.to=[{email:BH||""}];BI.set("header",BJ);}};AJ(BG);}});});}function Ay(){if(A1&&G.calendarTabEnabled){A.mail.Tabs.switchToTab(A1);}}function Y(BB){if(strings.str_cfg_tog_classic_option){var BC="/ym/Options";if(BB&&BB.params&&BB.params.section==="spam"){BC="/ym/spamoptions";}A.use("common-ui-dialog-helper",function(BD){BD.common.ui.DialogHelper.alert({hd:strings.str_conv_btn_view_conv_options,bd:strings.str_modal_option_attention},{ok:{handler:function(){window.open(BC,"new");}}});});return;}A.use("options-ui-mailoptionsview",function(BG){var BD,BE;if(BB&&BB.params&&BB.params.section&&BB.params.section=="spam"){BB.params.section="general";}if(BG.mail.ui.optionsTab!=null){BG.mail.Tabs.switchToTab(BG.mail.ui.optionsTab);if(BB&&BB.params&&BB.params.section&&(BD=document.getElementById("moIframeTab"))){try{BG.fire("openMOTab",{page:BB.params.section});}catch(BF){}}}else{BB=(typeof BB!=="undefined")?BB:{};AH({label:strings.str_tabs_options,forcePane:true,widget:BG.options.ui.getOptionsViewInstance(BB.params||{}),acwHandler:function(BH){BG.mail.ui.optionsTab=BH.tab;}});}});}function A3(BI){if(strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false){return false;}var BH,BF,BJ,BE,BD,BC,BG;if(BI.query!==undefined){BI.query=(typeof BI.query==="string")?{keyword:BI.query}:BI.query;}var BB=new B.Stopwatch("Search","start");BI.stopWatchRT=BB;A.use("mail-ui-mailSearchController",function(BK){if(BK.mail.ui.searchTab!=null&&!(window.location.href.match(/&multi=1/)||window.location.href.match(/\?multi=1/))){BF=BK.mail.ui.searchTab;BK.mail.Tabs.switchToTab(BF);BH=BF.widget;BH.set("query",BI.query);BH.set("customTitle",BI.customTitle);BH.set("stopWatchRT",BB);BH.sync();}else{BI.fid="%40S%40Search";AH({label:strings.str_tabs_search,widget:new BK.mail.ui.Search(BI),acwHandler:function(BL){BK.mail.ui.searchTab=BL.tab;BK.mail.ui.searchTab.widget.sync();}});}});}function A5(BJ){if(strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false){return false;}var BH=BJ.query,BD;if(typeof BH==="object"){return false;}if(A.Lang.trim(BH)!=""){BD=A.Lang.trim(BH).replace(/([\~|\`|\@|\#|\$|\%|\^|\&|\*|\_|\-|\+|\,|\.|\/|\\|\;|\?|\[|\]|\\|\{|\}|\||\(|\)|\"|\'|\!|<|>])/g,"");if(BD==""){A.use("mail-ui-searchutils",function(BL){BL.mail.ui.SearchUtils.showAlert("SearchPuncError");});return false;}}var BI,BF,BK,BE,BC,BB,BG;A.use("mail-ui-search-base",function(BM){if(BJ.query!==undefined){BJ.query=S(P(BM.Lang.trim(BJ.query)));}var BL=new B.Stopwatch("Search","start");BJ.stopWatchRT=BL;if(BJ.newSearch==true){BC=BM.one("body");BB=BC.one("#main");BG=BB.one("#shellnavigation");BE=BG&&BG.all("div.search-nav");BE&&BE.remove();}if(BM.mail.ui.searchTab!=null){BF=BM.mail.ui.searchTab;BM.mail.Tabs.switchToTab(BF);BI=BF.widget;if(BJ.total){BI.set("refinementMax",BJ.total);}BI.set("getRefinement",BJ.getRefinement);BI.set("query",BJ.query);BI.set("isRefinement",BJ.isRefinement);BI.set("stopWatchRT",BL);BI.sync();BF.set("title",strings.str_tabs_search+(BJ.query.length>0?": "+P(BJ.query):""));}else{BJ.fid="%40S%40Search";BK=BJ.query.length>0?": "+P(BJ.query):"";AH({label:strings.str_tabs_search+BK,widget:new BM.mail.ui.Search(BJ),acwHandler:function(BN){BM.mail.ui.searchTab=BN.tab;BM.mail.ui.searchTab.widget.sync();if(!BG){BC=BM.one("body");BB=BC.one("#main");BG=BB.one("#shellnavigation");}BG&&BG.all(".items").addClass("hidden");BM.fire("MailSearch:start");}});}});}function AJ(BF,BI){if(!BI){var BB=AK.getActiveTab();if(!AK.canDeactivateTab(BB)){A7(BB,function(){AJ(BF,true);
});return;}}var BD=new B.Stopwatch("Compose","start");A.fire("Y.mail.ui.Workspace:composeMessage:start");BF=BF||{};if(BF.cdo&&!BF.cdo.get("passive")){AG(BF,BD);}var BG=null,BE=BF.widget,BC=[].concat(U),BH;BH=function(BJ){var BK,BR=strings.str_tabs_compose,BM=BF.action,BQ=BE&&BE.msgPane,BP;if(BE&&!BG.get("active")){if(BE._evt["activechange-composeresume"]){BJ.detach(BE._evt["activechange-composeresume"]);}BE._evt["activechange-composeresume"]=BG.after("activeChange",function(BS){if(BS.newVal){BJ.detach(BE._evt["activechange-composeresume"]);BH(BJ);}});return;}BD.start(1,"initView");window.UploaderService=window.UploaderService||BJ.mail.UploaderService;if(!BF.forceNew){var BL,BO,BN=AK.tabs;for(BL=0;BL<AK.tabs.length;BL++){BO=BN[BL].widget;if(BO&&BO.type&&BO.type=="author"){if(BO.matchOrigin(BF)&&!BO.get("dirty")&&!BO.isSaved()){BJ.Lang.later(0,0,function(){BJ.mail.Tabs.switchToTab(BN[BL]);});BD.stop("ComposeInTab");return;}}}}BK=new BJ.mail.ui.AuthorView();BD.action=BM;BF.stopwatch=BD;BP=BF.oMsg&&BF.oMsg.header&&BF.oMsg.header.subject;BK.initCompose(BF);if(BF.oMsg&&BF.oMsg.header){BR=P(S(BF.oMsg.header.subject));}if(BE){if(!BF.hasMsgList&&(BM=="reply_all"||BM=="reply_sender"||BM=="forward")&&BQ&&NeoConfig.send_confirm_nav_enabled){BK.backToMessageTab=function(BT){var BS=function(){if(BT=="back-to-message"){BQ.message.header.subject=BP;BG.set("title",BP);}else{BG.set("title",null);}BG.set("canDeactivate",-1);BG.once("widgetChange",function(BU){BG.set("canDeactivate",1);A2(BU.newVal,BG);});BK.after("closeChange",function(BU){BG.set("widget",BE);});BG.removeChild(BK);};if(BT=="next"||BT=="prev"){BJ.use("mail-ui-messagepane-next-prev",function(){BQ&&BQ.stepMessage(BT,BS,0,0,1);});}else{BS();}};}BG.set("title",BR);BG.once("widgetChange",function(BS){BS.prevVal.after("closeChange",function(BT){if(BT.newVal){BG.removeChild(BS.prevVal);}});BS.newVal.after("closeChange",function(BT){if(BT.newVal){BG.set("close",1);}});A2(BS.newVal,BG);});BG.set("widget",BK);}BK.subview.once("renderComplete",function(){BD.stop();});if(!BG){BG=AH({label:BR,widget:BK,forcePane:false,sync:true,noScroll:BF.noScroll});if(!BG){return;}else{BG.detach("closeHalted");BG.on("closeHalted",function(BS){BS.halt(true);});}}BK.bindComposeView();BJ.fire("Y.mail.ui.Workspace:composeMessage:complete");if(BF.callFromLaunch){!G.noDarla&&K(function(BS){BS.fire("darlaEvent",{action:(NeoConfig.low_bandwidth)?"launch_compose_low":((NeoConfig.ssl_launch||NeoConfig.isFullSSL)?"launch_compose_ssl":"launch_compose")});},false);}};if(BE){BG=BE.tab||A.mail.Tabs.getActiveTab();BG.detach("closeHalted");BG.on("closeHalted",function(BJ){BJ.halt(true);});}BC.push(BH);AV();BD.start(1,"moduleLoad");A.use.apply(A,BC);}function AV(BB){A.use("contacts-api","contacts-api-utils",function(BE){var BC=BE.contacts,BD=BC.utils,BF=BC.api;if(!BD.areContactsLoaded()){if(BB){BE.Lang.later(0,null,function(){BF.load();});}else{BF.load();}}});}function f(BD){var BC=new B.Stopwatch("Compose","start");BD=BD||{};AG(BD,BC);var BB=[].concat(U);BB.push(function(BH){BC.start(1,"initView");window.UploaderService=window.UploaderService||BH.mail.UploaderService;var BF=AK.getTab(function(BI){return BI.type&&BI.type==="author"&&BI.matchOrigin(BD);});if(BF){BH.mail.Tabs.switchToTab(BF);}else{var BG=new BH.mail.ui.AuthorView();BC.action=BD.action;BD.stopwatch=BC;BG.initCompose(BD,true);var BE=strings.str_tabs_compose;if(BD.oMsg&&BD.oMsg.header&&BD.oMsg.header.subject&&BD.oMsg.header.subject!=""){BE=P(S(BD.oMsg.header.subject));}BG.subview.once("renderComplete",function(){BC.stop();});BF=AH({label:BE,widget:BG,noScroll:BD.noScroll,acwHandler:function(BJ){var BI=BJ.tab;BI.detach("closeHalted");BI.on("closeHalted",function(BK){BK.halt(true);});BG.bindComposeView();}});}});BC.start(1,"moduleLoad");A.use.apply(A,BB);}function AG(BC,BB){if(BC.oMsg&&BC.fid){BB.CMGStart=new Date();A.mail.Controller.Messages.get({fid:BC.fid,msg:BC.oMsg,ovparams:{truncateAt:null}},{success:function(BE,BD){if(!BB.CMGEnd){BB.CMGEnd=new Date();BD&&BD.respProps&&(BB.wasCached=BD.respProps.wasCached);}},failure:function(){}});}}if(NeoConfig.hasReadTabPool){var AO=function(){this.pool=[];};AO.prototype.create=function(){A.log("Creating a tab in readpool...");var BC,BB=AW({invisible:1,close:1,reuse:1,acwHandler:b});BC={msgList:0,reuse:1,close:1};if(NeoConfig.hasConv){BB.widget=new A.mail.ui.ConvView(BC);}else{BB.widget=new A.mail.ui.MessagesView(BC);}BB.set("widget",BB.widget);BB.set("reuse",1);BB.widget.render(BB.elContent);A2(BB.widget,BB);this.add(BB,NeoConfig.hasConv);};AO.prototype.add=function(BB,BC){if(BC===NeoConfig.hasConv&&BB.reuse){this.pool.push(BB);}};AO.prototype.get=function(BC){var BB=this.pool;return(BC===NeoConfig.hasConv&&BB.length>0)?BB.splice(0,1)[0]:null;};AO.prototype.check=function(){if(this.pool.length==0){this.create();}};AO=new AO();A.on("readpool:check",function(){AO.check();});}function Ae(BI,BJ,BB){BB.start(1,"GetTabCB");var BF=A.mail.model.DataStore.Messages.getPermMidPart,BH=BI.msgPane&&BI.msgPane.get("message"),BD=(BH&&BH.message&&BH.message.mid)||"",BG=BD&&BI.msgPane.fullView&&BF(BJ.mid)==BF(BD);if(BH&&BI.msgPane.fullView&&!BD){var BC=NeoConfig.loginId;try{BC+=":"+BH.fid;BC+=":"+BH.message.header.receivedDate;}catch(BE){BC+=":MISSING MESSAGE BODY";}B.error.report("MissingMidError in hasMsgTab for YID:FID:REC_DATE"+BC,"MessageRead",1);J("messageread","openMessageGetTabIssue");}if(BG){BI.msgPane.markAsRead&&BI.msgPane.markAsRead();}return BG;}function A6(BC,BF,BB){BB.start(1,"GetTabCB");var BH=A.mail.model.ConvStore.Conversations.getPermCidPart,BD=BC.msgPane&&BC.msgPane.get("message"),BG=(BD&&BD.message&&BD.message.cid)||"",BE=BG&&BC.msgPane.fullView&&BH(BF.cid)==BH(BG);if(BD&&BC.msgPane.fullView&&!BG){J("convread","openConvGetTabIssue");}return BE;}function p(BQ,BV){try{var BM=BQ.msg,Be=BQ.fid,BW=A.one("#"+Be),Bj=BQ.sortCol||0,BC=BQ.query||0,Bb=BQ.searchRequestAttrs||{},BI=BQ.searchListMgr||{},BZ=BQ.index||0,BK=BQ.noScroll,BN=50,BB=BQ.arrMsgSeq||0,BT=(BB&&BB.length)||0,BO=(BZ-BN>0)?BZ-BN:0,BS=(BB&&(((BZ+BN)<BT)?BZ+BN:BT))||null,BU=(BB&&BB.slice(BO,BS))||0,BL=B.Stopwatch,BX=BQ.isConv?BL.get("ConvInPreview"):BL.get("MsgInPreview"),Bf=null,BD=false,BJ=BQ.callFromLaunch?BQ.callFromLaunch:false,BR=G.om&&G.om.isSandboxEnabled,Bg=BR&&G.om&&G.om.isMsgReadAppRTB,BY,BE,Bl=function(){if(BJ){K(function(Bm){BX.start(1,"TabDarlaEvent");
Bm.fire("darlaEvent",{action:(NeoConfig.low_bandwidth)?"launch_message_low":((NeoConfig.ssl_launch||NeoConfig.isFullSSL)?"launch_message_ssl":"launch_message")});},false);}},BP,BF,Ba,Bh,BG,Bk,Bc=BQ.isConv?"cid":"mid",Bd=BQ.isConv?"convread":"messageread";if(typeof BM==="string"){BM=BQ.isConv?{cid:BM}:{mid:BM};}if(BM&&!BM[Bc]){return;}BX=new BL("MsgInTab");BX[Bc]=BM[Bc];if(Be==="%40S%40Search"){Ba=BM.fid?BM.fid:BM.sourceFolderInfo.fid;}else{if(Be==="Inbox"){if(!BW.hasClass("selected")){BW.addClass("selected");}}}BD=(Be==="%40S%40Search"&&Ba==="Draft");if(!BQ.isConv&&(Be==="Draft"||BD)){A.fire("editMessage",{oMsg:BM,fid:(BD?Ba:Be),action:"edit",enableRetry:(BD?true:false),noScroll:BK});return;}Bf=BQ.isConv?AK.getTab(function(Bm){return A6(Bm,BM,BX);}):AK.getTab(function(Bm){return Ae(Bm,BM,BX);});if(Bf){A.mail.Tabs.switchToTab(Bf);if(G.hasConv){Bf.widget&&Bf.widget.refreshMessage&&Bf.widget.refreshMessage(BQ);}return;}AV();BX.start(1,"NewView");if(NeoConfig.hasReadTabPool&&!BQ.isConv){Bf=AO.get(BQ.isConv);if(Bf){Bh=1;Bf.set("close",0);Bf.set("reuse",0);}}if(Bf){Bf.invisible=0;BP=Bf.widget;BF=BP.msgPane;BP.fid=BF.fid=Be;BP.stopwatch=BF.stopwatch=BX;BF.sortedColumn=Bj;BF.searchQuery=BC;BF.searchRequestAttrs=Bb;BF.searchListMgr=BI;BF.arrMessageSequence=BU;BP.callFromLaunch=BJ;BX.start(1,"preload");BF.preload(BM);}else{BE={msgList:0,fid:Be,message:BM,neighbors:BQ.neighbors,sortedColumn:Bj,searchQuery:BC,arrMessageSequence:BU,callFromLaunch:BJ,stopwatch:BX};if(BQ.isConv){BP=new A.mail.ui.ConvView(BE);}else{BP=new A.mail.ui.MessagesView(BE);}BF=BP.msgPane;}BP.once("renderComplete",function(){if(!Bg){AS(BX,BP,BF);}J(Bd,"tabbedMessageRead");Bl();BV&&BV();if(NeoConfig.hasReadTabPool&&!BQ.isConv){setTimeout(function(){AO.check();},0);}});if(Bg){BY=A.later(3000,null,AS,[BX,BP,BF]);BF.once("msgReadAppComplete",function(){BY.cancel();AS(BX,BP,BF);});}BX.start(1,"EscapeMessageSubject");BG=BQ.isConv?BM.subject||strings["str_msg-view_tab_no_subject"]:(BM.header&&BM.header.subject)||BM.subject||strings["str_msg-view_tab_no_subject"];BG=P(S(BG));if(NeoConfig.bidi){Bk=BQ.isConv?BM.subjectDir||"":(BM.header&&BM.header.subjectDir)||BM.subjectDir||"";if(Bk==""&&A.Intl.detectDirection){Bk=A.Intl.detectDirection(BG);}}BX.start(1,"AddCW");var BH={label:BG,widget:BP,noScroll:BK};if(NeoConfig.hasConv){BH.forcePane=true;}if(Bf){BH.tab=Bf;}else{BH.acwHandler=b;}BH.acwHandlerArgs={stopwatch:BX,sboxEnabled:BR,msgPane:BF,fid:Be,message:BM,neighbors:BQ.neighbors,usedTabPool:Bh,isConv:BQ.isConv};Bf=AH(BH);if(NeoConfig.bidi){Bf.set("direction",Bk);}}catch(Bi){J(Bd,"openMessageError");A.use("common-utils-error",function(){B.error.report("openMessageError",Bi,1,1,1);});}}function Ad(BC,BB){BC=BC||{};BC.isConv=1;p(BC,BB);}function Am(BC,BB){BC=BC||{};BC.isConv=0;p(BC,BB);}function b(BD){var BB=BD.cfg.acwHandlerArgs,BC=BB.isConv?"convread":"messageread";BB.stopwatch.start(1,"TabCallFromLaunch");BB.stopwatch.title=(BB.isConv?"ConvInTab":"MsgInTab")+" Stopwatch (sandbox "+(BB.sboxEnabled?"enabled":"disabled")+")\n";if(BB.isConv){BB.stopwatch.start(1,"PostOpenConv");}else{BB.stopwatch.start(1,"PostOpenMessage");}if(BB.usedTabPool){try{BB.msgPane.set("message",{fid:BB.fid,message:BB.message,neighbors:BB.neighbors});}catch(BD){J(BC,"openMsgSetMsgError");}}}function Au(BB){var BC=0;if(BB.widget&&(BB.widget.type=="omtab")){return 1;}if(!AK.maxTabsReached&&(!NeoConfig.maxOpenTabs||(AK.tabs.length<NeoConfig.maxOpenTabs))){return 1;}AK.iterateTabs(function(BE){var BD=BE.widget;if(BD&&BD.type&&((BD.type=="messagepane")||(BD.type=="omtab"))){BC++;}return false;});A.use("common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btn_generic",function(BD){setTimeout(function(){var BE={hd:strings.str_modal_too_many_tabs_title,bd:strings.str_modal_too_many_tabs_note,modal_classes:"lg"};if(BC>0){BE.ft=B.substitute(BD.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"ok","default":"default",btnLabel:strings.str_modal_too_many_tabs_close_auto})+B.substitute(BD.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"cancel",btnLabel:strings.str_modal_too_many_tabs_close_manual});BD.common.ui.DialogHelper.createCommon(BE,{ok:{handler:function(){AU();}}});}else{BD.common.ui.DialogHelper.alert(BE);}J("TABS","max_opened");},0);});return false;}function A7(BB,BC){A.use("common-ui-dialog-helper",function(BD){setTimeout(function(){var BE={hd:strings["str_modal_tabdeactivate_title"],bd:strings["str_modal_tabdeactivate_body"]};BD.common.ui.DialogHelper.confirm(BE,{ok:{handler:BC},cancel:{}});},0);});}function AW(BB){try{var BC=AK.createTab(BB);BC.on("tab:add",q);if(BB.acwHandler){BC.on("tab:add",BB.acwHandler);}}catch(BD){J("workspace","createTabError");}return BC;}function A8(BB){var BD=BB.tab||AW(BB),BE=BB.widget,BC=BE&&BE.type;try{AK.addTab(BB,BD);}catch(BF){J("workspace",("addTabError"+(BC||"")));}return BD;}function q(BF){var BB=BF.cfg,BD=BF.tab,BE=BB.widget,BC=BE&&BE.type;if(!BD.reuse){A2(BB.widget,BD);}if(!BB.inactive){try{A.mail.Tabs.switchToTab(BD);}catch(BF){J("workspace",("tabActiveError"+(BC||"")));}}}function AH(BD){var BC,BE=0;if(!Au(BD)){return null;}if(!BD.sync){var BB=AK.getActiveTab();if(!AK.canDeactivateTab(BB)){if(BB===A.mail.ui.optionsTab){A.fire("tab:deactivateOptionsTab",{newTab:true,addtab:function(){A8(BD);}});}else{A7(BB,function(){A8(BD);});}return null;}}return A8(BD);}function A2(BC,BF){try{if(BC){var BD=[],BE=BC.type;BF.detachWidget&&BF.detachWidget();function BG(BI){var BJ=BI.currentTarget&&BI.currentTarget.widget&&BI.currentTarget.widget.msgPane&&BI.currentTarget.widget.msgPane.message;if(BC.get("hideToolbar")){w(BC,BI.newVal);}if(BC.get("hideNavbar")){AZ(BC,BI.newVal);}if(BC.get("clearNavbar")){BA(BC,BI.newVal);}NeoConfig.msgrData=NeoConfig.msgrData||{};NeoConfig.msgrData.message=(BJ&&BJ.fid=="%40C%40Chats")?BJ:null;}if(!BC.get("navToolbar")){BC.set("navToolbar",V.originalNav);}BF.after("navKeysChange",function(BI){l.set("navKeys",BI.newVal);});if(BF.activeChangeHandle){BF.activeChangeHandle.detach();
}BF.activeChangeHandle=BF.after("activeChange",BG);function BB(BI){if(BI.newVal&&BC.set){if(!BF.reuse){if(BC.type=="omtab"){return;}BF.detachWidget();}}}BD.push(BF.on("closeChange",BB));if(BC.on){BD.push(BC.on("navToolbarChange",m));BD.push(BC.on("contentToolbarChange",Aw));}BF.evtHandles=BD;BF.detachWidget=function(){var BK,BJ=BF.evtHandles,BI=BJ.length,BL;for(BL=0;BL<BI;BL++){BK=BJ[BL];BK&&BK.detach();BJ[BL]=null;}BF.evtHandles=[];};}}catch(BH){J("workspace",("bindTabError"+(BE||"")));}}function Ao(BB){if(BB!=l.get("navKeys")){if(z){z.detach();}if(BB){z=A.on("key",BB.onKeyDown,A.one("document"),("down:"+BB.charCodes.join(",")),l);if(A.UA.os=="macintosh"&&A.UA.gecko){A.on("key",BB.onKeyPress,A.one("document"),"press:63",l);}}}}function AU(){AK.iterateTabs(function(BC){var BB=BC.widget;if(BB&&BB.type&&((BB.type=="messagepane")||((BB.type=="omtab")&&BB.get("canClose")))){BC.set("close",1);}return false;},true);}function AE(BB){if(typeof(BB)==="string"&&BB!=""&&(location.href.indexOf("fullpage")==-1)){var BC=(BB=="1")?0:1;if(G.fullPage!==BC){s();return;}}t();}function AB(BB){AX=A.common.persist.UserData.get("userUIPref.messagesPerPage");BB.modifiedObjs.userdata&&A.common.persist.UserData.load(true);BB.modifiedObjs.metadata&&A.mail.persist.MetaData.load();(typeof(BB.msgPaneVisible)!="undefined")&&A0.widget.previewPaneUIChange(BB.msgPaneVisible);}function t(BD){if(BD){try{var BC=window.location.href.split("#")[0],BH=(BC.indexOf("?")!=-1),BE=(BC.indexOf(".rand")!=-1),BF=".rand="+(Math.round(Math.random()*1000000000)),BB="";if(BE){BB=BC.replace(/\.rand\=([\d]+)/g,BF);}else{BB=(BH)?BC+"&"+BF:BC+"?"+BF;}window.location.href=BB;return;}catch(BG){}window.location.reload();}else{AX=A.common.persist.UserData.get("userUIPref.messagesPerPage");A.common.persist.UserData.load(true);A.mail.persist.MetaData.load();}}function Af(BB){A.use("mail-ui-workspace-ext",function(){l._switchView(BB);});}function AM(){return A0;}function AT(BF,BC){var BB=A.mail.Tabs.tabs,BI,BE=0,BH=0,BD,BG;for(BI=0;BI<BB.length;BI++){BD=BB[BI].widget;if(BD&&BD.type&&BD.type=="author"){if(BD.get("dirty")&&BD.get("dirty")!=="ForceClose"){BE++;}if(BF&&(BG=BD.composeView)){if(!BG.canWeClose(BC)){return -1;}}}}return BE;}function o(BC){var BB=A.mail.Tabs.tabs,BF,BD,BE,BI=0,BH=function(BK,BJ){BJ.detach("compose:saveFail",BG);BJ.dirty=false;BI--;if(BI==0){BC&&BC({failure:-1});}},BG=function(BK,BJ){BJ.detach("compose:saveSuccess",BH);BJ.dirty=true;BC&&BC({failure:1});};for(BF=0;BF<BB.length;BF++){BD=BB[BF].widget;if(BD&&BD.type&&BD.type=="author"){if(BD.get("dirty")&&BD.get("dirty")!=="ForceClose"&&(BE=BD.composeView)){BI++;BE.once("compose:saveSuccess",BH,null,BE);BE.once("compose:saveFail",BG,null,BE);BE._invokeSaveDraft({auto:true});BE.dirty="ForceClose";}}}if(BI==0){BC&&BC({failure:-1});}}function Ag(BH){var BG,BD=0,BI,BB=AK.tabs,BF,BC;if(BG=window.onBeforeUnloadBizMail){BG();return;}try{BD=AT();}catch(BE){}if(BD){BI=strings.str_error_ComposeNavigateAway;}if(BI&&BD){if(window.event){window.event.returnValue=BI;}if(BH&&BH.returnValue){BH.returnValue=BI;}return BI;}}function u(){setTimeout(function(){try{if(NeoConfig.isBizmail){A.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});}window.location.href=R(strings.str_cfg_url_signout,{},null,null,strings);}catch(BB){}},100);}function AS(BB,BC,BD){BB&&BB.stop();BC&&delete BC.stopwatch;BD&&delete BD.stopwatch;}A.augment(l,A.Attribute);l.addAttrs({navKeys:{setter:Ao}});A.mix(l,{addContentWidget:AH,init:Ab,processStatQueue:e,postLoad:Ak,render:AN,moUpdate:AE,presetMsgs:r,refreshPersistData:t,getFolderContent:AM,getComposeDirtyCount:AT,saveComposeDraft:o});}();V=A.mail.ui.Workspace;function M(){var Y=1;window.onerror=function(b,c,a){J("Window.error","unhandled_exception");if(NeoConfig.log_error_yapache==1){if(Y){Y=0;A.use("common-utils-error",function(d){Y=1;B.error.report("[msg: "+b+"] [file: "+c+"] [line#: "+a+"] ","UNHANDLED_EXCEPTION",1,0,1);});}}};}},"1.0.0",{requires:["mail-modules","mail-templates","mail-ui-foldersview-base","common-ui-tabs-base","mail-ui-messagesview-base","mail-ui-convview-base","common-ui-toolbar-base","mail-ui-searchbar","gx-ui-galaxyview-base","common-utils-stats","mail-ui-common-string-utils"]});

YUI.add("mail-ui-factory-base",function(G){G.namespace("mail.ui");var C=G.mail.ui.Factory={},E={};function D(L){var K=G,I,J,M=L.split("."),H=M.length;for(J=0;J<H;J++){if(J==H-1){I=M[J];}else{K=K[M[J]];}}return[K,I];}function B(L,J){if(!L||!J){return;}var I=D(L),K=I[0],H=I[1],M;if(K[H]&&K[H]!=J){if(!(L in E)){E[L]=K[H];}M=K[H];K[H]=J;F(L,J,M);}}function A(L){if(L&&L in E){var J=D(L),K=J[0],H=J[1],M,I;M=K[H];K[H]=E[L];I=K[H];if(I!=M){F(L,I,M);}}}function F(I,H,J){C.fire("uifactory:change",{ns:I,newCtor:H,oldCtor:J});}G.augment(C,G.EventTarget);G.mix(C,{register:B,unregister:A});},"1.0.0");

YUI.add("mail-ui-basewidget",function(B){var A=function(C){A.superclass.constructor.call(this,C);this.set("navKeys",B.mail.ui.navKeys);if(!this.NAME){this.NAME="BaseWidget";}};B.extend(A,B.common.ui.ContentWidget);B.namespace("mail.ui").BaseWidget=A;},"1.0.0",{requires:["common-ui-contentwidget","mail-ui-navkeys"]});

YUI.add("mail-ui-header",function(A){var E=A.common.Utils.substitute,D=A.Node.create,B=A.common.persist.UserData,F=A.common.Utils,G=A.mail.ui.headerUtils,H=NeoConfig&&NeoConfig.uh2Enabled,C={"default":"_shared_module_offscreen_bin_menus_external_links","mts":"_shared_module_offscreen_bin_menus_mts_external_links","sbc":"_shared_module_offscreen_bin_menus_sbc_external_links"};var I=function(){};A.extend(I,A.mail.ui.HeaderBase);A.mix(I.prototype,{omModifiedHeaderMenuFlag:false,omMenuObj:{},omModifiedOptionsMenuFlag:false,omOptionsMenuObj:{},calAddedOptionsMenuFlag:false,calOptionsMenuObj:null,render:function(){var Q=this,O;if(H){A.on("menu:config",Q.setUh2MenuConfig,Q);A.on("search:config",Q.setOMSearch);A.on("change:username",Q.setUh2Username);A.on("click",function(){A.fire("signout");},"#yuhead-me-signout");var L=false,M=false;A.Global.on("ucs:userMenuShow",function(f){var d=this;if((d.omModifiedHeaderMenuFlag||!L)){var k=new A.EventTarget();k.publish("ucs:userMenuItems",{broadcast:2,emitFacade:true});var b=[];var Z=[],W,c,Y=true;if(d.omMenuObj&&d.omMenuObj.length){for(var a=0;a<d.omMenuObj.length;a++){c=d.omMenuObj[a];if(c["icon"]["class"]!="signout"&&c["data_action"].search("offline")==-1){W={menuText:c.label,actionType:"customEvent",actionData:c.data_action,icon:c.icon["class"].substr(5),isActive:c.selected};Z.push(W);if(Y&&c.selected){Y=false;}}}b.push(Z);for(var a=0;a<d.omMenuObj.length;a++){c=d.omMenuObj[a];if(c["icon"]["class"]=="signout"||c["data_action"].search("offline")>-1){var h=[{menuText:c.label,actionType:"customEvent",actionData:c.data_action,isDisabled:Y}];b.push(h);}}}if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){var X=NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal,g=NeoConfig.userDataObj.otherYahooMboxes.yMbox,j=[];for(var a=0;a<X;a++){var h={menuText:g[a].email,actionType:"customEvent",actionData:"bizmail|"+a,highlightDisable:true,isDisabled:false};j.push(h);}b.push(j);}k.fire("ucs:userMenuItems",{"menuGroups":b,reset:true});L=true;d.omModifiedHeaderMenuFlag=false;}},Q);A.Global.on("ucs:userMenuItemClick",function(X){var W=X.actionData.split("|");G.handleUHMenus({dataAction:W[0],uh2Args:W});});A.Global.once("ucs:helpMenuShow",function(W){Q.setUh2Dropdown(Q,"_shared_module_offscreen_bin_menus_help",G.getHelpMenuObj,"ucs:helpMenuItems");});A.Global.on("ucs:helpMenuItemClick",function(W){switch(W.actionData){case"newfeature":case"blog":case"help":A.fire("darlaEvent",{action:"help_dd_click_"+W.actionData});break;case"link":break;default:G.handleUHMenus({dataAction:W.actionData});}});A.Global.once("ucs:helpDebugMenuShow",function(W){A.use("mail-debug",function(Z){Q.setUh2Dropdown(Q,"_shared_module_offscreen_bin_menus_debug",Z.mail.Debug.getDebugMenuObj,"ucs:helpDebugMenuItems");if(NeoConfig.isInternalIP!==1){var X=Z.one("#yuhead-help-panel");X.removeChild(X._node.lastChild);}});});A.Global.on("ucs:helpDebugMenuItemClick",function(W){A.use("mail-debug",function(X){X.mail.Debug.handleDebugOption({dataAction:W.actionData});});});A.Global.on("ucs:utilityMenuShow",function(W){if(Q.omModifiedOptionsMenuFlag||!M||Q.calAddedOptionsMenuFlag){Q.setUh2Dropdown(Q,"_shared_module_offscreen_bin_menus_options",G.getOptionsMenuObj,"ucs:utilityMenuItems",{omOptionsMenuObj:Q.omOptionsMenuObj,calOptions:Q.calOptionsMenuObj});if(Q.omModifiedOptionsMenuFlag||!M){Q.omModifiedOptionsMenuFlag=false;M=true;}if(Q.calAddedOptionsMenuFlag){Q.calAddedOptionsMenuFlag=false;}}});A.Global.on("ucs:utilityMenuItemClick",function(W){G.handleUHMenus({dataAction:W.actionData});});A.Global.on("ucs:logoDebug",function(W){G.showDialogBox({altKey:true,preventDefault:function(){}});});if(NeoConfig.isBizmail=="1"){var J=A.one("#yuhead-me-signout");if(J){J.on("click",function(){A.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});});}}}else{if(A.one("#greeting")){var S=(NeoConfig.isBizmail=="1")?F.escapeHtml(B.get("userSendPref.defaultFromAddress")):F.escapeHtml(B.get("userSendPref.defaultFromName"));if(S){var U=S.split(" "),V=B.get("userSendPref.loggedInAlias"),R=A.one("#greeting").get("innerHTML"),P=U.length;if(P>0){O=U.splice(0,P>1?P-1:P);if(strings.str_tog_showFirstAsFriendlyName){R=R.replace(V,O.join(" "));}else{R=R.replace(V,U[0]);}A.one("#greeting").set("innerHTML",R);}}}A.once("click",Q.showHelpMenu,"#btn-help",Q);A.once("click",Q.showHeaderMenu,"#btn-uh-account",Q);A.once("click",Q.showOptionsMenu,"#btn-options",Q);if(A.one("#btn-external-links")){var K=NeoConfig.partnerType;var T=(K)?C[K]:C["default"],N="#menu-"+((K)?K+"-":"")+"external-links";A.once("click",Q.showExternalLinksMenu,"#btn-external-links",Q,T,"#btn-external-links",N);}A.on("click",G.showDialogBox,"#ymail-image",Q);A.on("menu:config",Q.setHeaderMenuConfig,Q);A.on("search:config",Q.setOMSearchNonUh2);if(strings.str_cfg_tog_showMobilizer){A.on("click",Q.showMobilizer,"#mobilizer",Q);}}this.rendered=1;A.fire("header:rendered");},setOMSearch:function(K){var J=ucs.UhSearchInterface.setVertSearchBtnText;if(!K.mode||K.mode==="default"){J(strings.str_uh_searchmail);}else{J(K.searchLabel);}},setUh2Username:function(){if(NeoConfig.isBizmail){var J=F.escapeHtml(B.get("userSendPref.defaultFromAddress"));A.Lang.later(0,null,function(){var K=new A.EventTarget();K.publish("ucs:userNameChange",{broadcast:2,emitFacade:true});K.fire("ucs:userNameChange",{username:J});});}},setUh2MenuConfig:function(K,J,L){var L=L||this;switch(K.id){case"btn-uh-account":L.omModifiedHeaderMenuFlag=true;L.omMenuObj=J;L.setUh2OpiStatus(K.icon["class"].substr(5));break;case"btn-options":L.omModifiedOptionsMenuFlag=true;L.omOptionsMenuObj=J;break;case"btn-caloptions":L.calAddedOptionsMenuFlag=true;L.calOptionsMenuObj=J;break;}},setUh2OpiStatus:function(J){var K=new A.EventTarget();K.name="ucs";K.publish("ucs:opiUpdateStatus",{broadcast:2,emitFacade:true});K.fire("ucs:opiUpdateStatus",{"opiStatus":J});},setUh2Dropdown:function(N,M,K,L,J){J=J||{};A.use(M,function(S){var P=S.ui.Templates[M],R=K(P,J),O=E(P.base,R,{},null,strings);
var T=N.getMenuGroupsFromMarkup(O);var Q=new S.EventTarget();Q.publish(L,{broadcast:2,emitFacade:true});Q.fire(L,{menuGroups:T,reset:true});});},getMenuGroupsFromMarkup:function(Y){var M=/<ul(.*?)<\/ul>/gm,Q=/<li(.*?)<\/li>/gm,L=/data-action=(.)(.*?)\1.*?>\s*<a\s*href=(.)(.*?)\3\s*title=(.)(.*?)\5\s*>(.*?)<\/a>/,R=/data-action=(.)(.*?)\1.*?>\s*<a\s*href=(.)(.*?)\3\s*>(.*?)<\/a>/,P,Z,T,U,W,S=[];while(P=M.exec(Y)){U=P[0];var N=[];while(Z=Q.exec(U)){W=Z[0];T=L.exec(W)||R.exec(W);if(T){var O=T[2],K=T[4],V=((T.length==8)&&T[6])||"",X=T[T.length-1],J={menuText:X};switch(O){case"newfeature":case"blog":case"help":case"link":J.actionType="link";J.url=K;J.target="_blank";break;default:J.actionType="customEvent";break;}J.actionData=O;N.push(J);}}!A.common.Utils.isEmpty(N)&&S.push(N);}return S;},showHelpMenu:function(K){function J(L){L.preventDefault();}J(K);A.use("common-ui-menu-helper",function(N){var L=N.one("#btn-help"),M=N.common.ui.MenuHelper;M.createLoadingMenu(L);N.use("comms-ui-menu-base","_shared_module_offscreen_bin_menus_help",function(U){U.on("click",J,"#btn-help");var T,Q,R=U.ui.Templates._shared_module_offscreen_bin_menus_help,S=G.getHelpMenuObj(R),P=E(R.base,S,{},null,strings);function O(V){U.fire("darlaEvent",{action:"help_dd_click"});if((V.ctrlKey||V.metaKey)&&V.shiftKey){U.use("mail-debug",function(W){W.mail._debugMenu(O);});}else{if(T){Q.call(T);}else{L.menu=null;M.create(L,{menu:P,cbafter:1},function(){T=L.menu;Q=T.show;T.show=O;U.one("#menu-help").on("menuSelected",G.handleUHMenus,G);});}}}O(K);});});},showOptionsMenu:function(K){var L=this;function J(M){M.preventDefault();}J(K);A.use("common-ui-menu-helper",function(O){var M=O.one("#btn-options"),N=O.common.ui.MenuHelper;N.createLoadingMenu(M);O.use("_shared_module_offscreen_bin_menus_options",function(T){T.on("click",J,"#btn-options");var S,Q,R=T.ui.Templates._shared_module_offscreen_bin_menus_options;function P(Y){T.fire("darlaEvent",{action:"help_dd_click"});if(S){if(L.omModifiedOptionsMenuFlag||L.calAddedOptionsMenuFlag){var W={omOptionsMenuObj:L.omOptionsMenuObj,calOptions:L.calOptionsMenuObj},X=G.getOptionsMenuObj(R,W),U=E(R.base,X,0,0,strings),V=S.getMenuNode();V.setContent(T.Node.create(U).get("innerHTML"));if(L.omModifiedOptionsMenuFlag){L.omModifiedOptionsMenuFlag=false;}if(L.calAddedOptionsMenuFlag){L.calAddedOptionsMenuFlag=false;}S.setAriaAttrs(V);}Q.call(S);}else{var X=G.getOptionsMenuObj(R,{omOptionsMenuObj:L.omOptionsMenuObj,calOptions:L.calOptionsMenuObj}),U=E(R.base,X,0,0,strings);M.menu=null;N.create(M,{menu:U},function(){S=M.menu;Q=S.show;S.show=P;T.one("#menu-options").on("menuSelected",G.handleUHMenus);});}}P(K);});});},showHeaderMenu:function(K){var L=this;function J(M){M.preventDefault();}J(K);A.use("common-ui-menu-helper",function(O){var M=O.one("#btn-uh-account"),N=O.common.ui.MenuHelper;N.createLoadingMenu(M);O.use("comms-ui-menu-base","_shared_module_offscreen_bin_menus_uh_account",function(P){P.on("click",J,"#btn-uh-account");var V,Q,R,X,S,T=P.ui.Templates._shared_module_offscreen_bin_menus_uh_account;S={email_id:function(){if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){return B.get("userSendPref.defaultID");}return B.get("userSendPref.loggedInAlias");},opi:function(){return"";},bizmail:function(){if(NeoConfig.userDataObj&&NeoConfig.userDataObj.otherYahooMboxes&&NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal){return E(T.bizmail,null,S,null,strings);}return false;},bizmail_items:function(){var Y="",c=NeoConfig.userDataObj.otherYahooMboxes.otherYahooMboxesTotal,b=NeoConfig.userDataObj.otherYahooMboxes.yMbox,Z,a;for(a=0;a<c;a++){Z={"label":b[a].email,"data_index":""+a};Y+=E(T.bizmail_items,null,null,null,Z);}return Y;}};X=E(T.base,T,S,null,strings);R=D(X);P.one("body").append(R);M.before("mousedown",W);function U(){if(L.omModifiedHeaderMenuFlag){var Z=R.one(".opi"),Y=R.all(".opi_signout");if(Z){Z.remove();}if(Y){Y.remove();}R.insert(L.createOpiMenu(L),R.one("ul"));if(M.menu){M.menu.setAriaAttrs(R);}L.omModifiedHeaderMenuFlag=false;W();}if(Q){V.call(Q);}else{M.menu=null;P.common.ui.MenuHelper.create(M,{menu:R},function(){Q=M.menu;V=Q.show;Q.show=U;P.one("#menu-uh-account").on("menuSelected",G.handleUHMenus,G);});}}function W(){var Z=R.one(".opi .active"),a=R.one(".opi_signout li"),Y;if(a){Y=a.one("a");if(Z){a.removeClass("disabled");Y.removeAttribute("aria-disabled");}else{a.addClass("disabled");Y.set("aria-disabled",true);}}}U(K);});});},showExternalLinksMenu:function(L,K,N,M){function J(O){O.preventDefault();}J(L);A.use("comms-ui-menu-base","common-ui-menu-helper",K,function(V){V.on("click",J,N);var U,S,R=V.one(N),P,T,Q;if(N==="#btn-external-links"){T=V.ui.Templates[K];Q={is_bizmail:function(W){return(NeoConfig.isBizmail=="1")?E(W.is_bizmail,null,null,null,strings):"";}};}P=E(T.base,T,Q,null,strings);function O(){if(U){S.call(U);}else{R.menu=null;V.common.ui.MenuHelper.create(R,{menu:P},function(){U=R.menu;S=U.show;U.show=O;V.one(M).on("menuSelected",G.handleUHMenus);});}}O(L);});},showMobilizer:function(J){J.preventDefault();A.use("mobilizer",function(){YMobilizer.load({app:"mail.new",lang:NeoConfig.lang,proxy:NeoConfig.launch_protocol+window.location.host+"/neo/mobilizer_proxy.html"});});},setHeaderMenuConfig:function(K,J,L){var L=L||this;switch(K.id){case"btn-uh-account":L.omModifiedHeaderMenuFlag=true;L.omMenuObj=J;L.updateHeaderOpiIcon(K.icon["class"]);break;case"btn-options":L.omModifiedOptionsMenuFlag=true;L.omOptionsMenuObj=J;break;case"btn-caloptions":L.calModifiedOptionsMenuFlag=true;L.calOptionsMenuObj=J;break;}},createOpiMenu:function(N){var K;var L=N.omMenuObj.length,M=A.ui.Templates._shared_module_offscreen_bin_menus_uh_account,J={opi_items:function(){var Q=[];for(var P=0;P<L;P++){var O=N.omMenuObj[P];if(O["icon"]["class"]!="signout"&&O["data_action"].search("offline")==-1){Q.push(E(M.opi_items,{"data_action":O["data_action"],"opi_class":O["icon"]["class"],"selected":O["selected"]?"active":"","checked":O["selected"]?"true":"false","label":O["label"]||""},null,null,strings));
}}return Q.join("");},opi_signout:function(){var Q=[];for(var P=0;P<L;P++){var O=N.omMenuObj[P];if(O["icon"]["class"]=="signout"||O["data_action"].search("offline")>0){Q.push(E(M.opi_signout,{"data_action":O["data_action"],"opi_class":O["icon"]["class"],"selected":O["selected"]?"active":"","label":O["label"]||""},null,null,strings));}}return Q.join("");}};K=E(M.opi,null,J,null,strings);return K;},updateHeaderOpiIcon:function(K){if(K){var J=A.one("#btn-uh-account");J.set("className","opi menu "+K);}},setOMSearchNonUh2:function(J){if(!J.mode||J.mode==="default"){A.one("#searchbutton").set("value",strings.str_uh_searchmail);}else{A.one("#searchbutton").set("value",J.searchLabel);}}},true);A.namespace("mail.ui.Header");A.mail.ui.Header=new I();A.namespace("test.Header");A.mix(A.test.Header,{headerObj:A.mail.ui.Header,setUh2MenuConfig:A.mail.ui.Header.setUh2MenuConfig,getOmMenuObj:function(){return A.mail.ui.Header.omMenuObj;},setUh2OpiStatus:A.mail.ui.Header.setUh2OpiStatus,setUh2Dropdown:A.mail.ui.Header.setUh2Dropdown,getMenuGroupsFromMarkup:A.mail.ui.Header.getMenuGroupsFromMarkup,getHelpMenuObj:G.getHelpMenuObj,getOptionsMenuObj:G.getOptionsMenuObj,showHelpMenu:A.mail.ui.Header.showHelpMenu,showOptionsMenu:A.mail.ui.Header.showOptionsMenu,showExternalLinksMenu:A.mail.ui.Header.showExternalLinksMenu,showDialogBox:G.showDialogBox,showMobilizer:A.mail.ui.Header.showMobilizer,handleUHMenus:G.handleUHMenus,setHeaderMenuConfig:A.mail.ui.Header.setHeaderMenuConfig,createOpiMenu:A.mail.ui.Header.createOpiMenu,updateHeaderOpiIcon:A.mail.ui.Header.updateHeaderOpiIcon,optOutredirect:G.optOutredirect,openOptOutDialog:G.openOptOutDialog,switchToBizmailAcct:G.switchToBizmailAcct,setOMSearchNonUh2:A.mail.ui.Header.setOMSearchNonUh2});},"1.0.0",{requires:["mail-ui-header-base","mail-ui-header-utils","common-utils","common-persist-user-data"]});

YUI.add("mail-ui-header-base",function(A){var B=function(){};B.prototype={render:function(){},bindUI:function(){}};A.namespace("mail.ui.HeaderBase");A.mail.ui.HeaderBase=B;},"1.0.0");

YUI.add("mail-ui-header-utils",function(E){var B=E.common.Utils.substitute,C=E.Node.create,A=E.common.persist.UserData,D=E.common.Utils;var F={getHelpMenuObj:function(G){var H={send_feedback_menu:strings.str_tog_sendFeedbackEnabled?G.send_feedback_menu:"",report_problem_url:NeoConfig.reportURL,report_problem:NeoConfig.strings.reportProblem,upgrade:(strings.str_cfg_tog_mailUpgradeEnabled&&NeoConfig.isBizmail!="1")?G.upgrade:"",ads:strings.str_cfg_tog_aboutOurAdsEnabled?G.ads:"",copyright:strings.str_cfg_tog_disableCopyrightLink?"":G.copyright,blog:strings.str_cfg_tog_mailBlogEnabled?G.blog:"",tos_url:"atos",kbshortCuts:G.kbshortCuts,return_to_original:NeoConfig.hideReturnLink!="1"?G.return_to_original:"",switch_to_full:NeoConfig.low_bandwidth?G.switch_to_full:"",full_mail_url:"/neo/launch?full=1",new_feature_url:NeoConfig.newFeatureURL,help_community:strings.str_cfg_tog_help_community?G.help_community:""};H.hide_help_ul=H.send_feedback_menu||H.return_to_original||H.switch_to_full?"":G.hide_help_ul;return H;},getOptionsMenuObj:function(K,G){var J=G.omOptionsMenuObj,M={},L=G.calOptions,H,I={url_minty_options:"#",url:K.url,themes:strings.str_cfg_tog_showThemeOption?K.themes:"",cal_options:"",om_options:""};if(J){for(H=0;H<J.length;H++){M={data_action:J[H].data_action,title:J[H].title,label:J[H].label,id:J[H].id};I.om_options+=D.substitute(K.om_options,M,0,0,strings);}}if(L){I.cal_options+=D.substitute(K.cal_options,M,0,0,strings);}return I;},showDialogBox:function(H){H.preventDefault();if(H.altKey){if(typeof NeoConfig=="undefined"){return;}var G=["Neo Version: \n","Build number: ",NeoConfig.buildNumber,"\n","Build time: ",NeoConfig.buildTime,"\n \n","Hostname: ",NeoConfig.hostName||window.location.hostname];E.use("common-ui-dialog-helper",function(J){var I=J.common.ui.DialogHelper;I.alert({modal_classes:"lg",hd:"Version",bd:"<pre>"+G.join("")+"</pre>"+'<div><img src="http://mail.yimg.com/nq/j/fluffy3.gif" style="height:347px;width:520px;" /></div>'});});}else{yui.fire("openInbox");}},handleUHMenus:function(J,I){var K=I||this;switch(J.dataAction){case"newfeature":case"blog":case"help":E.fire("darlaEvent",{action:"help_dd_click_"+J.dataAction});case"link":break;case"options":E.fire("openOptions",this);break;case"Calendar_options":if(!E.calendar){break;}var G=E.calendar.ui.CalendarView.calendarTab;E.fire("openCalendar");E.fire("calendarOptions",this);break;case"kbshortcuts":E.use("mail-ui-shortcuts-dialog",function(L){L.mail.ui.ShortcutsDialog.show();});break;case"modal":E.use("modal_css",function(){K.openOptOutDialog();});break;case"themes":E.use("mail-ui-themes",function(L){L.mail.ui.Themes.showThemesDialog();});break;case"bizmail":var H=(J.uh2Args&&J.uh2Args[1])||J.item._node.getAttribute("data-index");K.switchToBizmailAcct(H);break;default:if(J.dataAction.match(/^om:(.*):(.*):(.*)$/)){E.use("om-common-utils",function(L){L.om.common.Utils.fireEvent(J.dataAction);});}}},optOutredirect:function(N){var O=N.get("contentBox"),R=O.all("input"),I=O.one("textarea"),J=null,K=[];for(var L=0;L<R.size();L++){J=R.item(L);if(J.get("checked")){K.push(J.getAttribute("id")+"=true");}}J=I;K.push("additionalFeedback="+J.get("value"));var Q="http:";if(NeoConfig.secure_cascade=="1"){Q=NeoConfig.secure_cascade_protocol;}var G=Q+"//"+window.location.host+window.location.pathname;var H=G.indexOf("/",(G.indexOf(window.location.host)+window.location.host.length+2));var P=G.substring(0,H)+"/optOut";K.push("ncrumb="+NeoConfig.ncrumb);if(NeoConfig.secure_cascade_url_param!=""){K.push("ssl="+NeoConfig.secure_cascade_url_param);}P+="?"+K.join("&");try{document.location.replace(P);}catch(M){}},openOptOutDialog:function(){E.use("comms-ui-dialog-base","_shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup",function(J){var I=J.ui.Templates._shared_module_offscreen_bin_modal_kiosk_mail_preview_rollup,G=B(I.base,null,null,null,strings);var H=new J.comms.ui.Dialog({template:G,centered:true,cssPrefix:"modal"});H.get("contentBox").on("click",function(L){var M=J.common.Utils.getDataAction(L),K=M.action;if(K){L.preventDefault();switch(K){case"continue":J.mail.ui.headerUtils.optOutredirect(H);break;case"cancel":H.destroy();break;default:break;}}});H.render().show();});},switchToBizmailAcct:function(J){var L=NeoConfig.userDataObj.otherYahooMboxes.yMbox[J];var I=L.email.split("@");var K=L.isBizmail;var G={domain:I[1],sid:L.sledid,silo:L.silo,account:I[0],farm:L.farm};window.onBeforeUnloadBizMail=function(){if(K){E.Cookie.setSubs("YM.BM",G,{path:"/",domain:".yahoo.com"});}else{E.Cookie.remove("YM.BM",{path:"/",domain:"yahoo.com"});}};var H=(L.url)?L.url:"http://mail.yahoo.com";document.location.replace(H);}};E.namespace("mail.ui.headerUtils");E.mail.ui.headerUtils=F;},"1.0.0",{requires:["common-utils","common-persist-user-data"]});

YUI.add("rocket-stats",function(B){var C,A,E,I,F=B.namespace("common.Utils.rocketstats"),J=[],G;F.stat=function(N,K,M,L){if(!C&&B.one){C=1;B.one(window).on("beforeunload",unloadQ);B.one(window).on("unload",unloadQ);}if(!NeoConfig||(NeoConfig.trackRocketStat==1)){G='{"page":"'+N+'","key":"'+K+'"';if(L!==E){G+=',"intl":"'+L+'"';}if(M!==E){G+=',"value":'+M;}G+="}";J.push(G);H();}};F.intlStat=function(M,K,L){F.stat(M,K,L,true);};function H(){if(J.length>49){clearTimeout(A);D();}else{A=A||setTimeout(D,180000);}}unloadQ=F.unloadQ=function(){if(J[0]){D();start=new Date;while(new Date-start<100){}}};function D(){A=0;if(J[0]){I=new XMLHttpRequest();I.open("POST","stat");I.send(J.join("\n"));J=[];}}},"1.0.0");

YUI.add("gx-ui-galaxyview-base",function(C){C.namespace("gx.ui");var B=function(D){var H=this,G=C.one("#nav-mailboxes"),F=C.one("#custom-folders"),E=C.one("#smart-folders");B.superclass.constructor.call(H);if(D.contentToolbar){H.set("contentToolbar",D.contentToolbar);}C.gx.ui.GalaxyViewObj=H;H.updateFolderTab=function(){if(C.gx.ui.GalaxyViewObj.get("active")===0){var J=G.one("li.selected");var I=G.one("li._selected");if(!J&&F){J=F.one("li.selected");}if(!J&&E){J=E.one("li.selected");}if(!I&&E){I=E.one("li._selected");}if(!I&&F){I=F.one("li._selected");}if(!J&&I){I.replaceClass("_selected","selected");}else{if(I){I.removeClass("_selected");}}}};H.on("activeChange",function(J){if(J.newVal!==0){Neo.fid="";var I=G.one("li.selected"),K=C.one("#gx_messages a")||C.one("#pod_ruefc .pod-empty")||C.one("#pod_ruefc .pod-ruefc");if(!I&&F){I=F.one("li.selected");}if(!I&&E){I=E.one("li.selected");}if(I){I.replaceClass("selected","_selected");}K&&K.focus();if(NeoGV.injectedPods){for(podId in NeoGV.injectedPods){if(NeoGV.injectedPods[podId]){NeoGV.statQueue.push({name:"hydra",well:podId+"_shown"+NeoGV.statSuffix});}}if(NeoGV.statSuffix==="_once"){NeoGV.statSuffix="";}C.mail.ui.Workspace.processStatQueue();}else{NeoGV.nonHydraLaunch=true;}}else{C.later(200,null,H.updateFolderTab,null,false);}});H.scrolling=["#galaxyPageContainer"];};C.extend(B,C.mail.ui.BaseWidget);function A(){return;}C.mix(B.prototype,{NAME:"GalaxyView",render:A});C.gx.ui.GalaxyView=B;},"1.0.0",{requires:["mail-ui-basewidget"]});

YUI.add("mail-common-lowbandwidth",function(F){F.namespace("mail.common");F.namespace("mail.common.LowBandwidth");function C(){F.Node.one("#btn-new").setStyle("display","none");F.Node.one("#main-btn-new").addClass("right");var H=F.Node.all("#msg-preview-media-modes span").each(function(I){if(I.getAttribute("data-action")!="compose"){I.remove(true);}});var G=document.getElementById("%40C%40Chats");if(G){G.className="hidden";}E();B();}function B(H){var G=F.Node.one("#nav-applications");G&&G.setStyle("display","none");}function E(){var G=F.Node.one("#slot_LREC");G&&G.setStyle("display","none");}function D(){var I,G=NeoConfig.theme;var H=G.base+G.root+"neutral/neutral"+G.build+".css";F.Get.css(H,{onSuccess:function(K){var J=I;setTimeout(function(){if(J&&J.purge){J.purge();}I=K;},100);}});}function A(){if(F.Cookie.get("YM.NEO_LITE")===null){var H=F.common.persist.NeoData;var G=new Date();G.setDate(G.getDate()+30);F.Cookie.set("YM.NEO_LITE","1",{path:H.get("cookiePath"),domain:H.get("cookieDomain"),expires:G});}F.common.Utils.rocketstats.stat("launch","SwitchLowBandwidth");}F.mix(F.mail.common.LowBandwidth,{hideFeatures:C,hideAd:E,disableOM:B,changeTheme:D,setLWCookie:A});},"1.0.0",{requires:["node","rocket-stats"]});

YUI.add("om-controller-base",function(C){var A=C.namespace("om.Controller");A.extend=function(D){if(!A[D]){A[D]=C.clone(B);}return A[D];};var B={};},"3.0.0",{requires:[]});

YUI.add("om-controller-applicationlist",function(D){var K=D.om,L=K.Controller,W=L.extend("ApplicationList"),Z=K.common.net.session,b=K.common.Utils,B=K.model.DataStore,T=B.Registry,A=B.ApplicationList,V=D.common.net,P=D.Lang,G=D.common.Utils.rocketstats,F=V.SessionMgr,X=B.APP_FLAGS,R="YahooMailNeoOM";function E(){function Y(e){G.stat("OM","ERR:uninstallCleanup:_onFailure");}if(Math.random()>=(1/100)){return;}var c={crumb:NeoConfig.om.crumb,cleanup:1},d=Z.getBaseCallback("openmail.app.instance.uninstall",null,Y);F.request(Z.getUrlForModule(d.method),c,d,"GET",null,true);}function N(){var c=A.getAll(),Y=B.folderConfigs;B.removeList=b.getDiffList(c,Y);B.updateList=b.getDiffList(Y,c);}function a(){var f=A.getAll(),d=B.folderConfigs,h=B.removeList,c=B.updateList,g,e,Y;if(!f){return;}for(e in h){delete d[h[e]];}for(e in c){for(Y in f){g=f[Y];if(c[e]===g.app){d[g.app]={app:g.app,instance:g.instance,label:g.label,tooltip:g.tooltip||"",image_url:g.image_url||"",status:g.status,count:-1,subFolders:[]};break;}}}}function M(d){var Y={},c=d.split(",");D.Array.each(c,function(e){e=e.split(":");if(e.length===2){Y[e[0]]=e[1];}});return Y;}function O(){if(window.om&&D.Object.getValue(om,["appProfile","data","length"])){D.Array.each(window.om.appProfile.data,function(Y){if(Y.value){B.currentProfile[Y.extensionId+"."+Y.instanceId]=M(Y.value);}});}}function I(){function e(h){var j=(h.fault?h.fault:h.body.error)||{},i=j.code;i=(!i||Z.isHttpError(i))?h.status+"":i;G.stat("OM","ERR:getAppVer:"+i);B.currentVersions=[];S();}function Y(j){var l=j.body?j.body.error:j.fault;if(l){e(j);return;}var n={},h,m,k=j.body.result.data;for(m in k){h=parseInt(k[m].value,10);n[k[m].extensionId+"."+k[m].instanceId]=isNaN(h)?0:h;}B.currentVersions=n;S();}function d(){var l,n,m,k=[],o,h,j="/ws/mailPreferences/v1/jsonrpc";for(l in f){n=f[l].instance.split(".");k.push({key:"_CG_ver",extensionId:n[0],instanceId:n[1]});}m={method:"GetExtensionData",params:[{query:k}],id:"123456789"};o={success:Y,failure:e,responseType:"json",exceptCodes:[401,402,999],suppressCodes:["*"]};h=F.request(j,D.JSON.stringify(m),o,"POST");h.addUrlParam("appid",R);h.send();}var f=A.getAll(),c=D.mail.ui.Workspace.get("cascadeReady"),g;if(!f||f.length===0){return;}if(window.om&&D.Object.getValue(om,["appVersion","data","length"])){g={body:{result:window.om.appVersion}};Y(g);return;}if(c){d();}else{D.once("securecascade:ready",d);}}function Q(c){function h(i){}function l(i){}if(c.length===0){return;}var e,d,j=[],f,k,m,g,Y="/ws/mailPreferences/v1/jsonrpc";for(g in c){e=c[g];d=P.isString(e.value)?e.value:D.JSON.stringify(e.value);j.push({key:"_CG_ver",value:d,extensionId:e.extensionId,instanceId:e.instanceId,version:0,expiration:0});}f={method:"SetExtensionData",params:[{setdata:j}],id:"123456789"};k={success:l,failure:h,responseType:"json",suppressCodes:["*"],exceptCodes:[401,402,999]};m=F.request(Y,D.JSON.stringify(f),k,"POST");m.addUrlParam("appid",R);m.send();}function C(){var g=A.getAll(),h=B.removeList,c=B.updateList,f,e,d,Y;for(d in h){T.del(h[d]);}for(d in c){f=c[d];for(Y in g){e=g[Y];if(f===e.app){T.set(f,e);break;}}}}function H(s){var o=A.getAll(),e=B.ApplicationConfig.getAll(),p={},n={},h,t,q=[],d,y,x,w=[],v=[],k=[],z=NeoConfig.om.isSandboxEnabled,g=T.isSandbox,u,j,AA,l,f,r,m,Y,c;p=b.convertArrayIndex(e,"app");for(t in o){h=o[t].app;x=o[t].instance;if(p[h]){m=B.Loading.isLoading()?D.merge(p[h],o[t]):D.merge(o[t],p[h]);if(P.isString(m.omprofile)){Y=M(m.omprofile);m.omprofile=Y;if(!B.Loading.isLoading()){c=o[t].main_id;x=c?c+"."+x.split(".")[1]:x,B.currentProfile[x]=Y;}}A.set(t,m);n[h]=o[t];}}a();C();for(h in n){x=n[h].instance;d=n[h].version;y=B.currentVersions[x]||0;if(n[h].needsAck){continue;}if(d>y){B.currentVersions[x]=d;x=x.split(".");q.push({value:d,extensionId:x[0],instanceId:x[1]});}else{if(d<y){G.stat("OM","ERR:version_toolarge:"+h);delete n[h];}}}if(q.length>0){Q(q);}for(h in n){if(!T.isSick(h)&&(u=n[h])&&(j=u.config)&&(AA=j.events)&&(!u.needsAck||(u.needsAck&&T.isNoDisclaimer(h)))){if((l=AA.load)&&l.action&&(z||!g(h))){w.push(u);}if(NeoConfig.hydra&&AA.whatsnew){k.push(u);}if(z&&T.isPreload(h)&&(f=AA.message_read)&&(r=f.action)&&r.launch&&r.launch.target_zone&&(r.launch.target_zone=="hidden")){v.push(u);}}}if((w.length>0)||(v.length>0)){D.use("om-controller-views",function(i){for(t in w){b.log("LOAD event: launching '"+w[t].name+"'");L.Views.runActions(w[t],"events","load",null,null,null,null,true);}for(t in k){b.log("WHATSNEW event: launching '"+k[t].name+"'");L.Views.runActions(k[t],"events","whatsnew",null,null,null,null,true);}for(t in v){b.log("ONREAD: PRELOAD: launching '"+v[t].name+"'");L.Views.runActions(v[t],"events","message_read",null,null,null,null,true);}});}if(s&&P.isFunction(s)){s(true);}if(B.Loading.isLoading()){B.Loading.set(false);D.later(5000,this,E);}}function S(m){function v(i){a();D.fire("om:updateFolders");if(m){m(0);}}function k(j){var x=j.body,p,w;if(!x){v(j);return;}for(p in x){try{if(P.isString(x[p].config)){x[p].config=D.JSON.parse(x[p].config);}}catch(w){G.stat("OM","ERR:Config_Invalid:"+x[p].app);x[p].config={};}}B.ApplicationConfig.setAll(x);H();if(m){m(1);}}var o=A.getAll(),Y=B.updateList,t=B.currentVersions,u=false,c=[],l=[],h,e,s,d,g,r,q,n,f;for(r in Y){d=Y[r];for(q in o){s=o[q];if(d===s.app){g=t[s.instance]?t[s.instance]:(s.version?parseInt(s.version):0);c.push(d+"_"+g);u=true;break;}}}c=c.sort();for(r in c){n=c[r].split("_");l.push("app."+n[0]);if(n.length>1){l.push("ver."+n[1]);}}if(u){h=Z.getBaseCallback("openmail.app.list",k,v);h.cache=true;f=[Z.getUrlForModule(h.method),".lang.",NeoConfig.lang,".intl.",NeoConfig.om.intl,".",l.join(".")].join("");D.common.net.SessionMgr.request(f,null,h,"GET",null,true);}else{e={body:[]};k(e);}}function U(){function c(f){a();D.fire("om:updateFolders",undefined,true);}function Y(f){if(!f.body){c(f);return;}if(P.isArray(f.body)){A.setAll(f.body);}else{A.setAll(f.body.apps,f.body.spriteURL);}if(NeoConfig.om&&!NeoConfig.om.isMiMEnabled){var h=A.getAll();for(var g=0;g<h.length;
){if(T.isMessenger(h[g].app)){h.splice(g,1);}else{g++;}}}N();I();O();}var d,e;if(!window.om||!window.om.appData||(P.isArray(window.om.appData)&&!window.om.appData.length)||(window.om.appData.apps&&!window.om.appData.apps.length)){d={"crumb":NeoConfig.om.crumb,".intl":NeoConfig.om.intl,".lang":NeoConfig.lang};e=Z.getBaseCallback("openmail.app.instance.list",Y,c);F.request(Z.getUrlForModule(e.method),d,e,"GET",null,true);}else{Y({body:window.om.appData});}}function J(){B.Loading.set(true);U();}D.mix(W,{loadApplication:J,updateAddRemoveList:N,mergeApplicationConfigs:H,getApplicationConfigs:S,updateFolderConfig:a,parseOmProfile:M},true);},"1.0.0",{requires:["om-controller-base","om-common-net-session","om-model-datastore","rocket-stats"]});

YUI.add("om-common-net-session",function(F){F.namespace("om.common.net");var D=F.common.net,B=D.Error,A=D.SessionMgr,E=F.Lang,C={"100":[100,false,"",2],"200":[100,false,"",2],"201":[100,false,"",2],"202":[100,false,"",2],"203":[100,false,"",2],"300":[100,false,"",2],"301":[100,false,"",2],"302":[100,false,"",2],"400":[100,false,"",2],"401":[100,false,"",2],"408":[100,false,"",2],"409":[100,false,"",2],"410":[100,false,"",2],"500":[100,false,"",2],"503":[100,false,"",2],"504":[100,false,"",2],"506":[100,false,"",2],"507":[100,false,"",2],"510":[100,false,"",2],"600":[100,false,"",2],"604":[100,false,"",2],"1101":[100,false,"",2],"1102":[100,false,"",2],"1201":[100,false,"",2],"1204":[100,false,"",2],"1301":[100,false,"",2],"1303":[100,false,"",2],"1401":[100,false,"",2],"1402":[100,false,"",2],"1403":[100,false,"",2]};F.om.common.net.session=function(){var H={getUrlForModule:function(I){return"/om/api/1.0/"+I;},getBaseCallback:function(L,I,K){var J=H.session,M={service:"om",responseType:"json",formatter:J.formatResponse,success:J.callback,failure:J.callback,method:L,suppressWssid:true,suppressCodes:["*"],suppressLogs:["*"],timeout:5000,args:{success:I,failure:K}};return M;},formatResponse:function(J,K){var L=K.status,N=K.callback,M;switch(L){case 200:break;case 500:var I=K.body;if(I){K.fault=H.makeFault(I.status,I.message,I.context);}else{K.fault=H.makeFault(L.toString(),B.http);}break;default:K.fault=H.makeFault(L.toString(),B.http);}},getErrorMap:function(J,I){if(J==null||I==null||!E.isString(J)||!E.isString(I)){return{};}return C[I]||{};},isHttpError:B.isHttp,makeFault:A.makeFaultObject};H.session={formatResponse:function(I,J){H.formatResponse(I,J);},callback:function(I){if(I.fault){H.session.handleFailure(I);}else{var J=I.callback.args;if(E.isFunction(J.success)){J.success.apply(null,[I,J]);}}},handleFailure:function(N){var K=E.trim(N.getResponseHeader("crumb")),O,I,M;if(K){O=N.request;I=O.url;M=O.urlparams||{};if(O&&I){if(O.mthd=="GET"){M["crumb"]=K;}else{I=O.url.replace(/crumb=([^&]*)/,"crumb="+K);M=O.post;}NeoConfig.om.crumb=K;F.fire(F.om.common.Utils.getEventName("","crumb.update"),{"crumb":K});A.request(I,M,N.callback,O.mthd,O.enc,true);return;}}var P=N.fault||{},T=P.message,R=!P.code||H.isHttpError(P.code)?N.status+"":P.code,L=(P.detail&&P.detail.operation)?P.detail.operation:"",S=H.getErrorMap(T,R),J=S[1]||false,Q=N.callback.args;if(E.isFunction(Q.failure)){Q.failure.apply(null,[N,Q]);}}};function G(N,O,M){if(M.callback&&M.callback.service=="om"){var K,L=M.fault.code,J=M.status,I=!(J==401||J==402||J==302||J==13030);if(L==1401){N.callDefault(402);}return I;}}B.onError(G);return H;}();},"1.0.0",{requires:["event-custom","common-utils","common-net-session","common-net-sessionmgr","om-common-utils"]});

YUI.add("om-common-errors",function(A){A.namespace("om.common.Errors");A.mix(A.om.common.Errors,{ERR_NONE:0,ERR_BAD_ARG:1,ERR_DEPRECATED:2,ERR_DELETED:3,ERR_XFRAME:4,ERR_UNSUPPORTED_BY_HOST:5,ERR_VIEW_NOT_FOUND:1000,ERR_INVALID_TARGET:1001,ERR_VIEW_EXISTS:1002,ERR_NOT_ATTACHMENT_URL:1003,ERR_SET_DATA:1004,ERR_GET_DATA:1005,ERR_KEY_NOT_SET:1006,ERR_KEY_EXPIRED:1007,ERR_KEY_FAILURE:1008,ERR_KEY_INVALID:1009,ERR_REMOVE_DATA:1010,ERR_VALIDATION_FAILURE:2000,ERR_AUTH:3000,ERR_FLASH_REQUIRED:3001,ERR_FLASH_ERR:3002,ERR_FLASH_LAUNCH_ERR:3003,ERR_API_UNAVAILABLE:3004,ERR_UNDEFINED:-1});},"1.0.0");

YUI.add("om-common-utils",function(F){F.namespace("om.common.Utils");var C=F.om.common.Utils,A=F.common.Utils,E=F.Lang;var D=(function(){var G={};return function(H){return G[H]?G[H]:G[H]=C.md5(NeoConfig.om.crumb+H);};})();function B(){var S=0,G="",O=8;function P(U){return T(K(H(U),U.length*O));}function K(j,Z){var k;k=Z>>5;j[k]|=128<<((Z)%32);k=(((Z+64)>>>9)<<4)+14;j[k]=Z;var h=1732584193,g=-271733879,f=-1732584194,e=271733878,W,Y,X,V,U;for(W=0;W<j.length;W+=16){Y=h;X=g;V=f;U=e;h=N(h,g,f,e,j[W+0],7,-680876936);e=N(e,h,g,f,j[W+1],12,-389564586);f=N(f,e,h,g,j[W+2],17,606105819);g=N(g,f,e,h,j[W+3],22,-1044525330);h=N(h,g,f,e,j[W+4],7,-176418897);e=N(e,h,g,f,j[W+5],12,1200080426);f=N(f,e,h,g,j[W+6],17,-1473231341);g=N(g,f,e,h,j[W+7],22,-45705983);h=N(h,g,f,e,j[W+8],7,1770035416);e=N(e,h,g,f,j[W+9],12,-1958414417);f=N(f,e,h,g,j[W+10],17,-42063);g=N(g,f,e,h,j[W+11],22,-1990404162);h=N(h,g,f,e,j[W+12],7,1804603682);e=N(e,h,g,f,j[W+13],12,-40341101);f=N(f,e,h,g,j[W+14],17,-1502002290);g=N(g,f,e,h,j[W+15],22,1236535329);h=J(h,g,f,e,j[W+1],5,-165796510);e=J(e,h,g,f,j[W+6],9,-1069501632);f=J(f,e,h,g,j[W+11],14,643717713);g=J(g,f,e,h,j[W+0],20,-373897302);h=J(h,g,f,e,j[W+5],5,-701558691);e=J(e,h,g,f,j[W+10],9,38016083);f=J(f,e,h,g,j[W+15],14,-660478335);g=J(g,f,e,h,j[W+4],20,-405537848);h=J(h,g,f,e,j[W+9],5,568446438);e=J(e,h,g,f,j[W+14],9,-1019803690);f=J(f,e,h,g,j[W+3],14,-187363961);g=J(g,f,e,h,j[W+8],20,1163531501);h=J(h,g,f,e,j[W+13],5,-1444681467);e=J(e,h,g,f,j[W+2],9,-51403784);f=J(f,e,h,g,j[W+7],14,1735328473);g=J(g,f,e,h,j[W+12],20,-1926607734);h=R(h,g,f,e,j[W+5],4,-378558);e=R(e,h,g,f,j[W+8],11,-2022574463);f=R(f,e,h,g,j[W+11],16,1839030562);g=R(g,f,e,h,j[W+14],23,-35309556);h=R(h,g,f,e,j[W+1],4,-1530992060);e=R(e,h,g,f,j[W+4],11,1272893353);f=R(f,e,h,g,j[W+7],16,-155497632);g=R(g,f,e,h,j[W+10],23,-1094730640);h=R(h,g,f,e,j[W+13],4,681279174);e=R(e,h,g,f,j[W+0],11,-358537222);f=R(f,e,h,g,j[W+3],16,-722521979);g=R(g,f,e,h,j[W+6],23,76029189);h=R(h,g,f,e,j[W+9],4,-640364487);e=R(e,h,g,f,j[W+12],11,-421815835);f=R(f,e,h,g,j[W+15],16,530742520);g=R(g,f,e,h,j[W+2],23,-995338651);h=L(h,g,f,e,j[W+0],6,-198630844);e=L(e,h,g,f,j[W+7],10,1126891415);f=L(f,e,h,g,j[W+14],15,-1416354905);g=L(g,f,e,h,j[W+5],21,-57434055);h=L(h,g,f,e,j[W+12],6,1700485571);e=L(e,h,g,f,j[W+3],10,-1894986606);f=L(f,e,h,g,j[W+10],15,-1051523);g=L(g,f,e,h,j[W+1],21,-2054922799);h=L(h,g,f,e,j[W+8],6,1873313359);e=L(e,h,g,f,j[W+15],10,-30611744);f=L(f,e,h,g,j[W+6],15,-1560198380);g=L(g,f,e,h,j[W+13],21,1309151649);h=L(h,g,f,e,j[W+4],6,-145523070);e=L(e,h,g,f,j[W+11],10,-1120210379);f=L(f,e,h,g,j[W+2],15,718787259);g=L(g,f,e,h,j[W+9],21,-343485551);h=M(h,Y);g=M(g,X);f=M(f,V);e=M(e,U);}return Array(h,g,f,e);}function I(Z,W,V,U,Y,X){return M(Q(M(M(W,Z),M(U,X)),Y),V);}function N(W,V,e,Z,U,Y,X){return I((V&e)|((~V)&Z),W,V,U,Y,X);}function J(W,V,e,Z,U,Y,X){return I((V&Z)|(e&(~Z)),W,V,U,Y,X);}function R(W,V,e,Z,U,Y,X){return I(V^e^Z,W,V,U,Y,X);}function L(W,V,e,Z,U,Y,X){return I(e^(V|(~Z)),W,V,U,Y,X);}function M(U,X){var W=(U&65535)+(X&65535),V=(U>>16)+(X>>16)+(W>>16);return(V<<16)|(W&65535);}function Q(U,V){return(U<<V)|(U>>>(32-V));}function H(X){var W=Array(),V,U=(1<<O)-1;for(V=0;V<X.length*O;V+=O){W[V>>5]|=(X.charCodeAt(V/O)&U)<<(V%32);}return W;}function T(W){var V=S?"0123456789ABCDEF":"0123456789abcdef",X="";for(var U=0;U<W.length*4;U++){X+=V.charAt((W[U>>2]>>((U%4)*8+4))&15)+V.charAt((W[U>>2]>>((U%4)*8))&15);}return X;}return P;}F.mix(C,{getIFrameById:function(G){return F.one(document.getElementById(G));},getEventName:function(I,H,G){if(C.Event.isMailEvent(H)){return H;}switch(H){case"crumb.update":case"folderpane.scroll":case"mail.signout":case"browser.resize":case"themes:change":case"contacts.sendsms":case"contacts.sendim":case"contacts.changed":case"social.statuschanged":case"tab.changed":case"chats.sendim":case"chats.sendsms":case"search.input":return H;case"compose.start":case"compose.sendstart":case"compose.sendcomplete":case"compose.user_event":return H+I;case"message.read":case"subfolder.click":case"sandbox.controller":return H+I.split(".")[0];case"app.jserror":case"data.action":case"message.render":case"message.render.messageflagstatus":case"message.render.handleupdatelozenges":case"message.render.updateheight":case"messageview.resize":case"view.focus":case"view.blur":case"view.resize":case"view.unload":A.assert(G,"viewId is required for '"+H+"' event");H=H+"."+G;}return I+"."+H;},getDiffList:function(J,H){var L=[],K,G=J;if(E.isArray(J)){G={};for(K=J.length-1;K>=0;--K){G[J[K].app]=1;}}if(E.isArray(H)){for(var K=0,I=H.length;K<I;K++){if(!G[H[K].app]){L.push(H[K].app);}}}else{for(K in H){if(!G[H[K].app]){L.push(H[K].app);}}}return L;},Event:{PREFIX:"mail-event:",encodeMailEvent:function(G){return C.Event.PREFIX+G;},isMailEvent:function(G){return(G||"").indexOf(C.Event.PREFIX)==0;}},convertArrayIndex:function(I,H){var G,K,J=[];for(G in I){K=I[G];J[K[H]]=K;}return J;},escapeDots:function(G){return G.replace(/\./g,"\\.");},fireEvent:function(I){var H,G;H=I.match(/^om:(.*):(.*):(.*)$/);G=this.getEventName(H[1],"data.action",H[2]);F.fire(G,{data_action:H[3]});},compareVer:function(I,H){I=I.split(".");H=H.split(".");if(I.length!==3||H.length!==3){A.assert(false);return;}var K=0,J=0;for(var G=0;G<3;G++){K=parseInt(I[G],10);J=parseInt(H[G],10);if(K!==J){return(K>J)?1:-1;}}return 0;},tryProp:function(L,M,I){var K=M.split(".");for(var J=0,G=K.length;J<G;J++){var H=K[J];if(L!==null&&typeof L==="object"&&H in L){L=L[H];}else{return I;}}return L;},getObjSize:function(I){var G=0,H;for(H in I){if(I.hasOwnProperty(H)){G++;}}return G;},getAppSignature:D,getViewport:(function(){var G=true;var H;F.on("resize",function(){G=true;});F.on("scroll",function(){G=true;},window);return function(){if(G){H={width:F.DOM.winWidth(),height:F.DOM.winHeight(),scrollX:F.DOM.docScrollX(),scrollY:F.DOM.docScrollY()};G=false;}return H;};})(),md5:B(),onIdle:(function(){var H={};var G=0;return function(J,I){var K=G++;I=I||150;return function(){if(H[K]){H[K].cancel();
}H[K]=F.later(I,this,function(){J();});};};})(),LookupList:function(){for(var G=arguments.length;G--;){this[arguments[G]]=1;}},log:(function(){var G=NeoConfig&&NeoConfig.om&&NeoConfig.om.debug,H;return function(I,J){var K;if(G){if(!H){H=F.comms.log4js.getLogger("openMailLogger");F.use("comms-log4js-appenders-console",function(){H.useAppender("console").show();});}H.log("["+(J||"Openmail")+"] "+I);}};})(),range:function(H,I,G){return Math.max(Math.min(G,I),H);},getImageUrl:function(I,H,G){return NeoConfig.launch_protocol+NeoConfig.om.webcacheHostCom+"/om/image.appid."+I+".type."+H+".v."+G+".intl."+NeoConfig.om.intl+".lang."+NeoConfig.lang;},createLogger:function(G){return function(H){C.log(H,G);};}});},"1.0.0",{requires:["common-utils"]});

YUI.add("om-model-datastore",function(C){C.namespace("om.model");var J=C.om,D=C.Array,E=C.Object,F=C.Lang,G=C.om.common.Utils.tryProp,H=J.model.DataStore={},I={NEO_SANDBOX:"Message Sandbox",QUICKREPLY:"QuickReply",FLIXY:"Flixy Browse",SHORTCUTS:"Yahoo! Shortcuts"},B={PUBLIC:1,REVOKED:2,HASPUBLISHED:8,DEVELOPER:16,MODIFIED:32,IN_DB:64,OMIT_DISCLAIMER:128,INTERNAL:256,SICK:512,IN_DEVELOPMENT:1024,UDBLESS_INSTALL:2048,CG_HIDDEN:4096,SANDBOXED:8192,SMART_FOLDER:16384,READONLY:32768,PRELOAD:65536,PERMANENT:131072,NO_GALLERY:262144,NO_APPLIST:524288,LARGE_FILER:1048576};C.mix(H,{Loading:(function(){var L=false;function A(M){L=M;if(M===false){C.fire("om:updateFolders",true);C.fire("om:datastoreLoaded",true);}}function K(){return(L===true);}return{set:A,isLoading:K};})(),currentVersions:[],currentProfile:{},updateList:[],removeList:[],folderConfigs:{},wsObject:null,wsCallMap:{},APP_FLAGS:B});C.mix(H,{ApplicationList:(function(){var Q=[],R=null;function P(T,U){Q=T;R=U;C.fire("om:applistupdate");}function S(){return Q;}function L(){Q={};}function A(T,U){Q[T]=U;}function O(T){return Q[T];}function K(T){return C.Array.find(Q,function(U){return U.app==T;});}function N(U){var T=K(U);return(T&&C.Lang.isNumber(T.version))?T.version:0;}function M(T){delete Q[T];}return{setAll:P,getAll:S,delAll:L,set:A,get:O,getByAppId:K,getAppVersion:N,del:M,getSpriteURL:function(){return R;}};})()});C.mix(H,{ApplicationConfig:(function(){var M={message_read:["header","flags","annotation"],attachment:["content_type"]},N=[];function A(P){var Q=P&&P.config&&P.config.events,O;if(Q&&Q.message_read&&(O=Q.message_read.match)){if(!O["@attributes"]){O["@attributes"]={};}if(!O["@attributes"].mode){O["@attributes"].mode="or";}D.each(D.filter(M.message_read,function(S){return !!O[S];}),function(S){O[S]=D(O[S]);O[S]=D.filter(D.map(O[S],function(W){var V,U,T;if((V=W.name)){W.name=V.toLowerCase();}if((U=W.regex)){T=/^\/(.*)\/(.*)$/.exec(U);if(!T){return null;}W.regex=new RegExp(T[1],T[2]);}return W;}),function(T){return T!==null;});});}if(Q){E.each(Q,function(T,S){if(S.indexOf("attachment_")!==0){return;}O=T.match;D.each(M.attachment,function(U){O[U]=D(O[U]);});});}if(P.settings&&F.isString(P.settings)){try{P.settings=C.JSON.parse(P.settings);}catch(R){}}return P;}function K(O){N=D.map(O,A);}function L(){return N;}return{MATCH_CATEGORIES:M.message_read,setAll:K,getAll:L};})()});C.mix(H,{Registry:(function(){var Z={},P={"3id1k74o3ic9k":1,"3aophcopmae1m":1,"36or471hmce9m":1,"3copmchj36d1m":1,"30db665j3ge9n":1,"32p326himcdpg":1,"3cp9lcoq32dpn":1},g={},i={"_default":function(m,n){return m===n;},"content_type":function(m,n){return m.toLowerCase()===n.toLowerCase()||m==="*";}};function f(m,n){Z[m]=n;if(R(m)){g[m]=1;}C.fire("om:register_app",n,m);}function Y(m){Z=m;E.each(m,function(n,o){if(R(o)){g[o]=1;}});}function K(m){return Z[m]||null;}function l(){return Z;}function M(o,m){var n=Z[o];if(n&&n[m]){return n[m];}}function a(m){delete Z[m];if(m in g){delete g[m];}}function U(){Z={};}function L(){var p,o,m=false,n=false;for(p in Z){o=Z[p];if(N(o)){n=true;}else{if(h(o)){m=true;}}if(n&&m){return true;}}return false;}function N(m){var n=C.Object.getValue(m,["config","events","click","action","launch"]);return(n&&n.target_zone=="tab"&&n.context=="http://calendar.yahoo.com")||H.Registry.isInDevelopment(m.app);}function h(m){var n=C.Object.getValue(m,["config","events","click","action","launch"]);return n&&n.target_zone=="window"&&n.view=="http://calendar.yahoo.com/";}function T(){var o,m,n;for(o in Z){m=Z[o];if(m&&m.config){for(n in m.config.events){if((n==="click-gallery")&&(m.status&B.INTERNAL)){return m;}}}}}function j(){var o,m,n=[];for(o in Z){if(X(o)){m=Z[o];n.push(m);}}if(n.length>0){if(n.length>1){for(o=0;o<n.length;++o){if(!(n[o].status&B.PUBLIC)){return n[o];}}}return n[0];}}function b(m){return function(n){if(!F.isObject(n)){n=Z[n];}return !!(n&&(n.status&m));};}function Q(n){var m=Z[n];return m&&m.name||"";}function S(m){return P[m];}function X(q){var p=Z[q],n,o,m;return(p&&p.name===I.NEO_SANDBOX&&(p.status&B.INTERNAL)&&(p.status&B.SANDBOXED)&&!(p.status&B.SICK)&&(n=p.config)&&(o=n.events)&&(m=o.message_render)&&m);}function W(o){var n=Z[o],m=n.name;return(m===I.QUICKREPLY||m===I.FLIXY||m===I.SHORTCUTS);}function A(p){var o,m,q,n;return p&&(n=p.config)&&(o=n.events)&&(m=o.message_read)&&(q=m.match);}function R(m){var n=Z[m];if(!n||!n.config||!n.config.events){return false;}return E.some(n.config.events,function(p,o){return o.indexOf("attachment_")===0;});}function k(n){var q,m,o,p=false;if(!F.isObject(n)){C.log("Malformed attachment handler search: "+C.JSON.stringify(n)+"; expected an object","error");return -1;}p=E.some(g,function(r,s){q=Z[s];if(!q.config.events.attachment_view){return;}m=q.config.events.attachment_view.match;return E.some(n,function(u,t){if(!(t in m)){return;}o=i[t]||i._default;return D.find(D(u),function(v){return D.find(m[t],function(w){return o(w,v);});});});});return p&&{handlerId:q.app,name:q.name||""};}function O(r,p,o){var q=["config.events.attachment_",p,".match.content_type"].join(""),n=G(r,q),m=i["content_type"];if(!F.isArray(n)){return false;}return D.some(n,function(s){return m(s,o);});}function d(p,n){var o="config.events.attachment_"+n+".@attributes",m=G(p,o);return m&&m.global==="true";}function c(o){var q,p=o.content_type,m=["view","sign","save"],n={};if(!F.isObject(o)||!F.isString(o.content_type)){C.log("Malformed attachment handlers search: "+C.JSON.stringify(o)+"; wanted args.content_type string","error");return -1;}E.each(g,function(r,s){q=Z[s];D.each(m,function(t){if(!O(q,t,p)){return;}n[t]={handlerId:s,name:q.name};if(d(q,t)){n[t].global=true;}});});return E.isEmpty(n)||n;}function e(m){return m.length?"/om/combo/"+m.join("/"):null;}function V(){var v,s,AD,u,x,m,z,r=false,q=[],AA=[],AE={},AB=[],n=[],t=[],AC=[],o=[],p=[],w=[],y=H.Registry;E.each(Z,function(AF){if(NeoConfig.isFullSSL&&AF.name==I.SHORTCUTS){return;}if(AF.config&&AF.config.events&&AF.config.events.message_read&&AF.config.events.message_read.message_actions&&(v=AF.config.events.message_read.message_actions.enhance_message)){s=AF.app;
r=y.isPreload(s)&&!y.isSick(s);t=[];AC=[];o=[];p=[];w=[];u=y.isInternal(s)?NeoConfig.om.webcacheHostCom:NeoConfig.om.webcacheHostNet;x=(u.indexOf("yahoo.com")!==-1&&u.indexOf(".corp.")!==-1);AD=(u.indexOf(".c.yom.mail.yahoo.")!==-1)?"-":".";if(v.css){m=v.css.path;q=F.isArray(m)?m:[m];D.each(q,function(AG){if(strings&&strings.str_tog_loadRTLCss){AG=AG.replace(/\.css$/,"-rtl.css");}if(AG.match(/http(?:s)?:\/\//)){AC.push(AG);}else{(r?n:t).push("f."+AG.replace(/^\/om\/assets\//,""));}});}if(v.js){z=v.js.path;AA=F.isArray(z)?z:[z];D.each(AA,function(AG){if(AG.match(/http(?:s)?:\/\//)){w.push(AG);}else{(r?o:p).push("f."+AG.replace(/^\/om\/assets\//,""));}});}AE[s]={app:s,name:AF.name,msg_read_data:{preload:r,cssCombo:e(t),css:AC,preloadJsCombo:e(o),jsCombo:e(p),js:w,context:{appId:s,instanceId:y.get(s).instance,invokePrefix:NeoConfig.launch_protocol+(x?u:[s,AD,u].join(""))}}};AB.push(s);}});return{msgReadAppIdList:AB,msgReadAppConfigs:AE,preloadCssCombo:e(n)};}return{set:f,setAll:Y,get:K,getAll:l,getProperty:M,del:a,delAll:U,getGalleryData:T,getSandboxData:j,getAppName:Q,getAttachmentHandlerInfo:k,getAttachmentHandlers:c,isPublic:b(B.PUBLIC),isRevoked:b(B.REVOKED),isInDb:b(B.IN_DB),isNoDisclaimer:b(B.OMIT_DISCLAIMER),isInternal:b(B.INTERNAL),isSick:b(B.SICK),isInDevelopment:b(B.IN_DEVELOPMENT),isSmartFolder:b(B.SMART_FOLDER),isPreload:b(B.PRELOAD),isPermanent:b(B.PERMANENT),isNoAppList:b(B.NO_APPLIST),isLargeFiler:b(B.LARGE_FILER),isMessenger:S,isSandbox:X,isMsgReadRtbApp:W,isNewCalendarApp:N,isOldCalendarApp:h,isAttachmentHandler:R,hasMessageReadEvents:A,hasOldAndNewCalendarApps:L,getSandboxMsgReadConfig:V};})()});C.mix(H,{ViewRegistry:(function(){var L={};function A(O,P){L[O]=P;}function M(O){return L[O]||null;}function N(){return L;}function K(O){delete L[O];}return{set:A,get:M,getAll:N,del:K};})()});C.mix(H,{OpenViewLog:(function(){var M={};function A(N,O){M[N]=O;}function L(N){return M[N]||null;}function K(N){delete M[N];}return{set:A,get:L,del:K};})()});C.mix(H,{EventRegistry:(function(){var L={};function A(S,R,U,Q,T){if(!L[U]){L[U]={};}if(!L[U][Q]){L[U][Q]={};}L[U][Q][T]=S;L[U][Q][T].listenerFn=R;}function P(Q){return L[Q]||null;}function N(R,Q){try{return L[R][Q]||null;}catch(S){return null;}}function O(S,Q,R){try{return L[S][Q][R]||null;}catch(T){return null;}}function M(){return L||null;}function K(S,Q,R){delete L[S][Q][R];var T;for(T in L[S][Q]){return;}delete L[S][Q];for(T in L[S]){return;}delete L[S];}return{set:A,getByInstId:P,getByViewId:N,getByEventName:O,getAll:M,del:K};})()});C.mix(H,{ApplicationSubFolderList:(function(){var K={};function A(N,O){K[N]=O;}function M(N){return K[N]||null;}function L(N){K[N]=[];}return{set:A,get:M,del:L};})()});C.mix(H,{MessageReadRunList:(function(){var M={};function A(O,P){M[O]=P;}function L(O){return M[O]||null;}function K(O){delete M[O];}function N(){return M;}return{set:A,get:L,del:K,getAll:N};})()});},"1.0.0",{requires:["array-extras","om-common-utils"]});

YUI.add("_shared_module_open_mail_application_list",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_open_mail_application_list={base:'<div class="items items-nav items-nav-applications expanded" {{om_hide_app_until_bidi_ready}} data-action="collapsable"> <h2 role="toolbar" aria-labelledby="apps-toggle-btn" id="nav-applications" class="legend"><span id="apps-toggle-btn" role="button" tabindex="0" aria-controls="app-list" aria-expanded="true" class="label">{{str_nav_applications}}</span> <span class="rht"><span class="btn small left right hidden" title="{{str_nav_applications_btn_edit_attr}}"><input class="icon edit" type="button" value="{{str_nav_applications_btn_edit}}"></span></span></h2> <ul id="app-list" class="hidden" role="listbox" aria-labelledby="apps-toggle-btn" aria-describedby="list-instr"> {{application_list}} </ul></div>',application_refresh:'<span class="rht" id="{{app_refblock_id}}"> <span class="btn small left right"><input id="{{app_ref_id}}" type="button" class="icon check-mail" value=" "></span> </span> ',application_count_markup:'<span class="unread-count" title="{{app_folder_count}}">{{app_folder_count}}</span> ',application_count:'<span class="rht"> {{application_count_markup}} </span> ',application_list_subfolder_count:'<span class="rht"> <span class="unread-count" title="{{app_sub_folder_count}}">{{app_sub_folder_count}}</span> </span> ',application_list_subfolder_row:'<li role="presentation" id="{{app_sub_folder_row_id}}"> <a role="option" tabindex="-1" href="#" title="{{app_sub_folder_tooltip}}">{{app_sub_folder_label}} {{application_list_subfolder_count}} </a> </li> ',application_list_subfolder:'<div role="presentation" id="{{app_subfolder_div_id}}"> <ul role="group"> {{application_list_subfolder_row}} </ul> </div> ',application_list:'<li role="presentation" data-action="application" id="{{app_row_id}}" class="btn-apps"> <a id="{{app_row_info_id}}" href="#" role="option" tabindex="-1" title="{{app_name}}"> <i id="{{app_row_name_id}}" style="background:url({{app_icon_url}}){{app_icon_pos}} no-repeat;">{{app_name}}</i> {{application_refresh}} {{application_count}} </a> {{application_list_subfolder}} </li> '};},"1.0.0");

YUI.add("om-ui-workspace-base",function(A){A.namespace("om.ui");A.om.ui.Workspace=new function(){var G=this,D=A.om.model.DataStore.Registry,E=A.om.ui.ApplicationList;function C(H){var J=H.appId,I=H.hiliteAppId,K=H.param;B(J,I,K);}function B(I,H,J){A.use("om-controller-views",function(M){var K,L={};K=I?D.get(I):D.getGalleryData();if(!K){K={app:I};}if(H){L=[H];}else{if(J){L.launchParams=J;}}M.om.Controller.Views.runActions(K,"events","click",true,L);});}function F(){A.on("om:appclicklaunch",B);A.on("om:mrd:gallery",C);A.on("om:mrd:launch",C);}A.augment(G,A.EventTarget);A.augment(G,A.Attribute);F();if(NeoConfig.om.isSandboxEnabled&&A.UA.ie!=7){if(NeoConfig.hasConv){A.use("om-ui-convpane-base",function(H){H.mail.ui.Factory.register("mail.ui.ConvPane",H.om.ui.OMConvPane);});}else{A.use("om-ui-messagepane-base",function(H){H.mail.ui.Factory.register("mail.ui.MessagePane",H.om.ui.OMMessagePane);});}}}();},"1.0.0",{requires:["mail-ui-factory-base","om-model-datastore","om-ui-applicationlist-base","om-ui-messagepane-base"]});

YUI.add("om-ui-applicationlist-base",function(F){var E=F.common.Utils,D=F.Lang,A=E.substitute,C=F.common.persist.getCookie();var B=function(){var X=this,M=F.om,h=M.common.Utils,H=M.model.DataStore,Z=H.ApplicationList,S=H.ApplicationSubFolderList,V=H.Registry,P=H.APP_FLAGS,d=F.ui.Templates._shared_module_open_mail_application_list,L=F.one("#nav-applications"),U=F.one("#app-list"),T=F.one("#smart-folders"),Y="om.applex",K=F.common.Utils.rocketstats,N=M.Controller,g=true,c={appList:function(j){if(j){var p={app_id:"retry",app_status:P.PUBLIC,app_row_id:"_app_retry",app_icon_url:"",app_name:strings["str_om_app_list_retry"]},t=A(d.application_list,p,c);return t.replace(/<img [^>]*>/i,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");}var n,q="",u,p,l=Z.getAll(),r=Z.getSpriteURL(),o,m,k=H.Registry.hasOldAndNewCalendarApps();r=W(r);for(n in l){u=l[n];if(typeof u.image_url=="number"){m=u.image_url*16;o=true;}else{m=0;o=false;if(u&&u.image_url){u.image_url=W(u.image_url);}}p={app_id:u.app,app_status:u.status,app_row_id:"_app_"+u.app,app_name:u.label+(!(u.status&P.PUBLIC)?" (Private)":""),app_icon_url:o?r:u.image_url.replace(/<!--IMAGE_TYPE-->/,"icon"),app_icon_pos:(NeoConfig.isRTL?" 100%":" 0px ")+" -"+m+"px",app_row_name_id:"_app_name_"+u.app,app_row_info_id:"_app_info_"+u.app};if(H.Registry.isNoAppList(u)&&H.Registry.isPublic(u)){continue;}if(k&&H.Registry.isOldCalendarApp(u)){continue;}if(NeoConfig.enableSmartFolders&&H.Registry.isSmartFolder(u)){if(T){T.append(A(d.application_list,p,c));}continue;}q+=A(d.application_list,p,c);}return q;},application_refresh:function(j){var l=j.app_id,i,k="";if(!(j.app_status&H.APP_FLAGS.PUBLIC)){i={app_ref_id:"_ref_"+l,app_refblock_id:"_refblock_"+l};k=A(d.application_refresh,i,c);}return k;},application_list_subfolder:function(j){var m=j.app_id,i,k,l="";k=S.get(m);if(k&&k.length>0){i={app_id:m,app_subfolder_div_id:"_sub_container_"+m};l=A(d.application_list_subfolder,i,c);}return l;},application_list_subfolder_row:function(l){var n,p=l.app_id,k,q,m,o="";m=S.get(p);for(n in m){var j=m[n];k={app_sub_folder_row_id:"_sub_"+p+"_"+n,app_sub_folder_label:"- "+j.label,app_sub_folder_tooltip:j.tooltip||j.label,app_sub_folder_count:typeof(j.count)!="undefined"?j.count:null};o+=A(d.application_list_subfolder_row,k,c);}return o;},application_list_subfolder_count:function(j){var l=j.app_sub_folder_count,i,k="";if(l!=null){i={app_sub_folder_count:l};k+=A(d.application_list_subfolder_count,i,c);}return k;},application_count:function(j){var i,l="",k=j.count;if(typeof(k)!="undefined"){i={app_folder_count:k,count:k};l+=A(d.application_count,i,c);}return l;},application_count_markup:function(j){var i,l="",k=j.count;if(typeof(k)!="undefined"){i={app_folder_count:k};l+=A(d.application_count_markup,i,c);}return l;}};function G(l,m){var k,j="subfolder.click",i={};k=H.Registry.get(l).instance;i={app:l,index:m,instance:k};F.fire(h.getEventName(k,j),i);}function J(){var i;if(!U.one('a[tabindex="0"]')&&(i=U.one("a[role=option]"))){i.set("tabIndex",0);}return i;}function b(){var i=F.one("doc").get("activeElement");return(U.contains(i)?U.all("a[role=option]").indexOf(i):-1);}function I(l){var k=U.all("a[role=option]"),j=k.item(l),i;if(!j){i=l+1;if(i>k.size()){i=l-1;}j=k.item(i);}if(j){j.set("tabIndex",0);j.focus();}}function a(){var i=F.one("#apps-toggle-btn");F.on("om:updateFolders",function(n,m){var o=L.ancestor("div"),p=C.get(Y)?C.get(Y):1,l=b();n=n?n:false;if(p==1){o.removeClass("collapsed");o.addClass("expanded");i.set("aria-expanded",true);f(m);g=false;}else{o.removeClass("expanded");o.addClass("collapsed");i.set("aria-expanded",false);if(!n){f(m);}}if(l>=0){I(l);}else{J();}F.one("#nav-applications span.btn").removeClass("hidden");U.removeClass("hidden");});F.on("om:updateSingleFolder",function(q){var x=b(),AA,u,z,o,v,p="";if(u=q.config.label){var y=F.one("#_app_name_"+q.ctx.appid),t;if(y){v=y.getContent();t=v.indexOf("(Private)");p=(t>-1)?v.substring(0,t)+u+" "+v.substring(t):v+u;y.setContent(p);}}var m=F.one("#_app_info_"+q.ctx.appid);if(m){if(z=q.config.tooltip){m.setAttribute("title",z);}else{if(p){m.setAttribute("title",p);}}if(o=q.config.count){var s=F.one("#_refblock_"+q.ctx.appid),r;if(s){r=c.application_count_markup({"count":o});r+=s.getContent();s.setContent(r);}else{r=m.getContent();r+=c.application_count({"count":o});m.setContent(r);}}}if(AA=q.config.subFolders){var w=q.ctx.appid,l,n=F.one("#_sub_container_"+w);if(n){n.get("parentNode").removeChild(n);}S.set(w,AA);e(w);}else{S.del(w);}if(x>=0){I(x);}else{J();}});if(!L){return;}function k(n){var l=L.ancestor("div"),m;if(l){l.toggleClass("collapsed").toggleClass("expanded");if(g){U.set("aria-live","polite");m='<li role="presentation"><span style="padding-left:20px;margin-left:8px;">'+strings["str_om_loading"]+"</span></li>";U.setContent(m);f();g=false;}if(l.hasClass("collapsed")){C.set(Y,0);i.set("aria-expanded",false);F.fire("om:list:collapse");}else{C.set(Y,1);i.set("aria-expanded",true);F.fire("om:list:expand");}}}i.on("click",k);i.on("keydown",function(l){if(l.keyCode===13){k(l);}});U.delegate("keydown",function(r){var s=r.target,t=r.keyCode,l,n,q,p,u,o,m=F.UA.os;if((m=="macintosh")&&(t==8)){t=46;}switch(t){case 38:case 40:r.halt();l=r.container.all("a[role=option]");q=l.indexOf(this);p=r.keyCode===40?q+1:q-1;if((n=l.item(p))){s.set("tabIndex",-1);n.set("tabIndex",0);n.focus();}break;case 46:r.halt();u=s.ancestor("li").get("id");if(u.indexOf("_app_")>=0){u=u.slice(5);if(!(H.Registry.isPermanent(u))){F.use("om-controller-addremoveapp",function(v){N.AddRemoveApp.uninstallApp(u);});}}break;case 121:case 77:o=(m=="windows"||m=="win");if((o&&r.shiftKey&&t==121)||(!o&&r.ctrlKey&&r.shiftKey&&r.altKey&&t==77)){r.preventDefault();E.simulateContextMenu(r.target,false);}break;}},"a[role=option]");U.delegate("click",function(m){var o=m.currentTarget,l,n;m.halt();n=m.currentTarget.getAttribute("id");l=n.slice(5);appData=V.get(l);O(n);R(l);F.fire("om:refreshApp",appData);O(n);},"li input");function j(p){p.halt();var t,v,o,w,u,n,s,q,m,l;
o=(p.currentTarget).one("a");t=(p.currentTarget.getAttribute("id")).slice(5);w=V.get(t);K.stat("OM","APPLIST:clickApp");K.stat("OM","APPLIST:clickApp:"+t);n=w&&w.config;u=n&&n.events;s=u&&u["click"];q=s&&s.action;m=q&&q.launch.target_zone;if(m=="window"){K.stat("OM","APP:INVOKE:"+t);l=t;window.open(q.launch.view,l);p.stopPropagation();return;}var r=(p.target).getAttribute("id");if(r.indexOf("_ref_")>=0){return;}v=t.split("_");if(v.length==1){F.fire("om:appclicklaunch",t);}else{G(v[0],v[1]);}}U.delegate("click",j,"li");F.on("om:appclick",j);U.delegate("contextmenu",function(n){var o=n.currentTarget,m=n.target;if(!o.menu){var l=o.get("id");if(l.indexOf("_app_")>=0){l=l.slice(5);if(!(H.Registry.isPermanent(l))){F.use("om-ui-applicationlistmenu-base","common-ui-menu-helper",function(q,p){q.om.ui.ApplicationListMenu.insert("menu-applist",function(){var r=q.one("#menu-applist");q.common.ui.MenuHelper.create(o,{menu:r,isContext:true,xy:[n.clientX,n.clientY],contextTarget:n.target},function(){r.on("menuSelected",Q,null,l);r.on("menu:state",function(s){if(s.state=="hide"){m&&m.focus();}});});});});}}}n.halt();},"li");L.delegate("click",function(m){var l=V.getGalleryData();if(l&&l.app){F.fire("om:appclicklaunch",l.app);}else{}m.halt();},"input");}function Q(j,i){if(j.dataAction&&j.dataAction=="app-remove"){F.use("om-controller-addremoveapp",function(k){N.AddRemoveApp.uninstallApp(i);});}}function O(j){j="#"+j;var i=F.one(j);if(!i.hasClass("loading")){i.addClass("loading");}else{i.removeClass("loading");}}function R(j){var i=H.Registry.get(j).instance;N.Views.closeApplication(j,i);N.Openapi.upgrade(j,i,null,null,true);}function f(i){if(T){T.all(".btn-apps").remove();}var j=c.appList(i);U.setContent(j);U.setAttrs("aria-live","off");}function e(k){var i=F.one("#_app_"+k),j=c.application_list_subfolder({app_id:k});i.append(j);}function W(i){if(F.Lang.isString(i)&&!i.match(/^https?:\/\/image-/)){return i.replace(/^https?:\/\//,NeoConfig.launch_protocol+"image-");}return i;}a();F.mix(X,{render:f});F.om.Controller.ApplicationList.loadApplication();};F.namespace("om.ui");F.om.ui.ApplicationList=new B();},"1.0.0",{requires:["common-utils","_shared_module_open_mail_application_list","om-model-datastore","om-controller-applicationlist","om-controller-views","_shared_module_open_mail_application_list_menu","common-persist-cookie-data"]});

YUI.add("search-mods",function(A){A.mix(A.namespace("comps"),{"mail-ui-advancedSearchController":{"path":"mail/ui/msearch/advancedSearch/advancedSearchController_5259.js","requires":["common-utils","mail-ui-advancedSearchView","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-advancedSearchView":{"path":"mail/ui/msearch/advancedSearch/advancedSearchView_5259.js","requires":["common-utils","_shared_module_search_empty_rollup","attribute-base","event-base"]},"mail-ui-bulk-progress":{"path":"mail/ui/msearch/utils/bulkProgress_5259.js","requires":["attachments_css","common-ui-dialog-helper","_shared_module_offscreen_bin_progress_bar","mail-ui-basewidget"]},"mail-ui-cache-mgr":{"path":"mail/ui/search/cachemgr_5259.js","requires":["mail-model-datastore"]},"mail-ui-dmsearch-controller":{"path":"mail/ui/dmsearch/dmsearchController_5259.js","requires":["event-base","mail-ui-dmsearch-view","mail-ui-dmsearch-model"]},"mail-ui-dmsearch-model":{"path":"mail/ui/dmsearch/dmsearchModel_5259.js","requires":["common-net-sessionmgr"]},"mail-ui-dmsearch-view":{"path":"mail/ui/dmsearch/dmsearchView_5259.js","requires":["node-base","node-event-delegate","attribute-base","event-base","minty_module_list_view_ad_search"]},"mail-ui-empty-search":{"path":"mail/ui/search/emptysearch_5259.js","requires":["common-utils","_shared_module_search_empty_rollup","plugin","ac-widget","filter-contacts","forms_css","autocomplete_css","_shared_module_offscreen_bin_compose","comms-utils"]},"mail-ui-itemlist-base":{"path":"mail/ui/search/itemlist_5259.js","requires":["datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils","_shared_module_search_rollup"]},"mail-ui-list-mgr":{"path":"mail/ui/msearch/model/listmgr_5259.js"},"mail-ui-mailSearchController":{"path":"mail/ui/msearch/mailSearchController_5259.js","requires":["json","mail-ui-basewidget","mail-ui-searchutils","mail-ui-search-model","mail-ui-list-mgr"]},"mail-ui-messageaction":{"path":"mail/ui/msearch/model/messageactions_5259.js","requires":["mail-controller-messages","mail-controller-messages-ops","common-utils","mail-model-datastore"]},"mail-ui-search-base":{"path":"mail/ui/search/search_5259.js","requires":["mail-ui-cache-mgr","mail-ui-basewidget","mail-ui-searchutils","common-ui-toolbar-base"]},"mail-ui-search-model":{"path":"mail/ui/msearch/model/msws_5259.js","requires":["mail-ui-searchutils","json","rocket-stats","mail-ui-common-string-utils"]},"mail-ui-search-refinements":{"path":"mail/ui/search/refinements_5259.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","_shared_module_search_not_narrowed","mail-ui-common-string-utils"]},"mail-ui-searchGroupsController":{"path":"mail/ui/msearch/searchGroups/searchGroupsController_5259.js","requires":["common-utils","mail-ui-searchGroupsView"]},"mail-ui-searchGroupsView":{"path":"mail/ui/msearch/searchGroups/searchGroupsView_5259.js","requires":["common-utils","_shared_module_shell_navigation_search_rollup","mail-ui-common-string-utils"]},"mail-ui-searchListController":{"path":"mail/ui/msearch/searchList/searchListController_5259.js","requires":["common-utils","mail-ui-searchListView"]},"mail-ui-searchListView":{"path":"mail/ui/msearch/searchList/searchListView_5259.js","requires":["stylesheet","search_css","datatype-date","mail-controller-folders","mail-controller-messages","mail-ui-common-string-utils","attachments_css","mail-ui-attachment-filetype","mail-ui-searchutils"]},"mail-ui-searchbar":{"path":"mail/ui/msearch/searchbar_5259.js","requires":["common-utils","node-pluginhost","comms-bidi-textentry"]},"mail-ui-searchdesc":{"path":"mail/ui/msearch/searchdesc_5259.js"},"mail-ui-searchutils":{"path":"mail/ui/msearch/utils/searchUtils_5259.js","requires":["common-ui-dialog-helper"]},"mail-ui-toolbarController":{"path":"mail/ui/msearch/toolbar/toolbarController_5259.js","requires":["common-utils","minty_module_toolbar_inbox_search_rollup","minty_module_toolbar_inbox_search_thread_rollup","contacts-api","contacts-api-utils"]}});});

YUI.add("om-ui-messagepane-base",function(G){var d=G.common.Utils,M=G.om,F=M.model.DataStore,a=F.Registry,J=F.ApplicationConfig,O=M.Controller,i=M.common.Utils,f=NeoConfig.om.isSandboxEnabled,L=NeoConfig.servername,b=d.substitute,A=d.onDemand,N=G.ui.Templates,W=(G.UA.ie&&G.UA.ie<8),B=W?6000:4000,R=500,h=W?11000:6000,U=3,c=0,V=["comms-log4js","common-utils-stats","mail-ui-messagepane-utils-shared","openmail_strings","om-ui-messagepane-sandbox-controller","om-ui-sandbox-view","om-ui-sandbox-datastore","om-ui-sandbox-messageread","om-ui-sandbox-utils","common-utils","mail-ui-messagepane-warnings"],T=["attachments_css","mod-conversation-history_css","mod-shortcuts_css"],K=null,D=null,I=d.rocketstats,g=null,C=null;function Z(Y){i.log(Y,"SANDBOX");}function Q(j,Y){return i.getEventName(j,Y);}G.on("om:msg:registerSandboxController",function(Y){if(!g){Z("Controller registered");g=F.ViewRegistry.get(Y.id);G.fire("readpool:check");}});function E(){var m=["launch_css","vitality_css"],k=[],j;for(var n=0,Y=m.length;n<Y;++n){j=G.one("#"+m[n]);if(j){k.push(j.get("href"));}}return k;}function P(){var Y={isRTL:NeoConfig.isRTL,fullPage:NeoConfig.fullPage,hasConv:NeoConfig.hasConv,ieCompatibleMode:{ie8_ie7compatible:NeoConfig.ieCompatibleMode.ie8_ie7Compatible,ie9_ie8compatible:NeoConfig.ieCompatibleMode.ie9_ie8Compatible}};return{NeoConfig:Y,cssLinks:E(),appConfig:F.Registry.getSandboxMsgReadConfig(),NeoUrlParams:d.parseQueryString()};}G.on("om:msg:getSandboxPostLaunchConfig",function(Y){if(!D){D=P();}O.Openapi.returnAPI(Y,D);});function H(){function Y(l){return l.slice(0,4)=="http";}var k=G.merge(YUI_config.groups.mail_css),j=G.merge((yui.Env._loader||YUI_config).groups.mail);k.modules=G.mix({},k.modules,false,T);j.modules=G.mix({},j.modules,false,V);if(!Y(k.comboBase)){k.comboBase=NeoConfig.launch_protocol+L+k.comboBase;}if(!Y(j.comboBase)){j.comboBase=NeoConfig.launch_protocol+L+j.comboBase;}return{css:k,js:j,strings:strings,mailYUIURL:NeoConfig.yuiURL,mailBase:YUI_config.base,mailComboBase:YUI_config.comboBase,mailLoaderPath:YUI_config.loaderPath,mailModuleRoot:YUI_config.root};}G.on("om:msg:getConf",function(Y){if(!C){C=H();}O.Openapi.returnAPI(Y,{data:C});});function e(Y){if(g&&a.hasMessageReadEvents(Y)){G.fire(Q(g.get("instanceId"),"sandbox.controller"),{cmd:"apprefresh",args:{appConfig:a.getSandboxMsgReadConfig()}});}}G.on("om:refreshApp",e);G.on("om:installApp",e);G.on("om:uninstallApp",e);var S=function(Y,j,k){var l=this;S.superclass.constructor.apply(l,arguments);l.handleContactChanged=G.on("contacts:api:contactChanged",l.updateLozenges,l);if(!f){return;}l.launchStatus="INIT";l.msgRenderTimer=null;l.isSandboxViewReady=false;l.heightUpdateTimer=null;l.sandboxStartTime=null;l.firstRender=1;l.firstMsgDisplayed=false;l.RSstopwatch=null;l.msgReadRtbApps=0;!l.fullView&&G.once("om:msg:registerSandboxController",function(){if(!l.message){l.render();}});l.modifyAttr("scrollWidthActive",{getter:function(){return !l.isSandboxActive();}});};G.extend(S,G.mail.ui.MessagePane);S.prototype.NAME="OMMessagePane";S.prototype.hasOMFlag=function(j,Y){return j.extend&&j.extend.openmail&&j.extend.openmail.flags&&j.extend.openmail.flags[Y];};S.prototype.isSandboxActive=function(){return f&&g&&c<U&&this.launchStatus!=="TIMEOUT";};S.prototype.getEnhancedBody=function(){var k=this,j=k.message,Y=k.isSandboxActive()&&j.extend&&j.extend.openmail&&j.extend.openmail.enhancedBody;return Y||"";};S.prototype.setFullFormatters=function(){var m=this,l=null,j=null,Y=null,k=function(o){var s=o.s||"",q=o.o||0,n=o.f||m.readFormatters,r=o.a||0,p=o.strs||strings;return b(s,q,n,r,p);};if(S.superclass.setFullFormatters){S.superclass.setFullFormatters.apply(m,arguments);l=m.readFormatters.msg_has_attachment;j=m.readFormatters.msg_has_photo_attachment;m.readFormatters.msg_has_photo_attachment=function(){var n=m.message;return m.isSandboxActive()&&(!G.Lang.isUndefined(n.body)&&m.hasOMFlag(n,"suppressAttachments"))?"":j();};m.readFormatters.msg_has_attachment=function(){var n=m.message;return m.isSandboxActive()&&(!G.Lang.isUndefined(n.body)&&m.hasOMFlag(n,"suppressAttachments"))?"":l();};Y=m.readFormatters.msg_blocked;m.readFormatters.msg_blocked=function(){var n=m.message;return(m.isSandboxActive()&&n.extend&&n.extend.openmail&&n.extend.openmail.imgBlocked)?k({s:N._shared_module_message_display_rollup.msg_blocked,o:n}):Y();};}};S.prototype.isPreviewPane=function(){return !this.fullView;};S.prototype.getTotalRetryCount=function(){return c;};S.prototype.createSandbox=function(){var j=this,Y=a.getSandboxData();if(!Y){Z("Sandbox app not found.  Switching to message pane.");return;}j.launchStatus="CREATE";O.Views.runActions(Y,"events","message_render",false,null,null,null,null,null,function(k){j.viewObj=k;j.initSandboxIframe();});};S.prototype.sendSandboxControllerEvent=function(j,Y){if(!this.viewObj){return;}G.fire(Q(this.viewObj.get("instanceId"),"sandbox.controller"),{cmd:j,args:Y});};S.prototype.render=function(Y){var j=this;j.firstActive&&j.firstActive.detach();j.firstActive=null;Y=Y||j.parentNode;if(j.firstRender&&!(Y&&Y.inDoc())){j.firstActive=j.once("activeChange",function(k){if(k.newVal){j.firstRender=0;S.superclass.render.apply(j,[Y]);j.firstActive=null;}});}else{S.superclass.render.apply(j,[Y]);}};S.prototype.scrollWidthReset=function(){var Y=this;S.superclass.scrollWidthReset.apply(Y);if(Y.isSandboxActive()){Y.sendSandboxControllerEvent("resetwidth",{"viewId":Y.viewObj.get("viewId")});}};S.prototype.initSandboxIframe=function(){var m=this,j;if(!m.viewObj){Z("viewObj is not available.  Use default appendMarkup.");S.superclass.appendMarkup.apply(m);return;}if(m.launchStatus=="CREATE"){m.startStopwatch(1,"LoadSandbox");m.sandboxStartTime=new Date();m.RSstopwatch=new d.Stopwatch("LoadSandbox");Z("Waiting for sandbox to register.");j=m.message;if(j){m.message={flags:j.flags,header:j.header,mid:j.mid};}S.superclass.appendMarkup.apply(m);m.message=j;var Y=m.get("parentNode"),l=Y.one(".tripane.content")||Y.one(".message.content"),k=setTimeout(function(){if(m.launchStatus!="TIMEOUT"){Z("TIMEOUT: sandbox failed to register!");
m.launchStatus="TIMEOUT";m.closeSandbox();if(++c===U){G.mail.Controller.Messages.unhook("get",K);}}S.superclass.appendMarkup.apply(m);I.stat("OM","ERR:registerSandbox");},B);l.append(m.viewObj.getMarkup());m.viewObj.initIframe();m.launchStatus="WAIT";m.applyHandler();m.once("sandboxViewReady",function(){m.RSstopwatch&&m.RSstopwatch.stop&&m.RSstopwatch.stop();if(m.sandboxStartTime){window.rt_LogTime&&rt_LogTime("t2",(new Date())-m.sandboxStartTime,true);m.sandboxStartTime=null;}Z("SUCCESS: registered!");m.launchStatus="REGISTERED";clearTimeout(k);m.isSandboxViewReady=true;});m.viewObj.once("load",function(){m.sendSandboxControllerEvent("initsandboxview",{viewId:m.viewObj.get("viewId"),data:{fullView:m.fullView}});});}};S.prototype.appendMarkup=function(){var Y=this;if(!f||!g){Z("Default appendMarkup");S.superclass.appendMarkup.apply(Y);return;}if(Y.launchStatus=="INIT"||Y.launchStatus=="TIMEOUT"){if(c<U){Y.createSandbox();}}Y.handleSandbox();};S.prototype.applyHandler=function(){var j=this,Y=j.viewObj.get("viewId");j.internalAPIHandler=G.on("om:msg:"+Y,j.handleInternalAPI,j);j.on("activeChange",function(k){j.sendSandboxControllerEvent("activechange",{viewId:Y,newVal:k.newVal});if(k.newVal===1&&NeoConfig.fullPage){j.sendSandboxControllerEvent("updateheight",{"viewId":Y});}});j.on("closeChange",function(k){if(k.newVal===1){j.closeSandbox();}});};S.prototype.closeSandbox=function(){var j=this,Y=(j.viewObj)?j.viewObj.get("viewId"):null;j.isSandboxViewReady=false;j.firstMsgDisplayed=false;j.sandboxStartTime=null;j.RSstopwatch=null;if(Y){j.sendSandboxControllerEvent("closesandboxview",{"viewId":Y});if(j.heightUpdateTimer){j.heightUpdateTimer.cancel();}O.Views.closeView(Y);j.viewObj=null;}if(j.internalAPIHandler){j.internalAPIHandler.detach();j.internalAPIHandler=null;}if(j.handleContactChanged){j.handleContactChanged.detach();j.handleContactChanged=null;}if(j.msgRenderTimer){clearTimeout(j.msgRenderTimer);j.msgRenderTimer=null;}};S.prototype.handleSandbox=function(){try{var p=this,j=p.viewObj,n=p.message,o=!!(n&&!n.body&&!p.loading_slow&&!p.loading_error)||p.outboundReq,Y=p.formatters.page_show_comm_modes()+p.formatters.page_show_comm_modes_else(),l=(n&&n.body)?p.getEnhancedBody()||n.body.display:"";}catch(m){I.stat("OM","ERR:genMarkup");}function k(){try{p.RSstopwatch=new d.Stopwatch("DisplayMessageInSandbox");p.startStopwatch(1,"DisplayMessageInSandbox");p.msgReadRtbApps=n&&n.extend&&n.extend.openmail&&n.extend.openmail.context.msgReadRtbApps;var t=null,s={data:{}},v=n&&n.extend&&n.extend.openmail&&n.extend.openmail.context,r=n&&n.extend&&n.extend.openmail&&n.extend.openmail.onreadScripts||[],w=G.Array.map(v&&G.Object.keys(n.extend.openmail.context.matchedAppIds)||[],function(y){return y.split(".")[0];});if(v){s.data=O.Messageread.repackageData(n);}s.data.loading=o;s.data.matchedAppIdList=w;s.data.appCodes=[];s.data.body={content:Y,msgBody:l,truncated:(n&&n.body&&n.isTruncated),scrollTop:p.scrollTop,href:p.href,isChat:p.isChat(n)};if(n&&n.body){s.data.body.msgBlockedMarkup=b(N._shared_module_message_display_rollup.msg_blocked,n,p.readFormatters,0,strings);}for(var u=0,q=r.length;u<q;++u){t=r[u];s.data.appCodes.push({css:t.css,scripts:t.scripts,APIContext:t.context});}Z("Send mesage to Sandbox.");if(n&&n.body){if(p.msgRenderTimer){clearTimeout(p.msgRenderTimer);}p.msgRenderTimer=setTimeout(function(){p.launchStatus="TIMEOUT";p.closeSandbox();S.superclass.appendMarkup.apply(p);I.stat("OM","ERR:sendMessageToSandbox");},h);}p.sendSandboxControllerEvent("render",{viewId:p.viewObj.get("viewId"),data:s});}catch(x){I.stat("OM","ERR:fireRenderEvent");}}if(p.isSandboxViewReady){k();}else{p.once("sandboxViewReady",function(){k();});}};S.prototype.handleSandboxRenderComplete=function(){var m=this,j=m.viewObj?m.viewObj.get("viewId"):null,l=m.viewObj?m.viewObj.getIframe():null,k=function(){var n;S.superclass.renderComplete.apply(m);if(l){if(m.message&&m.message.header){n=m.message.header.subject;}l.set("title",n||strings["str_comp_nosubject"]);}};if(m.msgRenderTimer){clearTimeout(m.msgRenderTimer);m.msgRenderTimer=null;}if(!m.firstMsgDisplayed){m.firstMsgDisplayed=true;var Y=m.get("parentNode");if(Y){Y.all(".message.content > div").remove();}if(l){l.addClass("enabled");}if(NeoConfig.fullPage){m.heightUpdateTimer=G.later(R,m,function(){if(m.get("active")){m.sendSandboxControllerEvent("updateheight",{"viewId":j});}},null,true);}}else{window.rt_LogTime&&rt_LogTime("t2",0,true);}if(!m.outboundReq&&m.message&&m.message.body){G.UA.ie?setTimeout(k,0):k();}};S.prototype.renderProfileImage=function(j){var l=this,Y=l.viewObj?l.viewObj.get("viewId"):null,k;if(G.Lang.isArray(j)&&j.length==1){j=j[0];}if(!l.isSandboxActive()){S.superclass.renderProfileImage.apply(l,[j]);return;}k=S.superclass.getProfileImageMarkup.apply(l,[j]);if(k){l.sendSandboxControllerEvent("updateheaderprofileimage",{"viewId":Y,data:{html:k}});}};S.prototype.renderComplete=function(Y){var j=this;if(!j.isSandboxActive()){S.superclass.renderComplete.apply(j);return;}j.RSstopwatch&&j.RSstopwatch.stop&&j.RSstopwatch.stop();};S.prototype.postRender=function(){var Y=this;if(Y.isSandboxActive()){Y.sendSandboxControllerEvent("resizeSubject",{viewId:Y.viewObj.get("viewId")});}S.superclass.postRender.apply(Y);};S.prototype.handleSandboxDOMSubtreeModified=function(Y){var j=this;i.getIFrameById(j.viewObj.get("viewId")).setStyle("height",Y.height+"px");};S.prototype.handleSandboxDOMSubtreeModifiedWidth=function(Y){var j=this;S.superclass.scrollWidthUpdate.apply(j,arguments);};S.prototype.handleAttachmentDownloadSingle=function(Y){var j=this;j.downloadAttachment(Y.partId,Y.tnefId);};S.prototype.handleAttachmentDownloadAll=function(Y){this.downloadAllAttachments("non-image");};S.prototype.handleAttachmentDownloadAllPhotos=function(Y){this.downloadAllAttachments("image");};S.prototype.handleAttachmentDownloadEverything=function(Y){this.downloadAllAttachments("all");};S.prototype.handleMessageSetFlag=function(Y){var j=this;G.use("mail-ui-messageevents",function(l){var k=j.message.flags.isFlagged?"unflagged":"flagged";
l.mail.ui.MessageEvents.handleUI({action:k},j.fid,null,[j.message]);});};S.prototype.handleMailTo=function(Y){G.use("mail-ui-shortcuts",function(j){j.mail.ui.ShortCuts.composeMailToMessage(Y.mailto);});};S.prototype.handleMRD=function(Y){G.use("mail-controller-mrd",function(j){j.fire("mrd:launch",Y.mrdLink);});};S.prototype.handleUnblockImages=function(Y){var j=this;j.unblockImages();};S.prototype.handleLoadOptions=function(Y){var j=this;j.loadOptions();};S.prototype.handleRetryLoad=function(Y){var j=this;j.retryLoad();};S.prototype.handleToggleShowDetails=A("toggleShowDetails","mail-ui-messagepane-bind");S.prototype.showMore=function(Y){this.sendSandboxControllerEvent("showMore",{"viewId":this.viewObj.get("viewId"),"markup":this.getAllLozenges(Y.field),"field":Y.field});};S.prototype.updateMessageFlagMarkup=function(Y){if(!f||!this.viewObj){S.superclass.updateMessageFlagMarkup.apply(this);return;}this.sendSandboxControllerEvent("messageflagstatus",{"viewId":this.viewObj.get("viewId")});};S.prototype.updateLozenges=function(Y){if(!f||!this.viewObj){return;}this.sendSandboxControllerEvent("handleupdatelozenges",{viewId:this.viewObj.get("viewId"),data:{contacts:Y.details[0]}});};S.prototype.convertShortcuts=function(){};S.prototype.setFocusToSandboxElement=function(Y){if(this.viewObj){this.sendSandboxControllerEvent("setfocus",{viewId:this.viewObj.get("viewId"),selector:Y});}};S.prototype.startStopwatch=function(k,j){var Y=d.Stopwatch.get("MsgInPreview")||this.stopwatch;Y&&Y.start(k,j);};S.prototype.handleInternalAPI=function(j,Y){var k=this;switch(j){case"sandboxStartStopwatch":k.startStopwatch(Y.lv,Y.msg);break;case"sandboxSetFocus":k.setFocusToSandboxElement(Y.selector);break;case"sandboxRenderComplete":k.handleSandboxRenderComplete();break;case"sandboxDOMSubtreeModified":k.handleSandboxDOMSubtreeModified(Y);break;case"sandboxDOMSubtreeModifiedWidth":k.handleSandboxDOMSubtreeModifiedWidth(Y);break;case"sandboxViewReady":k.fire("sandboxViewReady");break;case"downloadSingle":k.handleAttachmentDownloadSingle(Y);break;case"downloadAll":k.handleAttachmentDownloadAll(Y);break;case"downloadAllPhotos":k.handleAttachmentDownloadAllPhotos(Y);break;case"downloadEverything":k.handleAttachmentDownloadEverything(Y);break;case"setFlag":k.handleMessageSetFlag(Y);break;case"mailto":k.handleMailTo(Y);break;case"mrd":k.handleMRD(Y);break;case"viewFullMsg":k.viewFullMsg(Y);break;case"unblockImages":k.handleUnblockImages(Y);break;case"loadOptions":k.handleLoadOptions(Y);break;case"retryLoad":k.handleRetryLoad(Y);break;case"toggleShowDetails":k.handleToggleShowDetails(Y);break;case"showMore":k.showMore(Y);break;case"message.readAppTime":k.handleMsgReadAppTime(Y);break;}};S.prototype.setDocRole=function(){};S.prototype.setRootNodeTabIndex=function(){this.get("rootNode").set("tabIndex",-1);};S.prototype.setFocusNode=function(){};S.prototype.onFocus=function(){var j=this,Y=j.fullPageView?j.getSubjectFocusNodeSelector():".message.content";if(j.launchStatus=="REGISTERED"&&j.get("active")&&j.message){j.setFocusToSandboxElement(Y);}return 1;};S.prototype.handleMsgReadAppTime=function(l){var o=this,n=o.message,k=n.mid,m=l.time,Y=a.getAppName(l.appId)||"",j=d.Stopwatch.get("MsgInPreview")||o.stopwatch;j&&j.addComment("-AppRender."+Y+":"+m);if(--o.msgReadRtbApps===0){o.fire("msgReadAppComplete");}Z("message.read app time(mid:"+k+" / appName:"+Y+"): "+m);};G.namespace("om.ui");G.om.ui.OMMessagePane=S;if(f){var X={success:function(Y,k,j){O.Messageread.postHookMessageGet(Y,k,j);}};K=G.mail.Controller.Messages.hook("get",X);}},"1.0.0",{requires:["mail-ui-messagepane-base","mail-controller-messages","json-stringify","om-model-datastore","om-controller-messageread","om-controller-views","common-utils-stats","rocket-stats"]});

YUI.add("om-controller-messageread",function(D){var T=D.om,I=T.Controller,i=I.extend("Messageread"),k=T.common.Utils,m=T.model.DataStore,h=m.Registry,U=m.ViewRegistry,F=m.EventRegistry,J=m.ApplicationConfig,L=D.common.Utils,n=D.mail,B=n.model.DataStore.Messages,K=n.Controller.Messages,Q=D.Array,A=D.Lang,a=D.Object,R=A.isUndefined,d="message.read",Z=k.createLogger("ONREAD");function H(u,AA,t){var z=null,w=u.extend,o=w.openmail,Y=(AA.cbk&&AA.cbk.args&&AA.cbk.args.stopwatch)||null,r=u.mid,p="FILTER: "+r+": ",y=new L.Stopwatch("OMMessageGetPostHook"),x;if(o&&o.isProcessed){Z(p+"This message was already processed");return u;}if(o&&o.onEnhanced){Z(p+"This message is already enhancing by another runningQ. Wait until it's done");x=t(function(){});o.onEnhanced.push(x);return;}Y&&Y.start(1,"MatchOnRead");try{z=C(u);if(!o){o=w.openmail={isProcessed:false,isBodyModified:false,flags:{suppressAttachments:z.suppressAttachments}};}o.context=z;}catch(v){Z(p+"Error Message:"+v.message||"");}if(z&&z.filtersMatched){try{Z(p+"This message can be enhanced. start enhancing");o.onEnhanced=[];function s(){}function q(AC){x(AC);for(var AB in o.onEnhanced){o.onEnhanced[AB](AC);}delete o.onEnhanced;y.stop();}x=t(s);u.inboxservices=AA.origParms.msg.inboxservices||[];f(u,q,Y);}catch(v){Z(p+"JS Error occured, show the original message");x(u);}}else{if(!m.Loading.isLoading()){o.isProcessed=true;Z(p+"This message is not interested by any onRead app. Show the original message");}else{Z(p+"Openmail is still loading.  Result not cached.  Show the original message");}}}function f(w,u,Y){Y&&Y.start(1,"LoadAppsOnRead");var p=w.extend.openmail.context,s=p.msgReadAppData,y=p.launchAppIds,q=k.getObjSize(y),t=w.mid,r="LOADQ: "+t+": ",v,AB,AA,o,x;if(q>0){function z(AF){var AD=NeoConfig.om.onReadAppLaunchTimeout.split("."),AC=q*parseInt(AD[2]),AE;AC=Math.max(AC,parseInt(AD[0]));AC=Math.min(AC,parseInt(AD[1]))*1000;AE=AF.later(AC,this,function(){Z(r+"launch timeout. but let's move to runQ");AF.detach("om:message.read:loadQ|*");j(w,u,Y);return;});Z(r+"# of launch apps("+q+") / total launch timeout("+AC+"ms)");for(o in y){v=s[o];AB=v.appData;AA=AB.app;x=k.getEventName(o,d,null);I.Views.runActions(AB,"events","message_read",true,null);Z(r+AB.name+"("+AB.app+"): launching");AF.once("om:message.read:loadQ|"+x+"registered",function(AG){Z(r+AB.name+"("+AB.app+"): event registered "+AG);q--;if(q===0){AE.cancel();j(w,u,Y);}});}}if(I.Views&&I.Views.runApps&&I.Internalapi){z(D);}else{D.use("om-controller-views","om-controller-internalapi",z);}}else{Z(r+"All apps are already launched");j(w,u,Y);}}function j(AL,AB,w){w&&w.start(1,"RunAppsOnRead");var AH=AL.extend,q=AH.openmail,p=q.context,o=p.msgReadAppData,u=p.matchedAppIds,AJ=l({data:c(AL)},d),y=new D.AsyncQueue(),AC=AL.mid,z="RUNQ: "+AC+": ",s="om:message.read:runQ:"+AC+"|",Y,v,AG,r,AF,t,AI,x=false,AA=false,AK,AD=(document.location.host.indexOf("corp.yahoo.com")!==-1);for(AK in m.MessageReadRunList.getAll()){if(AC!=AK){Y=m.MessageReadRunList.get(AK);if(Y){Y.queue.stop();delete Y.omExtend.onEnhanced;D.detach("om:message.read:runQ:"+AK+"|*");m.MessageReadRunList.del(AK);Z(z+"STOP runningQ for message(mid:"+AK+"), another runningQ for the current message has started");}}else{Z(z+"There is already runningQ for the same message (mid:"+AK+")");}}m.MessageReadRunList.set(AC,{queue:y,omExtend:q});function AE(AM){y.add(function(){y.pause();var AN=D.later(parseInt(NeoConfig.om.onReadAppRunTimeout)*1000,this,function(){Z(z+"TIMEOUT "+AM);D.fire(d+AC,AJ);});D.once(s+d+AC,function(AR,AS,AP){AN.cancel();if(AR.returnCode==="success"){V(AR.data,AS);Z(z+"RETURN: SUCCESS "+AM);if(AR.data.data){q.isBodyModified=true;AJ.data.body.content=AR.data.data;}if(A.isUndefined(AJ.data.om_flags)){AJ.data.om_flags={};}if(AR.data.suppressAttachments){AJ.data.om_flags.suppressAttachments=AR.data.suppressAttachments;}if(AR.data.imagesBlocked){AA=true;}if(AA){AJ.data.imagesBlocked=true;}if(!AJ.data.onreadScripts){AJ.data.onreadScripts=[];}var AO=h.isInternal(AS)?NeoConfig.om.webcacheHostCom:NeoConfig.om.webcacheHostNet,AQ={context:{appId:AS,instanceId:AP,invokePrefix:("http://"+(AD?AO:([AS,".",AO].join(""))))},scripts:AR.data.scripts||[],css:AR.data.css||[]};AJ.data.onreadScripts.push(AQ);}else{Z(z+"RETURN: OTHERS "+AM);}y.run();});D.fire(AM,AJ);Z(z+"FIRE "+AM);});}for(AF in u){v=o[AF];AG=v.appData;r=AG.app;AI=v.viewId;t=k.getEventName(AF,d,null);x=U.get(AI)&&F.getByEventName(AF,AI,d+r);if(x){AE(t);Z(z+"ADD "+t);}}D.once(s+d+".jserror"+AC,function(){Z(z+"JSERROR");D.fire(d+AC,AJ);});y.on("complete",function(){if(AH&&q){if(q.isBodyModified){q.enhancedBody=AJ.data.body.content;}q.onreadScripts=AJ.data.onreadScripts;if(!A.isUndefined(AJ.data.om_flags)){q.flags.suppressAttachments=!!(AJ.data.om_flags.suppressAttachments||q.flags.suppressAttachments);}if(!A.isUndefined(AA)){q.imgBlocked=AA;AA=false;}q.isProcessed=true;m.MessageReadRunList.del(AC);D.detach(s+"*");y.stop();AB(AL);Z(z+"ALL DONE!");}});y.run();}function V(o,q){var Y="returnMessage: data type error, appId="+q,p=(A.isObject(o)&&!a.isEmpty(o)&&((R(o.scripts)||A.isArray(o.scripts))&&(R(o.css)||A.isArray(o.css))&&(R(o.suppressAttachments)||A.isBoolean(o.suppressAttachments))&&(R(o.imagesBlocked)||A.isBoolean(o.imagesBlocked))));if(!R(o.data)&&!A.isString(o.data)){p=false;delete o.data;}if(!p){Z(Y);}return p;}function c(q){var u={},Y={},s=K.getQueryParams(q),p=q.extend.openmail.context,o=!K.isCertified(q.inboxservices||[]),t=(s.midRequest.blockImages=="all")&&o;L.merge(u,q.header);L.merge(Y,q.flags);var r={from:u.from,to:u.to,cc:u.cc,replyto:u.replyto,subject:u.subject,date:u.sentDate,messageid:q.mid,folderid:s.fid,sourceFolderid:q.sourceFolderInfo&&q.sourceFolderInfo.fid||null,body:{content:q.body.display},flags:Y,annotation:p.scAnnotation||{},attachment:X(s.fid,q.mid,q.attachments),imagesBlocked:!!((q.hasBlockedImages&&o)||(q.imgAttachments&&q.imgAttachments.length&&t)),suppressImages:t,truncated:q.isTruncated,sandboxPrefix:q.yivPrefixNumber};return r;}function N(p,Y,o){var q=p.header;
return{header:{from:q.from,to:q.to,cc:q.cc,bcc:q.bcc,replyto:q.replyto,inReplyTo:q.inReplyTo,sentDate:q.sentDate,receivedDate:q.receivedDate,subject:L.escapeHtml(q.subject)},body:p.body,hasForwardedMsg:p.hasForwardedMsg,isTruncated:p.isTruncated};}function X(p,r,o){var s=[];for(var Y in o){var t=o[Y],q={partId:L.escapeHtml(t.partId),type:L.escapeHtml(t.type),tnefId:L.escapeHtml(t.tnefId),subtype:L.escapeHtml(t.subtype),typeParams:L.escapeHtml(t.typeParams),disposition:L.escapeHtml(t.disposition),dispParams:L.escapeHtml(t.dispParams),size:t.size,encoding:L.escapeHtml(t.encoding),filename:L.escapeHtml(t.filename),contentId:L.escapeHtml(t.contentId),thumbnailurl:t.thumbnailurl};q.url=D.mail.Controller.Messages.getAttachmentUrl(p,r,t.partId,t.tnefId,t.filename,t.subtype);if(q.type=="message"){q.message=N(t.message,p,r);}s.push(q);}return s;}function l(p,Y){var q=D.merge(p),o=q.data.messageid,r=q.data.folderid;switch(Y){case d:q["returnMessage"]=["function( obj ) {",'var _context = { eventName: "',d,'", mid:"',o,'", fid:"',r,'" };','openmail.Application.callWebService( { url:"apps://", method:"GET", parameters:{ cmd:"returnEvent",args:{ ctx:_context, returnCode:"success", data:obj } } } );}'].join("");q["cancel"]=["function( obj ) {",'var _context = { eventName: "',d,'", mid:"',o,'", fid:"',r,'" };','openmail.Application.callWebService( { url:"apps://", method:"GET", parameters:{ cmd:"returnEvent", args:{ ctx:_context, returnCode:"cancel", data:obj } } } );}'].join("");break;case"compose.start":break;}return q;}function C(v){var t=["http://","https://","ftp://"];if(v.extend.openmail&&v.extend.openmail.context&&v.extend.openmail.enhancedBody){Z("This message is cached and get the context from cache");return v.extend.openmail.context;}function p(w){return Q.some(t,function(x){return w.substring(0,x.length)===x;});}function u(x){var AB=x.length,y=Math.max(x.search(/<body[^>]*>/i),0),w=Math.max(x.search(/<\/body>/i),AB),AA=(y!==0||w!==AB?x.substring(y,w):x).replace(/<script[^>]*>[\s\S]*?<\/script>/mig,""),z=AA.match(/<a\s[^>]*href\s*=\s*"[^"]*|\b(ftp|https?):\/\/[^\s<]+/mig)||[],AC=Q.filter(Q.map(z,function(AD){return A.trim(L.unescapeHtml(AD.replace(/^<a\s[^>]*href\s*=\s*"/mi,"").replace(/"[\s\S]*$/mi,"")));}),p);return AC;}function r(){var AC=v.body.display,w=W(AC),x=w?G(w):{filterInfo:{},scAnnotation:{}},AD=x.filterInfo,AA=x.scAnnotation,AB=Q.hash((AD.url||[]).concat(AD.http||[])),z=Q.unique(u(AC)),y=Q.filter(z,function(AE){return !(AE in AB);});Q.each(y,function(AE){if(!AD.url){AD.url=[];AA.url=[];}AD.url.push(AE);AA.url.push({id:D.guid(),text:AE,context:""});});return x;}var o=null,s=r(),q={annotation:s.filterInfo||{},flags:v.flags,fid:K.getQueryParams(v).fid,header:{from:v.header.from.email,to:Q.map(v.header.to,function(w){return w.email;}),subject:v.header.subject,"attachment.type":Q.map(v.attachments,function(w){return w.type;}),"attachment.subtype":Q.map(v.attachments,function(w){return w.subtype;}),"attachment.filename":Q.map(v.attachments,function(w){return w.filename;})}},Y={domainKeyOk:!v.header.domainkey||(new RegExp(v.header.domainkeyname+"$","i")).test(v.header.from.email),isSpam:q.fid==="%40B%40Bulk"};o=P(v,q,Y);o.scAnnotation=s.scAnnotation||{};return o;}function P(x,AI,AA){var p={},o={},u={},v={},AE=h.getAll(),w=false,AB=false,AH,AF,s,AD,AJ,Y,y,q,AG,AC,t,z=0;function r(AL,AK){return Q.some(Q(AL),function(AM){try{return AK.test(AM);}finally{AK.lastIndex=0;}});}if(!AA.isSpam){for(s in AE){AF=AE[s];if(!AF){continue;}AD=AF.instance;if(AF.needsAck&&!h.isNoDisclaimer(AF)){continue;}if(h.isSick(AF)){continue;}if(NeoConfig.isFullSSL&&AF.name=="Yahoo! Shortcuts"){continue;}if(!AA.domainKeyOk&&!h.isInternal(AF)){continue;}if((AJ=AF.config)&&(Y=AJ.events)&&(y=Y.message_read)&&(q=y.match)){AH=(y.action&&y.action.launch&&y.action.launch.id)?M(s,y.action.launch.id):e(s,"message_read");w=U.get(AH)&&F.getByEventName(AD,AH,d+s);AG=q["@attributes"].mode;AC=t=0;Q.each(J.MATCH_CATEGORIES,function(AK){var AM=q[AK]||[],AL=Q.filter(AM,function(AP){var AO=AI[AK][AP.name],AN=!A.isUndefined(AO)&&r(AO,AP.regex);Z("FILTER: "+AF.name+" ("+AF.app+"): ["+AK+"/"+AP.name+"]"+(AN?"":" NOT")+" MATCH for "+AP.regex);return AN;});AC+=AM.length;t+=AL.length;});Z("FILTER: "+AF.name+" ("+AF.app+"): "+"matched "+t+" of "+AC+" filters; mode="+AG);o[AD]={appData:AF,totalNumFilters:AC,numFiltersSatisfied:t,viewId:AH};if(((AG==="or")&&(t>0))||((AG==="and")&&(t>0)&&(AC==t))){v[AD]=AD;if(y.message_actions&&y.message_actions.suppress_attachments=="true"){AB=true;}if(!w&&y.action){u[AD]=AD;}if(NeoConfig.om.isMsgReadAppRTB&&h.isMsgReadRtbApp(s)){z++;}}}}}p=k.getObjSize(o)>0?{filterInfo:AI,filtersMatched:k.getObjSize(v)>0?true:false,launchAppIds:u,matchedAppIds:v,autoRun:true,suppressAttachments:AB,msgReadAppData:o}:{filtersMatched:false,launchAppIds:{},matchedAppIds:{},autoRun:true,msgReadAppData:null};if(NeoConfig.om.isMsgReadAppRTB){p.msgReadRtbApps=z;}return p;}function b(o,Y){var q=parseInt(o.split("_").pop(),10),p=parseInt(Y.split("_").pop(),10);return q<p?-1:p<q?1:o.localeCompare(Y);}var E=[{include:/shortcuts:\/us\/(instance)\/(identifier)\/(URL|phone_number|email_address|date_only|date_time|day_of_week|day_of_week_time|month_only|month_year|time_only|vin|.+_tracking|isbn|hyperlink\/http)(\/([\w\W]+))*$/i,exclude:/(other\/health\/drug|organization\/company\/ticker)/},{include:/shortcuts:\/us\/(instance)\/(place|person|organization|event|animal\/fictional|other)(\/([\w\W]+))*/i,exclude:/(other\/health\/drug|organization\/company\/ticker)/i},{include:/shortcuts:\/us\/(tag)\/(other\/technology|news|celebrity|finance\/glossary_mail|other\/wiki)(\/([\w\W]+))*/i,exclude:/(small_business|health\/yahoo_health)/i},{include:/shortcuts:\/us\/(place\/virtual\/web_site)(\/([\w\W]+)*)/i},{include:/shortcuts:\/us\/(class)(\/([\w\W]+))*/i},{include:/shortcuts:\/(concept)(\/([\w\W]+))*/i},{include:/shortcuts:\/(abstract)\/(other|organization|event)(\/([\w\W]+))*/i}];function S(o){var q,r=Q.some(E,function(s){var u=s.include,t;try{if(!(q=u.exec(o))){return false;
}}finally{u.lastIndex=0;}if((t=s.exclude)){try{if(t.test(o)){return false;}}finally{t.lastIndex=0;}}return true;}),p,Y;if(!r){return null;}p=q[2]==="identifier"?q[3]:q[2];Y=q[Math.floor(q.length-1,5)];return{text:o,category:q[1],type:p,subtype:p!==Y?Y:""};}function G(Y){var p=a.keys(Y).sort(b),o=Q.hash(["class","concept"]);return Q.reduce(p,{filterInfo:{},scAnnotation:{}},function(q,s){var t=Y[s],r=a.keys(Q.reduce(t.type,{},function(x,u){var v=S(u),w;if(v){if(v.type&&v.category&&!o[v.category]){w=v.type.replace(/^.*\//,"");}else{w=v.category||v.subtype;}if(w){x[w.toLowerCase()]=true;}}return x;}));Q.each(r,function(u){var v;if(u==="http"){v=L.unescapeHtml((t.metaData||{}).linkHref)||t.text||"";}else{v=t.text||"";}Q.each(a.keys(q),function(w){if(!q[w][u]){q[w][u]=[];}});q.filterInfo[u].push(v);q.scAnnotation[u].push({id:s,text:v,context:t.context});});return q;});}function W(r){var o=r.search(/<script[^>]*>/i),t,Y,q,p;if(o>=0){t=r.length;Y=Math.max(r.search(/<\/script>/i),t);q=o!==0||Y!==t?r.substring(o,Y):r;p=/\bYAHOO\.Shortcuts\.annotationSet\s*=\s*({[\s\S]*?})\s*;/.exec(q);if(p&&p[1]){try{return D.JSON.parse(p[1]);}catch(s){return null;}}}return null;}var O="om_user_view_id_",g="om_default_view_id_";function M(o,Y){return O+o+"-"+Y;}function e(o,Y){return g+o+"-"+Y;}D.mix(i,{postHookMessageGet:H,runMessageReadAppFilters:P,repackageData:c,canEnhanceMessage:C,validateReturnData:V},true);},"1.0.0",{requires:["om-controller-base","om-common-utils","async-queue","mail-controller-messages","common-utils-stats"]});

YUI.add("gx_bootstrap",function(B){B.namespace("galaxy");B.galaxy.cachedEvent={};var C=B.mail,H=window.gGalaxyData,E=B.common.Utils.rocketstats.stat,F=function(K,J){if(B.Env._used[J]&&B.Env._attached[J]){return;}if(K){if(J==="gx_messages"&&K.target&&K.target.getAttribute("msgheader")){K.preventDefault();}B.galaxy.cachedEvent[J]=K;if(K.target.getAttribute("href")=="#"){K.preventDefault();}}B.use(J,function(L){if(J==="gx_messages"){L.galaxy.messages(K);}});return true;};B.once("click",F,"#gx_cue",null,"gx_cue");B.once("click",F,"#gx_cue_mini_nux",null,"gx_cue_mini_nux");var D=B.once("click",F,"#gx_messages",null,"gx_messages");var G=B.on("ds:folder:change",function(K,J,L){if(K&&J&&L){D.detach();G.detach();F(null,"gx_messages");}});if(NeoConfig&&NeoConfig.launchMsgPrefetch!=1&&H&&H.ruefcCaching==1){B.once("ws:postLoad",function(){var L=3,K=[],J=B.one("#gx_messages").all("ul.messages a");J.each(function(M){K.push({ts:M.getAttribute("ts"),mid:decodeURIComponent(M.get("id").substring(5))});});K.sort(function(N,M){return(M.ts-N.ts);});if(C&&C.Controller&&C.Controller.Messages){C.Controller.Messages.get({fid:"Inbox",msg:null,prefetch:K.slice(0,L)});}});}B.once("click",F,"#gx_vnews",null,"gx_news");if(B.one("#gx_birthdays a.ecard")){B.on("click",function(J){E("gx","birthday_click");B.fire("mrd:launch","http://mrd.mail.yahoo.com/gallery?appId=34o9m6oo30o9l&param0=374446");J.preventDefault();},"#gx_birthdays a.ecard");}if(B.one("#gx_top_searches")){B.one("#gx_top_searches").delegate("click",function(J){var K=J.currentTarget;if(K.get("nodeName").toUpperCase()=="A"&&K.getAttribute("target")=="_blank"){E("gx","trendingClick");}},"a");}B.galaxy.bindInboxLink=function(){B.on("click",function(J){E("gx","RUEFCViewAll");yui.fire("openInbox");J.preventDefault();},"#gx_messages .icn-inbox a.more");};B.galaxy.bindInboxLink();B.galaxy.delayLoadImages=function(J){J=J||"#galaxyPageContainer";var K=B.all(J+" img[dsrc]");K.each(function(L){L.on("load",function(){this.removeClass("invisible");});L.set("src",L.getAttribute("dsrc"));});};var I=H&&H.rushmoreEnabled===true&&B.one("#gx_messages a.photo")&&(H.linkedApps.indexOf("facebook")!=-1||H.showProfileImage);function A(){if(I){B.use("gx_profiledata",function(J){J.galaxy.ProfileData.getProfileData({onFailure:J.galaxy.delayLoadImages});});}}if(!I){B.galaxy.delayLoadImages();}if(C.ui.Workspace.get("postLoadFired")){A();}else{B.on("ws:postLoad",function(){A();});}B.galaxy.loadRushmoreImages=A;B.galaxy.isRushMore=I;},"1.0.0",{requires:["node-base"]});

YUI.add("common-ui-listview",function(C){var R=C.namespace("common.ui"),Z=C.Node,S=Z.one,X=C.Object,G=21,K=Z.getDOMNode,M="pageSize",A="pageCount",U="-",L=".",Q="page",E="list",J="click",O="id",B="input",V="refresh",F="reload",a="requestSize",I="selected",N="#",T="selectionCount",P="getElementsByTagName";var W=function(Y){return function(){var c=this,b=arguments;C.use("common-ui-listview-ext",function(){c[Y].apply(c,b);});};};function D(){this._lazyAddAttrs=false;D.superclass.constructor.apply(this,arguments);}C.mix(D,{NAME:"listview",ATTRS:{page:{value:0,validator:function(Y){return !((Y<0)||(Y>=this.get(A)));}},pageCount:{getter:function(){var Y=this;return Math.ceil(Y.get("model").get(E).length/Y.get(M))||1;}},pageSize:{value:100},entireElementChecks:{value:false},requestSize:{value:200},selectionCount:{setter:function(Y){if(Y>1){this.checkmode=1;}return Y;},getter:function(){return this.selCount();}},selection:{getter:function(){return X.keys(this._sel);},setter:W("_setSelection")},focused:{value:false},activeItem:{value:null},model:{valueFn:function(){return new H();},setter:function(Y){var b=this;b.detachAll();if(Y){Y.after(F,function(c){b.set(Q,0,{noupdate:1});b._clearSelect();b._sel={};b._sync(1);});Y.after(V,function(c){b._ss=X.values(b._sel);b._model.request(b.start(),b.get(a));});Y.after("listChange",W("_listchange"),b,1);}return(this._model=Y);}},status:{setter:function(b){if(this._parentNode){var Y=W("_setStatus");Y.apply(this,arguments);}}},showFocus:{value:false}}});C.extend(D,C.Base,{LIST_CLASS_NAME:"list-view-items",ITEM_CLASS_NAME:"list-view-item",STATUS_CLASS_NAME:"list-view-status",IGNORE_FLAG:"flag",IGNORE_DELETE:"delete-msg",IGNORE_CLASS_NAME_INFO:"info",CHECKBOX:"input",HEADER_CLASS_NAME:"list-header",STATUS_ROLE:"row",initializer:function(Y){var b=this;b._bind();b._maxLength=0;b._guid=C.guid();b._sel={};b.checkmode=0;},render:function(Y){var e=this,b=0,j=Z.one(Y),f=e.get("model").get(E),c=j.one(L+e.LIST_CLASS_NAME),h=e.get(M),g=c.all("div"+L+e.ITEM_CLASS_NAME),d;g.each(function(i){i.set(O,e._id(b++));});e._bindEvents(j);e._srcNode=c;e._parentNode=j;e._r=1;e._maxLength=Math.max(h*G,c.get("offsetHeight"));if(!f[e.start()]){e._sync();}},home:function(){this.set(Q,0);},end:function(){this.set(Q,this.get(A)-1);},next:function(){this.set(Q,this.get(Q)+1);},previous:function(){this.set(Q,this.get(Q)-1);},hasAllSelected:function(){var b=this,Y=b.get(T);if(Y){return(b.checkmode&&Y==((b.get(A)==(b.get(Q)+1))?(b.stop()-b.start()):b.get(M)));}},selectAll:function(c){var d=this,Y=d.get(T),b=c==undefined?1:c;if(d.hasAllSelected()){b=0;}d._selectRange(S(N+d._id(d.start())),b,S(N+d._id(d.stop()-1)));return b;},selCount:function(){return X.size(this._sel);},getItemEl:function(Y){return S(N+this._id(Y));},_setSelected:function(Y,b){},_renderItem:function(Y){return Y+"";},_focusItem:function(Y){Y.focus();},_id:function(Y){return this._guid+U+Y;},start:function(){var Y=this;return Y.get(Q)*Y.get(M);},stop:function(){var Y=this;return Math.min(Y.start()+Y.get(M),Y._model.get(E).length);},refresh:function(b){if(this._parentNode){var Y=this.get("model");if(b){Y.refresh();}else{Y.reload();}}},sync:function(){this._sync();},resetFocus:function(){var Y=this;Y.setAttrs({activeItem:null,focused:false});Y._clearSelect();Y.fire("lv:resetFocus");},_bind:function(){var Y=this;Y.after("pageChange",function(b){if(b.details&&!b.details[0].noupdate){Y._sel={};Y._lastSS=Y._lastSel=0;Y._sync(0,b.newVal-b.prevVal);}},Y);},_keydown:W("_keydown"),_isCheckboxBorder:W("_isCheckboxBorder"),_sync:W("_sync"),_blur:W("_blur"),_selectRange:W("_selectRange"),_getListItem:function(f,b){var g=this,d=f.target?f.target:f,Y,c;c=d.ancestor(function(e){if(!b&&(e.hasClass(g.IGNORE_FLAG)||e.hasClass(g.IGNORE_DELETE)||(NeoConfig.hoverPreview&&e.hasClass(g.IGNORE_CLASS_NAME_INFO)))){Y=1;}return(e.hasClass(g.ITEM_CLASS_NAME)&&!e.hasClass(g.HEADER_CLASS_NAME))||Y;},true);return Y?0:c;},_getIndex:function(Y){return 1*Y.get(O).split(U).pop();},_checkbox:function(d){var b=d.target||d,Y=NeoConfig.hoverPreview?false:b.hasClass("info");if((b.hasClass("cbox")||Y||(b.hasClass("fixed")&&b.hasClass("start"))||(b.get("type")||"").toLowerCase()=="checkbox")||this._isCheckboxBorder(d)){var c=K(b).parentNode[P](B);return{state:c[0].checked};}},_isTextField:function(b){var Y=b.target||b;if(Y.get("type")&&Y.get("type")=="text"){return true;}},_entireElementCheck:function(d){if(this.get("entireElementChecks")){var c,f=this,Y=d.target||d;var b=Y.ancestor(function(e){return e.hasClass(f.ITEM_CLASS_NAME);},true);if(b){c=K(b)[P](B);return{state:c[0].checked};}}},_select:function(f,g,Y,c){var h=this,e,b,d=h.selCount();if(f){b=h._getIndex(f);if(!Y||(Y&&Y.compareTo(f))){f[g?"addClass":"removeClass"](I);f.set("aria-selected",(g?true:false));if((d>=1)||c){(K(f)[P](B))[0].checked=g;h.checkmode=(d>1)?1:g;h._lastSel&&g&&((K(h._lastSel).getElementsByTagName(B))[0].checked=1);}if(g){e=h._model.get(E)[b];e&&(h._sel[b]=e);}else{delete h._sel[b];}h.set(T,d=this.selCount());}else{h._selectRange(f,g,Y);}}},_clearSelect:function(b){var c=this,Y=c.selCount();if(Y&&!b){if(Y==1&&c._lastSel){c._select(c._lastSel,0);}else{c.selectAll(0);}}c.checkmode=0;c._lastSel=c._lastSS=0;c._sel={};Y&&c.set(T,this.selCount());},_bindEvents:function(e){var d=this,c,Y;e.on("mousedown",b,d);e.on("mouseup",b,d);e.on("click",b,d);e.on("dblclick",b,d);function b(k){var h=d._getListItem(k),o=d._checkbox(k)||d._entireElementCheck(k),f,j,i,m=k.type,n=(k.metaKey||k.ctrlKey),l=k.shiftKey;if(!h){return;}i=h.hasClass(I);function g(){if(h){if(n){f=!i;}else{f=o?!o.state:1;}if(f&&(!n&&!l)&&(!o||!d.checkmode)){d._clearSelect();}if(l){d._select(d._lastSel,0,h,1);d._lastSel=f?h:0;d._select(h,1,d._lastSS,1);}else{d._lastSel=0;d._select(h,f,0,o||(k.button>1));d._lastSel=f?h:0;d._focusItem(h);}if(((d.selCount()==1)||!l)&&f){d._lastSS=h;}d.setAttrs({activeItem:h||null,focused:1});k.preventDefault();}}if((m=="mousedown")&&(Y=!i)){g();}if(m=="mouseup"&&!Y&&i&&k.button<2){g();}if(m=="click"||m=="dblclick"){if(i){j=d._getIndex(h);
!o&&!n&&!l&&d.fire("command",{e:k,index:j,item:d._model.valueAt(j)});}k.preventDefault();}}e.on("keydown",function(){d._keydown.apply(d,arguments);});e.on("focus",function(f){d.setAttrs({activeItem:(d._getListItem(f,1)||null),focused:true});});e.on("blur",function(){d._blur.apply(d,arguments);});d.after("showFocusChange",function(f){S(L+d.LIST_CLASS_NAME)[(f.newVal?"addClass":"removeClass")]("showfocus");});}});function H(){this._lazyAddAttrs=0;H.superclass.constructor.apply(this,arguments);}C.mix(H,{NAME:"listmodel",ATTRS:{KEY:{value:"id"},list:{value:[]},length:{setter:function(Y){this.get(E).length=Y;},getter:function(){return this.get(E).length;}}}});C.extend(H,C.Base,{valueAt:function(Y){return this.get(E)[Y];},setRange:W("setRange"),update:W("update"),remove:W("remove"),reverse:W("reverse"),indexesOf:W("indexesOf"),refresh:function(){var Y=this;Y.fire(V);Y._refresh=1;},reload:function(){var Y=this;Y.set("length",0);Y.fire(F);}});R.ListModel=H;R.ListView=D;},"1.0.0",{requires:["base-base","node","event-focus"]});

YUI.add("mail-ui-maillist",function(C){var D=C.common.Utils,R=D.substitute,P=D.escapeHtml,T=D.unescapeHtml,J=C.mail.ui.common.StringUtils,a=C.mail.ui.Accounts,I=C.mail.Controller,Z=I.Folders,M=C.common.persist.UserData,K="userUIPref.defaultSortOrder",X="userUIPref.msgPaneVisible",E=["externalAccounts","aliases","disposableAddresses"],Q=E.length,L,U,F="date",W="down",G="up",O=NeoConfig.bidi&&C.Intl.detectDirection,N=(24*60*60*1000),B=new Date(),A=B.getTime(),V=B.setHours(0,0,0,0),c=B.setHours(23,59,59,999),H=c-A+1,b=V-N*6;for(U=0;U<Q;++U){M.after("knownAddress|"+E[U]+"Change",function(Y){L=a.buildAccountList();});}var S=function(Y){var e=this;_requests=[];Y=Y||{};e.evt=[];e.folderIDSortCol={};e.listAPIObj={};function d(){S.superclass.constructor.call(e);function f(){e.dateResetHandle.cancel();B=new Date();A=B.getTime();V=B.setHours(0,0,0,0);c=B.setHours(23,59,59,999);H=c-A+1;b=V-N*6;e.dateResetHandle=C.Lang.later(H,e,f);e.refresh();}e.dateResetHandle=C.Lang.later(H,e,f);}d();};C.extend(S,C.common.ui.ContentWidget);C.mix(S.prototype,{getColorIndicator:function(d,e){var Y=d||e;L=L||a.buildAccountList();return(Y&&L[Y])?L[Y]:"";},getFolder:function(e,Y){var d=this;Z.get(d.fid,{success:function(h){var g=h.folderInfo;if(!g.localizedName){g.localizedName=J.getSystemFolderName(g.fid,g.name,Y,C.Lang.isObject(d.extraParams));}e(h);}});},getFolderNameBidi:function(f,d,e,Y){if(typeof f==="undefined"){return"";}if(typeof Y==="undefined"){Y=strings.str_tog_loadRTLCss?"rtl":"ltr";}if(typeof d==="undefined"){d=O?C.Intl.detectDirection(f,Y):"";}f=((d=="rtl")?"\u202B":"\u202A")+f+"\u202C";f+=(Y=="rtl")?"\u200F":"\u200E";if(typeof e!=="undefined"){e=((Y=="rtl")?"\u202B":"\u202A")+"("+e+")"+"\u202C";f='<span dir="'+d+'">'+f+'</span>  <i dir="'+Y+'">'+e+"</i>";}return f;},updateTitle:function(Y){var d=this;d.getFolder(function(f){var g=f.folderInfo.localizedName,e=C.Lang.isNumber(e)?e:f.total;if(NeoConfig.bidi){g=d.getFolderNameBidi(g,f.folderInfo.dir,e);}else{g+=" <i>("+e+")</i>";}d.set("title",g);},true);},setLabel:function(){var Y=this;Y.getFolder(function(d){Y.parentNode.one(".list-view").set("aria-label",d.folderInfo.localizedName);},false);},setFocusNodeAttr:function(Y){this.set("focusNode",Y);return Y;},removeSelection:function(){var d=this,Y=d._listview;if(Y){d.setFocusNodeAttr(Y.getItemEl(Y.start()));Y.set("selection",0);}else{if(!M.get(X)){d._listview.clearSelection(0,1,1);}}},formatFromName:function(f,e,j){var i=this,h=strings.str_cfg_tog_show_contact_name&&C.contacts&&C.contacts.utils,Y,g,d={nameDir:""};if(i.fid=="Draft"||i.fid=="Sent"){if(f){g=f;d.nameDir=e?e:(O?C.Intl.detectDirection(g):"");}}else{Y=j.name?j.name:j.email;g=h?C.contacts.utils.getShownContactName(j):Y;if(O&&g){d.nameDir=C.Intl.detectDirection(g);}}d.name=g?P(T(g)):"&nbsp;";return d;},initAttrs:function(Y){var e=this,d={selectCount:{getter:function(){return(e._listview)?e._listview.getSelectCount():0;}},fid:{setter:e.setFid},extraParams:{setter:e.setExtraParams},title:{value:e.title},fullpane:{setter:e.setFullpane},vertical:{value:Y.vertical}};e.addAttrs(d);},setExtraParams:function(Y){var d=this;d.extraParams=Y;},reset:function(){var Y=this;Y.folder=null;Y.cancelRequests();NeoConfig.msgrData={reply:{},spam:{spims:[]},message:null};},cancelRequests:function(){for(var Y=0;Y<_requests.length;Y++){_requests[Y].abort();}_requests.length=0;this.sorting=0;},refresh:function(){var d=this;var Y=new Date().setHours(0,0,0,0);d._listview.setStatus(strings[(d.fid=="%40C%40Chats")?(NeoConfig.hasConv?"str_msg_list_loading_ims":"str_msg_list_loading_conversation"):"str_msg_list_loading"]);d._listview.refresh();},restoreSortOrder:function(){var d=this,Y=d.folderIDSortCol;d.sortedColumn=Y[d.fid];if(!d.sortedColumn){d.sortedColumn=d.columns.date;d.sortedColumn.action=F;}d.sortedColumn.sortOrder=(D.isEmpty(Y)?M.get(K):0)||d.sortedColumn.sortOrder;d.showSortOrder();},showSortOrder:function(){},setFullpane:function(Y){var d=this;if(Y){d.rootNode.addClass("inbox-fullpane");d.rootNode.setStyles({width:"auto",height:"auto"});}else{C.use("common-persist-cookie-data",function(h){var f=h.common.persist.getCookie(),g,e=d.get("vertical");if(e){g=f.get("pos.h2slider");g=g&&g.substr(1);g=Math.max((g?g:630),0);d.rootNode.setStyles({width:g,height:"auto"});}else{g=f.get("pos.vslider");d.rootNode.removeClass("inbox-fullpane");g=Math.max((g?g:148),0);d.rootNode.setStyles({height:g,width:"auto"});}});}},handleDarlaEvent:function(f,e){var h=this,g=e?{Inbox:"scroll_inbox","%40C%40Chats":"scroll_inbox",Draft:"scroll_draft",Sent:"scroll_sent",Trash:"scroll_trash","%40B%40Bulk":"scroll_spam"}:{Inbox:"folderview_inbox","%40C%40Chats":"folderview_chat",Draft:"folderview_draft",Sent:"folderview_sent",Trash:"folderview_trash","%40B%40Bulk":"folderview_bulk"},Y,d=f||(h.folder&&h.folder.total==0);Y=g[h.fid]||(e?"scroll_folder":"folderview_custom");h.fire("darlaEvent",{action:(d&&!e)?Y+"_empty":Y});}},true);C.mail.ui.MailList=S;},"1.0.0",{requires:["common-ui-contentwidget","mail-controller-folders","common-persist-user-data","mail-ui-common-string-utils","mail-ui-accounts","mail-model-datastore","rocket-stats"]});

YUI.add("mail-ui-maillist-listview",function(H){var B="host",A="showfocus",E=".focusable",D=".list-view-item",C="tabIndex",G="temp|keydown";function F(){F.superclass.constructor.apply(this,arguments);}H.extend(F,H.Plugin.Base,{_evt:[],_getActiveCol:function(){var I=this.get(B).rootNode.one(".list-view").one(D),J=-1;if(I){J=I.all(E).indexOf(I.one(".sortby"));}return J;},_onFirstRowKeyDown:function(L){var M=this,K=M.get(B),J=M._hdrNode,I;if(L.keyCode===38&&(L.metaKey||L.ctrlKey)){L.stopPropagation();I=J.all(E).item(M._getActiveCol());K.setFocusNodeAttr(I);K.set("headerFocused",true);I.focus();}},_setFocusNodeAttr:function(){var M=this,K=M.get(B),I=K.vlist,L=I.getItemEl(I.start()),J=K.get("headerFocused");if(L){if(!I.get("activeItem")&&!J){K.setFocusNodeAttr(L);}if(J){K.setFocusNodeAttr(M._hdrNode.all(E).item(M._getActiveCol()));}M._evt.push(L.on(G,M._onFirstRowKeyDown,M));}},bindUI:function(){var M=this,K=M.get(B),I=K.vlist,L=K.rootNode.one(".list-view"),J=L.one(".list-header");M._hdrNode=J;M._evt.push(I.on("statusChange",function(O){var N=O.newVal;if(N){O.newVal='<div role="gridcell">'+N+"</div>";K.setFocusNodeAttr(L.one(".list-view-status"));}}));M._evt.push(K.on("beforeRender",function(N){var O=I.getItemEl(I.start());if(O){O.detach(G);}}));M._evt.push(K.on("renderComplete",function(){M._setFocusNodeAttr();}));M._evt.push(J.delegate("keydown",function(O){var N=O.target;switch(O.keyCode){case 40:O.halt();L.one(".list-view-items").simulate("keydown",{charCode:O.keyCode,keyCode:O.keyCode,altKey:O.alt,shiftKey:O.shift,ctrlKey:O.ctrl,metaKey:O.meta});break;case 32:if(N.get("nodeName").toLowerCase()==="div"){O.halt();N.simulate("click");}break;}},".focusable",M));M._evt.push(J.on("key",function(S){K.set("headerFocused",true);var Q=J.all(E),R=S.target,P=Q.indexOf(R),N=S.keyCode===39?(P+1):(P-1),O=Q.item(N);if(O){K.setFocusNodeAttr(O);O.focus();}},"down:37,39"));M._evt.push(L.delegate("mousedown",function(N){K.set("focusNode",N.target.ancestor(D,true));K.set("headerFocused",false);},".list-view-items .focusable"));M._evt.push(K.on("fidChange",function(N){K.set("headerFocused",false);}));M._evt.push(K.after("headerFocusedChange",function(N){if(N.newVal){J.addClass(A);}else{K.get("focusNode").blur();J.removeClass(A);}}));M._evt.push(I.on("lv:resetFocus",function(N){M._setFocusNodeAttr();}));},initializer:function(I){var K=this,J=K.get(B);J.addAttr("headerFocused",{value:false});K._evt.push(J.after("focusNodeChange",function(N){var L=N.prevVal,M=N.newVal;L&&L.set(C,-1);M&&M.set(C,0);}));K._evt.push(J.once("render",function(){J.rootNode.one(".list-view").set("aria-live","polite");K._setFocusNodeAttr();K.bindUI();}));},destructor:function(){var J=this,I=J._evt;if(I){H.Array.each(I,function(K){K.detach();});J._evt=null;}}});F.NAME="mllistviewplugin";F.NS="mllistviewplugin";H.mail.ui.MessageListListViewPlugin=F;},"1.0.0",{requires:["mail-ui-messagelist-base"]});

YUI.add("mail-ui-listview-controls",function(G){var F=G.common.Utils,A=F.substitute,C=G.ui.Templates,E=G.Plugin.Menu;var B="_shared_module_offscreen_bin_menus_message_list_count",D="_shared_module_offscreen_bin_menus_message_list_sortby";DOWN="down",UP="up";var H=function(K,I,J){var L=this;L.view=I;L.type=J;L.node=K;L.template=null;};G.mix(H.prototype,{setup:function(I){var K=this;try{return K["_"+K.type+"Setup"].apply(K,arguments);}catch(J){}return false;},_paginationSetup:function(I){var J=this;if(I){J.template=I;}J.view.after("renderComplete",G.bind(J._pageChange,J));J._pageChange(false);return true;},_pageFooterSetup:function(I){var J=this;if(I){J.template=I;}J.view.after("renderComplete",G.bind(J._nextPage,J));J._nextPage(false);return true;},_sortoptionsSetup:function(I){var J=this;if(I){J.template=I;}J._handleSortMenu();},_handleSortMenu:function(){var I=this;I.createMenuFor(D,I.node,"#menu-ml-sortby",{},function(){var J=G.one("#menu-ml-sortby");var K=J.all("li");if(NeoConfig.isFresh){K.removeClass("disabled");}else{J.one('a[data-action="date"]').get("parentNode").removeClass("disabled");}J.on("menuSelected",function(O){var Q=O.dataAction,N,L,M,P={"asc":UP,"desc":DOWN};Q in P?L=P[Q]:N=Q;I.view.listObj.sortList(N,L);});},{has_conversations:function(){return NeoConfig.hasConv?A(C[D].has_conversations,null,{},null,strings):"";}});},createMenuFor:function(M,I,L,K,N,J){var J=J||{};G.use("common-ui-menu-helper",M,function(R){var Q=R.common.ui.MenuHelper,P=A(C[M].base,null,J,null,strings),O;if(R.Lang.isString(L)){L=R.one(L);}if(!L){L=P;}if(K&&K.loading){O=K.loading.node?K.loading.node:L;Q.createLoadingMenu(O);}Q.create(I,{menu:L},N);});},_nextPage:function(N){var I,P=this,M=P.node,K=P.template;if(N&&(!(I=M.get("parentNode"))||!(I.get("parentNode")))){return;}var O=P.view.get("page")+1,L=P.view.get("pageCount"),J=(O===L);formatters={class_disabled:J?" disabled":" enabled",aria_disabled:J?"true":"false"};M.setContent(A(K.pagination_footer,formatters,0,0,strings));if(NeoConfig.pagedResults){M.detach("click");M.on("click",function(U){var Q=F.getDataAction(U),R,T,V,S;S=Q.action;if(S.indexOf("-page")!==-1){S=S.substr(0,S.indexOf("-page"));}R=P.view[S];if(R){T=U.target.ancestor(function(W){return W.get("tagName").toLowerCase()==="span";},true);if(T&&!T.hasClass("disabled")){V=G.config.win||window;V.scrollTo(0,0);}if(G.Lang.isNull(U.target.ancestor(".disabled"))){R.call(P.view,S);}}U.preventDefault();U.stopPropagation();});}},_pageChange:function(R){var K,L=this,I=L.node,Q=L.template;if(R&&(!(K=I.get("parentNode"))||!(K.get("parentNode")))){return;}var N=L.view.get("page")+1,P=L.view.get("pageCount"),M=(N===1),O=(N===P),J={first_class_disabled:M?" disabled":" enabled",first_aria_disabled:M?"true":"false",current:N,total:P,last_class_disabled:O?" disabled":" enabled",last_aria_disabled:O?"true":"false"};if(G.one("#btn-ml-count")&&G.one("#btn-ml-count").menu){G.one("#btn-ml-count").unplug(E);}I.setContent(A(Q.pagination_inner,J,0,0,strings));I.detach("dblclick");I.on("dblclick",function(S){if(S.target.ancestor(".pagination-count")){G.use("mail-common-inline-edit",function(T){T.log("Enabling Editable Pagination control for Message View toolbars");var U=new T.mail.common.EditablePaginationControl(I,{setPage:function(V){return L.view.set("page",V);},getPageTotal:function(){return L.view.get("pageCount");},getCurrentPage:function(){return L.view.get("page");}},S);U.enableEditablePagination(S);});}S.stopPropagation();});if(NeoConfig.pagedResults){I.detach("click");I.on("click",function(W){var S=F.getDataAction(W),T,V,X,U;U=S.action;if(U==="menu"){L._handleMenu(W);}else{if(U.indexOf("-page")!==-1){U=U.substr(0,U.indexOf("-page"));}T=L.view[U];if(T){V=W.target.ancestor(function(Y){return Y.get("tagName").toLowerCase()==="span";},true);if(V&&!V.hasClass("disabled")){X=G.config.win||window;X.scrollTo(0,0);}if(G.Lang.isNull(W.target.ancestor(".disabled"))){T.call(L.view,U);}}}W.preventDefault();W.stopPropagation();});}},_handleMenu:function(I){var J=this;if(NeoConfig.hasConv||NeoConfig.isFresh){G.use("common-ui-menu-helper",B,function(P){var O=P.common.ui.MenuHelper,K=A(C[B].base,null,{},null,strings),N,L=P.one("#btn-ml-count"),Q,M=P.one("#menu-ml-count")?P.one("#menu-ml-count"):K;O.createLoadingMenu(L);O.create(L,{menu:M},function(){var R=L.menu,S=R.show;L.addClass("pressed");N=P.one("#menu-ml-count");N.on("menuSelected",function(T){var U=T.dataAction;J.view[U].call(J.view,U);});Q=P.one("#pagenumber");if(Q){Q.on("keydown",function(V){V.stopPropagation();switch(V.keyCode){case 13:var U=J.view.get("page"),T=J.view.get("pageCount"),W=parseInt(Q.get("value"),10);Q.set("value","");Q.blur();if(P.Lang.isNumber(W)){if(W<=0){W=1;}else{if(W>T){W=T;}}J.view.set("page",W-1);}default:break;}});}});});}}});G.mail.ui.ListViewControls=H;},"1.0.0",{requires:[]});

YUI.add("mail-ui-maillist-model",function(B){var C=B.namespace("mail.ui");function A(D){var E=this;E.listObj=D.listObj;A.superclass.constructor.apply(this,arguments);}B.extend(A,B.common.ui.ListModel,{request:function(G,E,D){var F=this;F.requestItems(G,E,function(J,I,H){F.set("length",H);F.setRange(J,I);F.fire("MailListModel:data",{data:I});});},requestItems:function(H,F,D,E){var G=this;G.listObj.requestItems(H,F,D,E);}});C.MailListModel=A;},"1.0.0",{requires:["common-ui-listview"]});

YUI.add("mail-ui-maillist-view",function(B){var C=B.namespace("mail.ui");function A(D){var E=this;E.listObj=D.listObj;A.superclass.constructor.apply(this,arguments);}B.extend(A,B.common.ui.ListView,{_renderItem:function(F,D,E,H){var G=this;return G.listObj.renderItem(F,D,E,H);},_focusItem:function(D,G){var F=this;var E=F.listObj.setFocusNodeAttr(D);if(E&&!G){E.focus();}},getSelected:function(H,F,K,G){var L=this,E=L.get("selection"),M=E.length,I=E.length,P=[],J=[],D={},O,N=L._model.get("KEY");while(I--){O=L._model.valueAt(E[I]);if(O){J.push(O[N]);D[O[N]]=O;}}if((M==1)&&K&&G){K(L._model.get("list"),E[0],P,G);}H({arr:J,map:D,neighbors:P});},setStatus:function(D){var E=this;E.set("status",D);},setLength:function(D){var E=this;E._model.set("length",D);},refreshBody:function(){var D=this;D.sync();},updateUlSize:function(){},updateItemByIndex:function(D){var E=this;E._model.update(D,E.listObj._listmodel.valueAt(D));},getSelectClass:function(){return"";},getSelectCount:function(){var D=this;return D.get("selectionCount");},reverse:function(D){var E=this;E._model.reverse();if(!E.get("selectionCount")){if(D){E.end();}else{E.home();}}},toggleScrollPos:function(){var D=this;D.end();},setScrollByIndex:function(){},getItem:function(E){var F=this;var D=F.listObj._listmodel.valueAt(F._getIndex(F._getListItem(E,1)));return D;},setItems:function(G,D,E){var F=this;F._model.set("length",E);F._model.setRange(G,D);},selectLastSingle:function(){var D=this;return{item:D._model.valueAt(D.get("selection").pop())};},clear:function(E,G,D){var F=this;if(D){F._model.get("list").length=0;}else{F._model.reload();}},clearSelection:function(){},setSelected:function(G){var F=this,E={},D=F._model.get("KEY");E[D]=G;F._model.indexesOf(E,function(H){F.set("selection",H);});},removeByKey:function(F){var H=this,G,E=H._model.get("KEY"),D=[];B.Array.each(F,function(I){var J={};J[E]=I;D.push(J);});H._model.indexesOf(D,function(I){B.common.Utils.traceMsg("removing indexes from model, count "+B.Object.keys(I).length);H._model.remove(I);});}});C.MailListView=A;},"1.0.0",{requires:["common-ui-listview"]});

YUI.add("mail-ui-messagelist-base",function(B){var M=B.mail.Controller.Messages,R=B.mail.model.DataStore.Messages,D=R.toMessage,O=R.toMessageInfo,U=B.mail.Controller.Folders,C=B.common.Utils,N=C.escapeHtml,Q=C.unescapeHtml,P=C.substitute,I=B.mail.ui.common.StringUtils,K=B.common.persist.UserData,H="userUIPref.messagesPerPage",J="userUIPref.defaultSortOrder",F="date",T="down",G="up",W=(strings.str_cfg_tog_hkr_siu===true?"hkr_siu":"cg_siu"),X=strings.str_cfg_tog_hkr_siu===true,E=[],L,A,S=1;var V=function(Y){var a=this;Y=Y||{};a.evt=[];function Z(){V.superclass.constructor.call(a,Y);var e=[],c=B.one("#inboxcontainer div.inbox.expanded-content"),f=c&&c.all("div.list-view-item.selected");f&&f.each(function(h){var i=h.one("input"),g=i.get("value");e.push(g);});a.selectedMids=e;a.title="";a.restoreSortOrder();if(!Y.dontBind&&(Y.fid==="Inbox")){var b=NeoConfig&&NeoConfig.msgListObj;}a.view=Y.view||{};a.dontBind=Y.dontBind;a.template=Y.TEMPLATE||NeoConfig.msgListTmpl;a.pageSize=NeoConfig.pageSize*1||150;if(!b||(Y.fid==="%40S%40Search")){a.createPaginatedList(b);a.initAttrs(Y);a.set("fid",Y.fid||"Inbox");}else{U.get(Y.fid,{success:function(g){a.createPaginatedList(b,g.total);a.initAttrs(Y);a.set("fid",Y.fid||"Inbox");}});}function d(h,i,g){if(h===a.fid){if(S!==g){if(g==="checkmail"){if(!a.sorting){a.updateHeader();a.refresh();}}else{a._listview.refresh(1);!a._listview.hasAllSelected()&&a.selectAllNode.set("checked",0);}}a.updateTitle();}}a.on("visibleChange",function(g){if(g.newVal&&a.needFlush){d(a.fid);a.needFlush=0;}});a.evt.push(B.on("ds:msg:remove",a.removeMsg,a));a.evt.push(B.on("ds:msg:flush",d,a));a.evt.push(B.on("ds:msg:change",a.changeMsg,a));a.evt.push(B.on("ds:msg:add",a.addMsg,a));a.evt.push(B.on("checkmail:before",a.removeSelection,a));if(strings.str_cfg_tog_show_contact_name===true){a.evt.push(B.on("contacts:api:loaded",function(g){a.update();},a));a.evt.push(B.on("contacts:api:contactChanged",function(g){a.update();},a));}B.mix(a,{update:function(){a._listview.refreshBody();}});}Z();if(YUI_config.debug){V._instanceList.push(a);}};if(YUI_config.debug){V._instanceList=[];}B.extend(V,B.mail.ui.MailList);B.mix(V.prototype,{NAME:"MessageList",itemHeight:21,removeMsg:function(d,c){var b,e=this;if(d===e.fid){if(c){var Z=[],Y=c?c.length:0,a=Y&&R.isSearchMid(c[0].mid,d);if(!a){for(b=0;b<Y;b++){Z.push(c[b].mid);}e._listview.removeByKey(Z,e._listview.checkmode||e.fid==="%40B%40Bulk");}}else{e._listview.refresh();}e.updateTitle();}e.searchUpdate(d,c);},searchUpdate:function(Z,Y){var a=this;if(a.fid!=="%40S%40Search"){B.Array.some(Y,function(b){if(b&&(b.sourceFolderInfo&&(b.sourceFolderInfo.fid===a.fid)||R.isSearchMid(b.mid))){a.needFlush=1;return 1;}});}},addMsg:function(a,Y,Z){this.changeMsg(a,Y,Y,Y);},changeMsg:function(f,Z,b,p){var g=this,d,m=0,h=b?b.length:0,Y={},l={},k=g._listmodel.get("list"),e=[],c,n,o,a=k.length,j=h&&R.isSearchMid(b[0].mid,f);if(!j&&(f===g.fid)&&(h>0)){for(d=0;d<h;d++){Y[b[d].mid]=b[d];if(p[d].flags||p[d].header){l[b[d].mid]=b[d];}}d=0;while((d<a)&&(m!==h)){o=k[d];if(o&&(o.mid in Y)){if(o.mid in l){n=O(g.fid,Y[o.mid]);c=k[d];n.receivedDate=c.receivedDate;k[d]=C.merge(c,n,true);e.push(d);}m++;}d++;}if(m!==h){g._listview.refresh(1);g.updateTitle();}else{if(e.length>1){g._listview.refreshBody();g.updateTitle();}else{if(e.length===1){g._listview.updateItemByIndex(e[0]);}}}}g.searchUpdate(f,b);},showSortOrder:function(){var b=this,a,Y,Z;if(b.listRender&&(b.fid!=="%40S%40Search")){a=B.one('#inboxcontainer div.inbox.expanded-content div[data-action="'+b.sortedColumn.sortKey+'"]'),Y=a.ancestor();while(Z=Y.one(".sortby")){Z.removeClass("sortby asc");Z.removeClass("sortby desc");Z.removeAttribute("aria-sort");}if(!b.sortedColumn.groupBy){if(b.sortedColumn.sortOrder==T){a.addClass("sortby desc");a.setAttribute("aria-sort","descending");}else{a.addClass("sortby asc");a.setAttribute("aria-sort","ascending");}}}},render:function(c){var f=this,b,a;f.parentNode=B.Node.one(c);f.set("parentNode",f.parentNode);f.rootNode=f.parentNode.one(".inbox.expanded-content");f.set("rootNode",f.rootNode);if(!f._listview){return;}if(!f.rootNode){function Z(){var g=NeoConfig.isFresh?B.ui.Templates._shared_module_message_list_refresh_rollup:B.ui.Templates._shared_module_message_list_rollup,h={message_list_full_pane:"",get_message_response:"",show_from_header:g.show_from_header?P(g.show_from_header,0,0,0,strings):"",search_results:g.search_results||"",has_pagination:g.has_pagination,show_snippet:"",show_snippet1:"",show_snippet_else:g.show_snippet_else,show_snippet_else1:g.show_snippet_else1};f.template=g;f.parentNode.set("innerHTML",P(f.template.base,h,0,0,strings));f.render(c);}if(!f.template){B.use("_shared_module_message_list_rollup",Z);return;}else{Z();}}b=f.rootNode.one(".list-view");if(f.fid!=="Inbox"||f.dontBind){f.rootNode.one(".list-view .list-view-items").set("innerHTML","");}f._listview.render(b);var Y;f.bindUI();f.parentNode.one(".list-header").setStyle("overflow-x","hidden");f.parentNode.one(".list-header input").removeAttribute("disabled");f.setLabel();f.set("focusNode",f.rootNode.one(".list-view .list-view-items"));if(NeoConfig.intl==="jp"){f.rootNode.one(".list-view .list-view-items").on("scroll",function(){f.handleDarlaEvent(false,true);});}if(f.selectedMids){while(a=f.selectedMids.pop()){f._listview.setSelected(a);}}f.listRender=1;if(NeoConfig.isFresh){f.setPaginationToolbar();if(NeoConfig.fullPage){f.setPaginationFooter();}}else{var d=(B.UA.ie===7)?f.rootNode.get("lastChild").get("lastChild"):f.rootNode.one(".list-view-footer").get("lastChild");var e=new B.mail.ui.ListViewControls(d,f._listview,"pagination");e.setup(f.template);d.setStyle("visibility","visible");}f.updateHeader();f.fire("render");},renderItem:function(a,Y,Z,c){var b=this;if((B.server&&!a)||!a){return"";}a.FormattedFrom=b.formatFromName(a.toEmail,a.toEmailDir,a.from);a.colorIndicator=b.getColorIndicator(a.externalPopServer,a.xapparentlyto);b.renderIndex=Y;L=c;A=Z;return P(b.template.message,a,b.formatters,a,strings,null,b);
},createPaginatedList:function(g,a){var e=this,c=0,f=g?g.length:0,j,l=(e.sortedColumn.sortKey===F)&&(e.sortedColumn.sortOrder===G),Y=a?(l?a-f:0):0,h=[];if(f){for(c=0;c<f;c++){j=g[c];h[Y++]={mid:j.mid,subject:j.subject?Q(j.subject):"",subjectDir:(NeoConfig.bidi&&j.subjectDir)?j.subjectDir:"",xapparentlyto:j.xapparentlyto,receivedDate:j.rawDate,msgSnippet:(NeoConfig.hasConv&&j.snippet)?j.snippet:"",size:parseInt((j["data-size"].split("=").pop()).replace('"',"")),inboxservices:(j.inboxservices&&B.Lang.isString(j.inboxservices)&&j.inboxservices.match("data-certified"))?[{name:"crt",value:"transactional"}]:[],from:(function(){try{return B.JSON.parse(Q(j.fromObj));}catch(i){return"";}})(),flags:{isFlagged:j.flags.match("flagged")?1:0,isRead:j.flags.match("unread")?0:1,isForwarded:j.flags1.match("forwarded")?1:0,isReplied:j.flags1.match("replied")?1:0,hasAttachment:j.hasOwnProperty("hide_attachments_else")?0:1,inAddressBook:j.hasOwnProperty("inAddressBook")?1:0},msgicon:(j.msgicon?j.msgicon:"")};}}V.setMessageHeaderList(h);if(a){h.length=a;}var b,d,k=(1*K.get(H))||50;b=new B.mail.ui.MailListModel({KEY:"mid",length:a,list:h,listObj:e});d=new B.mail.ui.MailListView({model:b,pageSize:k,requestSize:k*2,listObj:e});d.on("selectionCountChange",function(i){if(e.selectAllNode){e.selectAllNode.set("checked",(e._listview.hasAllSelected()?1:0));}if(e.fid==="%40C%40Chats"){e.setMessengerData(i&&i.newVal);}});if(l){d.end();}e._listmodel=b;e._listview=d;e.vlist=d;B.use("plugin","mail-ui-maillist-listview",function(i){if(!e.plug){i.augment(e,i.Plugin.Host);}e.plug(i.mail.ui.MessageListListViewPlugin);e.on("closeChange",function(){e.unplug("mllistviewplugin");});});if(e.parentNode){e.render(e.parentNode);}function Z(){if(e.selectAllNode){e.selectAllNode.set("checked",(e._listview.hasAllSelected()?1:0));}}e._listview.on("command",e.onCommand,e);e._listview.on("selectionCountChange",e.onListViewSelect,e,true);e._listview.after("renderComplete",Z);e._listview.after("renderComplete",function(){e.fire("fullPageRenderComplete");});Z();},updateHeader:function(){if(!this.parentNode||NeoConfig.isFresh){return;}var e=this,d=e.prevFid,a=e.fid,c={Draft:"show_to_header",Sent:"show_to_header","%40C%40Chats":"show_participant_header"};if(d!==a&&e.fid!=="%40S%40Search"){var g=e.parentNode.one(".from"),Z=g.getData("col-width"),Y=g.getData("col-left"),h=g.getData("col-right"),b=g.getData("toCol"),f=c[a]||"show_from_header";g.replace(P(e.template[f],0,0,0,strings,0,e));g=e.parentNode.one(".from");g.setData("col-width",Z);g.setData("col-left",Y);g.setData("col-right",h);}if(e.selectAllNode){e.selectAllNode.set("checked",(e._listview.hasAllSelected()?1:0));}if(!NeoConfig.isFresh){e.restoreSortOrder();}},formatters:{id:function(){return L;},status_message:function(e,a,c){var Z="&nbsp;",b,Y,d=e.srvmap;if(!d){Y=e.inboxservices||[];e.srvmap=d={};for(b=Y.length-1;b>=0;b--){d[Y[b].name]=Y[b].value;}}if(!strings.str_cfg_tog_certified_icon&&d.crt){delete d.crt;}if(e.flags.isReplied){Z=strings["str_msg_list_info-replied"];}else{if(e.flags.isForwarded){Z=strings["str_msg_list_info-forwarded"];}else{if(!e.flags.isRead){Z=strings["str_msg_list_info-unread"];}else{if(d.crt){Z=strings["str_msg_list_info-certified"];}}}}return Z;},status_title:function(b,Y,Z){var a="";if(b.srvmap&&b.srvmap.crt){a=P(strings.str_msg_list_info_verified_attr,strings);}return a;},checkbox_label:function(a,Y,Z){return P(strings.str_msg_list_checkbox_label,{messagenumber:(Z.renderIndex+1)});},checked:function(a,Y,Z){return(Z._listview&&A&&Z._listview.checkmode)?" checked=true ":"";},page_conversation_history:function(Y){return P(Y.template.page_conversation_history,Y,Y.formatters,0,strings);},archiving_disabled:function(Y){return P(Y.template.archiving_disabled,Y,Y.formatters,0,strings);},from:function(a,Y,Z){return a.FormattedFrom.name?a.FormattedFrom.name:"&nbsp;";},fromDir:function(a,Y,Z){return NeoConfig.bidi?a.FormattedFrom.nameDir:"";},folder:function(Z){var Y=Z.sourceFolderInfo,a=Y.name;I.getSystemFolderName(Y.fid,Y.name);return a;},sender:function(a,Y,Z){var b=Z;return P(b.template.sender,0,0,0,strings,null,b)+" "+N(Q(a.from.name));},date:function(Y){if(Y.receivedDate){return C.dateFormatter(new Date(Y.receivedDate*1000),strings.str_tog_dateformat_messagelist_timeonly_l10n);}return"";},receivedDate:function(Z){var Y=Z.receivedDate*1000;return C.dateFormatter(new Date(Y),Neo.getDateFormat(Y));},subject:function(Y){return Y.subject?N(Q(Y.subject)):strings["str_msg-view_no_subject"];},snippet:function(Y){if(Y.msgSnippet){}return Y.msgSnippet?N(Q(Y.msgSnippet)):"";},show_snippet:function(a,Y,Z){var b=Z;return NeoConfig.hasConv?P(b.template.show_snippet,a,b.formatters,a,strings,null,b):"";},show_snippet1:function(a,Y,Z){var b=Z;return NeoConfig.hasConv?P(b.template.show_snippet1,a,b.formatters,a,strings,null,b):"";},show_snippet_else:function(a,Y,Z){var b=Z;return NeoConfig.hasConv?"":P(b.template.show_snippet_else,a,b.formatters,a,strings,null,b);},show_snippet_else1:function(a,Y,Z){var b=Z;return NeoConfig.hasConv?"":P(b.template.show_snippet_else1,a,b.formatters,a,strings,null,b);},size:function(Y){return Math.ceil(Y.size/1000);},mid:function(){return"";},flags:function(a,Y,Z){var b=Z;return[A?" selected ":" ",(a.flags.isRead?"":" unread "),(a.flags.isFlagged?" flagged ":"")].join("");},flags1:function(c){var Z="",a,Y,b=c.srvmap;if(!b){Y=c.inboxservices||[];c.srvmap=b={};for(a=Y.length-1;a>=0;a--){b[Y[a].name]=Y[a].value;}}if(!strings.str_cfg_tog_certified_icon&&b.crt){delete b.crt;}if(c.flags.isReplied){Z="replied";}else{if(c.flags.isForwarded){Z="forwarded";}else{if(!c.flags.isRead){Z="unread";}else{if(b.crt){Z="certified";}}}}return["info-",Z].join("");},flags2:function(a,Y,Z){var b=Z;return a.flags.hasAttachment?b.template.hasAttachment:"";},hide_attachments_else:function(a,Y,Z){var b=Z;return P(b.template.hide_attachments_else,a,b.formatters,null,(a.flags.hasAttachment?strings:null),null,b);},flags3:function(a,Y,Z){var b=Z;return P(b.template.flags3,a,b.formatters,a,null,null,b);
},isFlagged1:function(a,Y,Z){var b=Z;return a.flags.isFlagged?P(b.template.isFlagged1,a,b.formatters,a,strings,null,b):"";},isFlagged2:function(a,Y,Z){var b=Z;return a.flags.isFlagged?P(b.template.isFlagged2,a,b.formatters,a,strings,null,b):"";},isFlagged_else1:function(a,Y,Z){var b=Z;return a.flags.isFlagged?"":P(b.template.isFlagged_else1,a,b.formatters,a,strings,null,b);},isFlagged_else:function(a,Y,Z){var b=Z;return a.flags.isFlagged?"":P(b.template.isFlagged_else,a,b.formatters,a,strings,null,b);},inboxservices:function(d,Z,b){var e=b,c=d.srvmap;if(!c){var Y=d.inboxservices||[];d.srvmap=c={};for(var a=Y.length-1;a>=0;a--){c[Y[a].name]=Y[a].value;}}return((X||!c.crt)&&(c[W]||c.siu||d.msgicon))?P(e.template.inboxservices,d,e.formatters,d,null,null,e):"";},msgicon:function(a){var Z=a.srvmap,Y={"http://mail.yimg.com/a/i/cal/bell4.gif":"https://s.yimg.com/nq/i/cal/bell4.gif","http://mail.yimg.com/a/i/us/pim/ybang_16x16_1.gif":"https://s.yimg.com/lq/i/us/pim/ybang_16x16_1.gif"};if(NeoConfig.isFullSSL&&Z&&Z[W]&&Y[Z[W]]){Z[W]=Y[Z[W]];}return Z&&Z[W]?Z[W]:a.msgicon;},msgicon_title:function(b,Y,Z){var c=Z,a=c.formatters.flags1(b);return(a!=="info-"&&a!=="")?strings[["str_msg_list_",a].join("")]:"";},is_flagged:function(Y){return[(Y.flags.isRead?"":" unread "),(Y.flags.isFlagged?" flagged ":"")].join("");}},columns:{date:{sortKey:F,sortOrder:T},size:{sortKey:"size",sortOrder:T},subject:{sortKey:"subject",sortOrder:G},sender:{sortKey:"sender",sortOrder:G},to:{sortKey:"to",sortOrder:G},recipient:{sortKey:"recipient",sortOrder:G},participant:{sortKey:"sender",sortOrder:G},attachment:{sortKey:F,groupBy:"hasAttachment",sortOrder:T},flagged:{sortKey:F,groupBy:"flagged",sortOrder:T},replied:{sortKey:F,groupBy:"unRead",sortOrder:T},unRead:{sortKey:F,groupBy:"unRead",sortOrder:T}},onCommand:function(Z){var a=this;function Y(b){var c=D(a.fid,b.map[b.arr[0]]);a.fire("command",{e:Z.e,fid:a.fid,message:c,index:Z.index,neighbors:a.convertNeighbors(b.neighbors,a.fid)});}a._listview.getSelected(Y,null,V.getNeighbors,a.fid);},bindUI:function(){var b=this,Z=b.parentNode.one(".list-header"),Y,a;b.selectAllNode=Z.one(".cbox input");b.selectAllNode.set("checked",0);Z.one(".cbox").removeAttribute("disabled");if(NeoConfig.fullPage&&(a=B.one(".list-view-footer"))){B.use("comms-ui-nodefocus-base",function(){a.plug(B.comms.ui.NodeFocusBase,{descendants:"span.btn a",keys:{next:"39",previous:"37"}});});}b.evt.push(b.after("fidChange",function(c){b.setLabel();}));b.evt.push(b._listview.on("beforeRender",function(){b.fire("beforeRender");},b));b.evt.push(b._listview.on("renderComplete",function(){b.fire("renderComplete");if(NeoConfig.fullPage){b.set("selectCount",0);}},b));b.evt.push(b._listview.on("beforeItemUpdate",function(){b.fire("beforeItemUpdate");},b));b.evt.push(b._listview.on("itemUpdate",function(){b.fire("itemUpdate");},b));b.evt.push(b.rootNode.on("click",function(g){var i=this,f=g.target,c=C.getDataAction(g),h,d;switch(c.action){case"selectAll-message":case"selectAll":B.Lang.later(0,i,function(){i.selectAllNode.set("checked",i._listview.selectAll(1));});break;case"flagged":return;case"retry-msglist-load":i.updateHeader();i.refresh();break;case"menu":if(c.node.hasClass("sortby")){sortMenu=new B.mail.ui.ListViewControls(c.node,i._listview,"sortoptions");sortMenu.setup(i.template);}break;}if(NeoConfig.hoverPreview&&(f.hasClass("info")||f.ancestor(".info"))){d=f.ancestor(".list-view-item").hasClass("unread")?"read":"unread";g.halt();}if(f.hasClass("flag")||f.ancestor(".flag")){d=f.ancestor(".list-view-item").hasClass("flagged")?"unflagged":"flagged";}else{if(f.hasClass("delete-msg")){d="delete";}}if(d){h=D(i.fid,i._listview.getItem(g));B.use("mail-ui-messageevents",function(){B.mail.ui.MessageEvents.handleUI({action:d},i.fid,i,[h]);});}},b));b.evt.push(Z.on("click",b.handleSortClick,b));b.evt.push(b.on("closeChange",function(d){if(NeoConfig.fullPage&&a){if(a.nodeFocusBase){a.unplug(B.comms.ui.NodeFocusBase);}if(a.nodeFocus){a.unplug(B.comms.ui.NodeFocus);}}var c,f=this;if(d.newVal===1){for(c in f.evt){B.detach(f.evt[c]);}f.evt=[];}},b));},onCommand:function(Z){var a=this;function Y(b){var c=D(a.fid,b.map[b.arr[0]]);a.fire("command",{e:Z.e,fid:a.fid,message:c,index:Z.index,neighbors:a.convertNeighbors(b.neighbors,a.fid)});}a._listview.getSelected(Y,null,V.getNeighbors,a.fid);},setMessengerData:function(Y){var Z=this;if(Y===1){Z._listview.getSelected(function(a){var b=a.map[a.arr[0]];NeoConfig.msgrData={reply:{cloud_id:b.srvmap&&b.srvmap.cloudid,alias:b.toEmail,id:b.from.email},spam:{},message:b};});}else{NeoConfig.msgrData={};}},requestItems:function(Y,f,b,k){var e=this;function a(n){var q,r,s=n.messageInfo,t=n.startInfo,p,m=s.length;e.folder=n.folder;if((p=n.mid)&&(p.length)){q=p.length;s=[];t=n.startMid;while(q--){s[q]={mid:p[q]};}m=s.length;}for(q=0;q<s.length;q++){r=s[q].msgSnippet;if(r){s[q].msgSnippet=r.replace(/<.*?>/g,"");}}b(t,s,e.folder.total);e.sorting=0;if(NeoConfig.prefetchMsgsFolders==1){var o=e.folder.folderInfo;if(o&&o.fid!=="Inbox"){e.preFetchMessages(o.fid,s);}}}var g={fid:e.fid,sortKey:e.sortedColumn.sortKey,sortOrder:e.sortedColumn.sortOrder,groupBy:e.sortedColumn.groupBy},l=(this.fid==="%40C%40Chats"),Z="Client.FolderIdDoesntExist",h=e.extraParams,j,d;g=k?B.mix(g,{startMid:Y,numMid:f,bidiDetection:NeoConfig.bidi}):B.mix(g,{startInfo:Y,numInfo:f,bidiDetection:NeoConfig.bidi});if(h){for(var c in h){g[c]=h[c];}}j={success:a,failure:function(i){e._listview.setStatus(P(e.template.loading_error,0,0,0,strings),true);if(l&&i.code===Z){e.handleDarlaEvent("%40C%40Chats");}else{if(i.reason===M.Error.request){C.rocketstats.stat("mgslist","BadRequest_"+(k?"mid":"info"));}}e.sorting=0;},timeout:NeoConfig.wsListTimeout||60000,suppressCodes:["*"],suppressLogs:l&&[Z],exceptCodes:[999]};d=M.list;_requests.push(d.call(M,g,j,++S));},convertNeighbors:function(Z,a){var Y=Z.length;while(Y--){Z[Y]=D(a,Z[Y]);}return Z;},getSelected:function(Y){var a=this;function Z(d){var e,b=(d&&d.arr?d.arr.length:0),c=[];for(e=0;e<b;
e++){c.push(D(a.fid,d.map[d.arr[e]]));}Y(c);}a._listview.getSelected(Z,null,V.getNeighbors,a.fid);},onListViewSelect:function(Z){var b=this,Y=Z;b.set("selectCount",Z.newVal);if(NeoConfig.pagedResults&&!NeoConfig.fullPage&&Z.newVal===1&&!b._listview.checkmode){function a(c){var d=D(b.fid,c.map[c.arr[0]]);b.fire("singleSelect",{fid:b.fid,index:null,message:d,neighbors:b.convertNeighbors(c.neighbors,b.fid),e:Y});}b._listview.getSelected(a,null,V.getNeighbors,b.fid);}},onListSelect:function(a){var d=this,Y=a,c=a.count,Z=a.index;d.set("selectCount",c);if(d.selectAllNode){d.selectAllNode.set("checked",(d._listview.checkmode&&c&&c===d._listview.length)?1:0);}if(c===1&&!d._listview.checkmode){function b(e){var f=D(d.fid,e.map[e.arr[0]]);d.fire("singleSelect",{fid:d.fid,index:Z,message:f,index:params.index,neighbors:d.convertNeighbors(e.neighbors,d.fid),e:Y.e});}d._listview.getSelected(b,null,V.getNeighbors,d.fid);}if(d.fid==="%40C%40Chats"){d.setMessengerData(c);}},setFid:function(Y){var Z=this;if(Z.fid!==Y||Z.extraParams){Z.prevFid=Z.fid;Z.reset();Z.fid=Y;U.get(Z.fid,{success:function(a){var b=Z.sortedColumn.sortKey===F&&Z.sortedColumn.sortOrder===G&&!Z.sortedColumn.groupBy;Z.folder=a;if(Z._listview){Z._listview.setLength(Z.folder.total);if(strings.str_cfg_tog_preserve_msglist_scroll){Z._listview.setRefreshScrollToBottom(b);}Z.updateHeader();Z.refresh();}}});}},preFetchMessages:function(c,b){var a=B.mail.common,Y=a&&a.cachewarmer,Z=b;return(Y&&Y.preFetchMessages(c,Z,100));},handleSortClick:function(g){var a=C.getDataAction(g).action,j=g.currentTarget.one('[data-action="'+a+'"]');var d=this,i=d.parentNode.one(".list-header"),b,h=false,f=d.sortedColumn,c=i.one(".sortby")||i.one(".date"),Z=d.columns,Y;if(d.sorting||!Z[a]||(d.folder.total===1)){return;}g.halt();Y=Z[a].sortOrder;if(f&&a==f.action){Y=(f.sortOrder===T)?G:T;}c.removeClass("sortby asc");c.removeClass("sortby desc");c.removeAttribute("aria-sort");if(Y===G){j.addClass("sortby asc");}else{j.addClass("sortby desc");}j.setAttribute("aria-sort",(Y===G?"ascending":"descending"));d.sortList(a);},sortList:function(b,Z){var f=this,k=strings.str_msg_list_sorting,c,g=f.sortedColumn,i,a=f.columns,j;if(f.sorting===1){return;}if(!b&&Z){c=f.sortedColumn;c.sortOrder=Z;i=true;}else{c=C.wcopy(a[b]);c.action=b;if(g&&g.action==c.action){c.sortOrder=(g.sortOrder===T)?G:T;switch(b){case"flagged":j=(g.groupBy==="flagged")?"unFlagged":"flagged";break;case"unRead":j=(g.groupBy==="unRead")?"read":"unRead";break;case"attachment":j=(g.groupBy==="hasAttachment")?"noAttachment":"hasAttachment";break;}c.groupBy=j;i=true;}}if(b===F&&(g.sortKey!==F||g.groupBy)&&K.get(J)){f.sortedColumn.sortOrder=c.sortOrder=K.get(J);}f.sortedColumn=c;f.folderIDSortCol[f.fid]=f.sortedColumn;if(f._listview.getSelectCount()===1){if(i&&!((b=="unRead")||(b==="flagged"))){f._listview.reverse(0,k);}else{var e=M.list,d=f._listview.selectLastSingle(true),h={fid:f.fid,loc:"centerOn",offsetMid:d.item.mid,numInfo:f.pageSize,sortKey:c.sortKey,sortOrder:c.sortOrder,groupBy:c.groupBy};if(f.listAPIObj&&f.listAPIObj.apiName){e=f.listAPIObj.apiName;f.listAPIObj.params&&B.mix(h,f.listAPIObj.params);}var Y=f._listview.checkmode;f._listview.ignoreUpdate=1;f._listview.setStatus(k);f._listview.clear(0,1,1);f.sorting=1;e(h,{success:function(m){f._listview.ignoreUpdate=0;f._listview.setLength(m.folder.total);f._listview.setScrollByIndex(m.startMid);f._listview.setItems(m.startInfo,m.messageInfo,m.folder.total);f._listview.setSelected(d.item.mid,false,true,false,Y);f.sorting=0;},failure:function(){f.sorting=0;f._listview.ignoreUpdate=0;}});}}else{var l=(c.sortKey===F)&&(c.sortOrder===G&&!c.groupBy);if(i&&!((b==="unRead")||(b==="flagged"))){if(f._listview.getSelectCount()>1){f._listview.clearSelection(1);}f._listview.reverse(l,k);}else{f._listview.setStatus(k);f.sorting=1;f._listview.refresh();f._listview.toggleScrollPos(l);}}if(c.sortKey===F&&c.sortOrder!==K.get(J)&&!c.groupBy){K.set(J,c.sortOrder);K.saveOne(J);}},setPaginationToolbar:function(){var Z=this,Y=Z.rootNode.one(".pagination");if(!Z.paginationCntrls){Z.paginationCntrls=new B.mail.ui.ListViewControls(Y,Z._listview,"pagination");Z.paginationCntrls.setup(Z.template);}},setPaginationFooter:function(){var Z=this,Y=Z.rootNode.one(".pagination-footer");if(!Z.pageFooterCntrls){Z.pageFooterCntrls=new B.mail.ui.ListViewControls(Y,Z._listview,"pageFooter");Z.pageFooterCntrls.setup(Z.template);}}},true);B.namespace("mail.ui");V.getMsgHdrList=function(){return E;};V.setMessageHeaderList=function(Z){for(var a=0,Y=Z.length;a<Y;a++){E.push(Z[a]);}};V.getNeighbors=function(){};B.mail.ui.MessageList=V;},"1.0.0",{requires:["mail-ui-maillist","mail-ui-maillist-model","mail-ui-maillist-view","mail-controller-messages","mail-ui-listview-controls"]});

YUI.add("mail-ui-mailpane-base",function(C){C.namespace("mail.ui");var D=C.common.Utils,R=D.escapeHtml,c=D.unescapeHtml,b=D.substitute,A=D.rocketstats,L=C.ui.Templates,g=C.mail,J=g.ui,G=C.Lang,d=G.trim,W=g.ui.MessagePaneUtils,X=g&&g.Controller?g.Controller.Messages:{},V=g&&g.model?g.model.DataStore.Messages:{},S=V.getPermMidPart,Z=L.minty_module_comm_modes,E=V.toMessage,f="ERROR: MessagePaneRead ",Q=200,F=1000,K=15,a=0,e=15000,U=1,M,T=function(){},I={},P=NeoConfig.bidi;var O=function(Y){var j=this,i=(NeoConfig.om&&strings["str_cfg_tog_hasIM"]&&NeoConfig.hasIM),h=(NeoConfig.om&&strings["str_cfg_tog_hasSMS"]);O.superclass.constructor.call(j,Y);j.numSelected=0;j.hasStarted=false;j.loading_slow=j.loading_error=j.loading_moved=j.tmPendingLoad=j.tbarMod=j.tbarCallBack=j.tbarScope=j.tmFireRead=j.slowLoad=j.loadingTimer=j.widthUpdateTimer=j.neighbors=j.message=j.outboundReq=j.request=null;j.isLoaded=j.nextPrevCounter=j.stepTimer=j.isStepping=j.scrollWidth=j.scrollWidthIncr=j.scrollWidthKill=j.fid=0;j.fullView=Y.fullView;j.fullPageView=NeoConfig&&NeoConfig.fullPage;j.parentNode=Y.parentNode||null;j.type="message";j.guid=C.guid();j.sortedColumn=Y.sortedColumn||null;j.searchQuery=Y.searchQuery||null;j.arrMessageSequence=Y.arrMessageSequence||null;j.stopwatch=null;j.oTemplate=null;j.statOp=null;j.stopwatchPreview="PaneInPreview";j.formatters={page_show_comm_modes:function(){return !j.numSelected&&!j.get("close")?j.sub({s:j.oTemplate.page_show_comm_modes}):"";},page_show_comm_modes_else:function(){return j.numSelected&&!j.get("close")?j.sub({s:j.oTemplate.page_show_comm_modes_else}):"";},global_spearmint_view_else:function(){return !j.get("close")?j.sub({s:Z.base}):"";},page_message_pane_view:function(){return Y.fullView?"":j.oTemplate.page_message_pane_view;},page_message_pane_view1:function(){return Y.fullView?"":j.oTemplate.page_message_pane_view1;},page_message_full_view:function(){return Y.fullView?j.oTemplate.page_message_full_view:"";},message_selection:function(){return j.numSelected>0&&!j.message?j.oTemplate.message_selection:"";},has_im:function(){return i?b(Z.has_im,null,j.formatters,null,strings):"";},has_sms:function(){return h?b(Z.has_sms,null,j.formatters,null,strings):"";}};j.on("closeChange",function(l){var k;if(l.newVal){j.detach();if(!j.get("reuse")){try{if(j.parentNode){k=(!j.fullPageView&&j.parentNode.one("div.tripane.content"))||j.parentNode.one("div.message.content");j.set("parentNode",null);j.parentNode=null;}if(k){k.destroy();}}catch(l){}}}else{j.attach();}});!j.get("close")&&j.attach();j.addAttrs({fid:{setter:function(k){j.fid=k;}},message:{setter:function(k){j.setMessage(k);},getter:function(){return j.getMessage();}},visible:{setter:function(l){var k=j.get("rootNode");if(k){k.setStyle("display",(l?"block":"none"));}},value:Y.visible==undefined?1:Y.visible,lazyAdd:true},vertical:{setter:function(o){var k=j.get("rootNode"),m=C.common.persist.getCookie(),l,n={},p=P?"right":"left";if(o){l=m.get("pos.h2slider");l=(l&&l.charAt(0)=="a")?l.substr(1):l;n.top="0px";n[p]=(l||630);}else{n.top=(m.get("pos.vslider")||148);n[p]="0px";}k&&k.setStyles(n);},value:Y.vertical,lazyAdd:true},transferFocus:{},scrollWidth:{value:null},scrollWidthActive:{value:true}});};C.extend(O,C.mail.ui.BaseWidget,{scrollWidthReset:function(){var Y=this;if(!Y.scrollWidthKill){Y.scrollWidth=Y.scrollWidthIncr=0;Y.set("scrollWidth",null);}},scrollWidthUpdate:function(Y){var k=this,i,h=Y.scrollWidth,j=h-k.scrollWidth;if(NeoConfig.fullPage&&k.fullView&&!k.scrollWidthKill){if(j!=0){i=j-this.scrollWidthIncr;if(i>=0&i<=K){k.scrollWidthKill=1;k.set("scrollWidth",null);}else{k.scrollWidth=h;k.scrollWidthIncr=j;k.set("scrollWidth",h);}}}},scrollWidthNotify:function(){var h=this,Y=h.parentNode.one(".msg-body");if(Y){if(a==0){a=parseInt(Y.getStyle("marginRight"))+parseInt(Y.getStyle("marginLeft"));}h.scrollWidthUpdate({scrollWidth:Y.get("scrollWidth")+a});}},scrollWidthStartTimer:function(){var Y=this;if(NeoConfig.fullPage&&Y.fullView&&Y.get("scrollWidthActive")){Y.scrollWidth=Y.scrollWidthIncr=Y.scrollWidthKill=0;Y.scrollWidthNotify();if(Y.widthUpdateTimer){Y.widthUpdateTimer.cancel();}Y.widthUpdateTimer=C.later(F,Y,function(){if(Y.get("active")){Y.scrollWidthNotify();}},null,true);}},resetScrollPosition:function(){var i=this;var Y,h;if(i.resetScroll){Y=this.get("parentNode");h=Y?(!i.fullPageView&&Y.one("div.tripane.content"))||Y.one("div.message.content"):0;if(h){h.set("scrollTop",0);i.resetScroll=0;}}},bindUI:function(){var i=this,h=i.getStopwatch();h&&h.start(2,"BindUI");var Y=i.getRoot();if(C.UA.webkit&&Y&&Y.get("id")!=="msg-preview"&&!i.fullPageView){Y.setStyle("-webkit-user-select","none");C.later(1000,null,function(){var j=i.getRoot();j&&j.setStyle("-webkit-user-select","");},0,false);}if(i.message){h&&h.start(2,"PreLoadExtra1");i.loadExtra(function(){try{h&&h.start(2,"LoadExtraCB1");i.bindPaneContent();}catch(j){}});}else{if(Y&&!i.rootBound){h&&h.start(2,"DelegateClick");Y.delegate("click",function(l){var k=D.getDataAction(l).action;if(k.search(/^om:.*:.*:.*$/)>-1){B(k);H();}else{switch(k){case"compose":C.fire("newMessage");C.fire("globalUltBeaconEvent",{action:"compose_new_msg_pane"});break;case"new-conv":break;case"loadContent":if(M){var j=l.target.get("className");H(j);}else{C.use("mail-ui-messenger",function(m){m.mail.ui.Messenger.showErrorDialog();});}break;}}l.preventDefault();},".media-modes span");Y.on("scroll",function(){i.resetScroll=1;});i.rootBound=1;}}Y=null;},renderComplete:function(){var i=this,Y=i.getStopwatch();Y&&Y.start(1,"postRender");i.fireEvent("complete");try{i.fire("renderComplete");}catch(h){A.stat(i.statOp,"renderCompleteError");}A.stat(i.statOp,"renderComplete");i.scrollWidthStartTimer();i.hasStarted=false;i.setRenderFocus();i.postRender();},appendMarkup:function(){try{var k=this,j=k.get("parentNode"),Y=k.message,h,o,n,m,i;if(!j){return;}h=(!k.fullPageView&&j.one("div.tripane.content"))||j.one("div.message.content");if(h){n=k.numSelected?k.oTemplate.page_show_comm_modes_else:k.oTemplate.page_show_comm_modes;
o=b(n,Y,this.formatters,null,strings,L);h.setContent(o);k.insertBody(h);if(k.scrollTop&&(m=k.get("rootNode"))){m.set("scrollTop",k.scrollTop);}}else{j.append(k.getMarkup());h=(!k.fullPageView&&j.one("div.tripane.content"))||j.one("div.message.content");k.insertBody(h);}if(!k.get("rootNode")){k.set("rootNode",h);k.setRootNodeTabIndex();}}catch(l){A.stat(k.statOp,"appendMarkupError");C.use("common-utils-error",function(){D.error.report((f+"appendMarkupError"),l,1,1,1);});}},getRoot:function(){var h=this,Y=h.parentNode;return(!h.fullPageView&&Y&&Y.one(".tripane.content"))||(Y&&Y.one(".message.content"));},sub:function(h){var l=h.s||"",j=h.o||0,Y=h.f||this.formatters,k=h.a||0,i=h.strs||strings;return b(l,j,Y,k,i);},onKeyDown:function(j){if(j.keyCode!=65){j.stopPropagation();}else{var k=this,h=(!k.fullPageView&&k.parentNode.one("div.tripane.content"))||k.parentNode.one("div.message.content"),Y=C.Node.getDOMNode(h),i;if(window.getSelection){i=window.getSelection();i.selectAllChildren(Y);}else{i=document.body.createTextRange();i.moveToElementText(Y);i.select();}j.halt();}},setToolbar:function(j,Y,h){var i=this;i.tbarMod=j;i.tbarCallBack=Y;i.tbarScope=h;},onFocus:function(){return this.fullView&&!this.message;},getMarkup:function(){var h=this;var Y=b(h.oTemplate.base,h.message,h.formatters,null,strings,L);return Y;},getStopwatch:function(){var Y=this;return D.Stopwatch.get(Y.stopwatchPreview)||Y.stopwatch;},setDocRole:function(){this.get("rootNode").set("role","document");},setRootNodeTabIndex:function(){},abortRequests:function(){var j=this,h=j.request,i=j.retryPrefix(),Y=j.requestType||"";if(h){A.stat(j.statOp,(i+Y+"requestAbort"));h.abort();}j.request=null;},retryPrefix:function(Y){var h=(Y>=0)?Y:this.isRetrying;return h?((h==20)?"retrySL_":"retry_"):"";},requestMessage:function(l,h,k){var n=this,i=l?l.mid||0:0,m,j=k.ovparams||{},Y=n.getStopwatch();if(i){h.args={fid:n.fid,primeMsg:l,stopwatch:Y};if(n.isChat(l)){j.displayPref="text/json";j.urlDetection=false;j.emailDetection=false;j.annotateOption={annotateText:"none"};k.ovparams=j;}n.fireEvent("get");if(Y){Y.start(1,"YCMSGGetBegin");if(!Y.YCMSGGetBegin){Y.YCMSGGetBegin=new Date();}}m=X.get(k,h);}return m;},insertBody:function(Y){},attach:function(){},detach:function(){},setMessage:function(Y){},getMessage:function(Y){},render:function(Y){},requestPaneContent:function(i,Y,h){},loadPaneContent:function(h,i,Y){},setRenderFocus:function(){},setFocusNode:function(){},loadExtra:function(){}});function N(h){M=h;var Y=C.one(".media-modes");if(Y){Y.all(".disabled").removeClass("disabled");}}function H(l){var h,j,m,Y=C.one(".media-modes");if(M){for(var k in M){h=M[k]["icon"]["class"];m=M[k]["data_action"];j=Y?Y.one("."+h):null;if(j){j.setAttribute("data-action",m);}if(l===h){B(m);}}}}function B(Y){C.use("om-common-utils",function(h){h.om.common.Utils.fireEvent(Y);});}C.mail.ui.MailPane=C.mail.ui._MailPane=O;C.on("previewpane:config",N);C.on("previewpane:action",H);},"1.0.0",{requires:["_shared_module_message_pane","_shared_module_thread_thread_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-basewidget","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]});

YUI.add("mail-ui-messagepane-base",function(B){B.namespace("mail.ui");var C=B.common.Utils,O=C.escapeHtml,a=C.unescapeHtml,Z=C.substitute,A=C.rocketstats,J=B.ui.Templates,i=B.mail,H=i.ui,F=B.Lang,b=F.trim,T=i.ui.MessagePaneUtils,V=i&&i.Controller?i.Controller.Messages:{},S=i&&i.model?i.model.DataStore.Messages:{},P=S.getPermMidPart,W=J.minty_module_comm_modes,D=S.toMessage,f="ERROR: MessagePaneRead ",N=200,E=1000,I=15,X=0,d=15000,R=1,K,Q=function(){},G={};var U=function(Y){var k=this,e;Y=Y||{};k.changeHandle=k.removeHandle=k.flushHandle=null;U.superclass.constructor.call(k,Y);k.handleContactChanged=B.on("contacts:api:contactChanged",k.updateLozenges,k);k._cancelMarkAsRead=function(){if(k.tmFireRead){clearTimeout(k.tmFireRead);k.tmFireRead=null;}};k.formatters._shared_module_message_display=function(){var l=J._shared_module_message_display_rollup;return k.numSelected&&l?k.sub({s:l.base,f:k.readFormatters}):"";};k.oTemplate=J._shared_module_message_pane;k.statOp="messageread";k.stopwatchPreview="MsgInPreview";k.set("handleKeysLocally",1);k.set("charCodes","33,34,38,40,35,36,65+ctrl,65+meta");k.set("parentNode",k.parentNode);if(Y.fid&&Y.message){if(F.isString(Y.message)){var j=Y.message;Y.message=D();Y.message.mid=j;}k.set("message",{message:Y.message,neighbors:Y.neighbors,fid:Y.fid});}};B.extend(U,B.mail.ui.MailPane,{setMessage:function(l){var m=this,Y=C.Stopwatch.get("MsgInPreview")||m.stopwatch;Y&&Y.start(1,"Set");var j=m.message||{},e=m.get("visible"),k;clearTimeout(m.slowLoad);clearTimeout(m.loadingTimer);if(m.widthUpdateTimer){m.widthUpdateTimer.cancel();m.widthUpdateTimer=null;}m.scrollWidth=m.scrollWidthIncr=m.scrollWidthKill=0;if(l&&m.message==l.message&&m.isLoaded){return;}m.isLoaded=0;m.scrollTop=0;m.disableTruncate=0;m.href="";m.resetScrollPosition();if(m.fullView&&NeoConfig.fullPage){m.set("scrollWidth",null);}m.numRetries=m.loading_slow=m.loading_error=m.loading_moved=0;if(l){if(l.message.length>0){m.numSelected=l.message.length;m.neighbors=m.message=null;if(!e){return;}m._cancelMarkAsRead();Y&&Y.start(2,"PreLoadExtra2");m.loadExtra(function(){Y&&Y.start(2,"LoadExtraCB2");try{m.render();}catch(n){}});}else{m.numSelected=1;m.fid=l.fid;m.message=l.message;m.neighbors=l.neighbors;if(m.message.mid&&!m.message.header){m.message=D(m.fid,m.message);}}}else{m.numSelected=0;m.neighbors=m.message=null;if(!e){return;}m._cancelMarkAsRead();m.render();}if((m.message&&j.mid!=m.message.mid)||m.forceShow){if(!e){m.forceShow=1;return;}m.forceShow=0;if(j.mid){m.abortRequests();}m._cancelMarkAsRead();if(!m.parentNode){return;}A.stat("messageread","setMessage");if(m.tmPendingLoad){clearTimeout(m.tmPendingLoad);k=m.loadPaneContent;}else{m.loadPaneContent();}m.tmPendingLoad=setTimeout(function(){clearTimeout(m.tmPendingLoad);m.tmPendingLoad=null;k&&k.call(m);},N);}},getMessage:function(){var j=this,e=(j.message)?{message:j.message,fid:j.fid}:null,Y=C.Stopwatch.get("MsgInPreview")||j.stopwatch;Y&&Y.start(1,"Get");if(j.numSelected&&!j.message){e={message:new Array(j.numSelected),fid:j.fid};}Y&&Y.start(1,"PostGet");return e;},render:function(q){try{var m=this,l,p,k,Y=C.Stopwatch.get("MsgInPreview")||m.stopwatch,j=q&&!m.parentNode&&m.message,o=function(){try{m.renderComplete();m.setFocusNode();}catch(r){}};m.parentNode=B.one(q)||m.parentNode;if(j){m.loadPaneContent();return;}Y&&Y.start(1,"Render");if(!m.parentNode){return;}l=m.parentNode;m.set("parentNode",l);if(l){if(!m.hasStarted&&m.message){m.fireEvent("start");m._cancelMarkAsRead();}m.fireEvent("render");m.appendMarkup();m.setDocRole();m.convertShortcuts();m.bindUI();if(m.fullView){p=m.message&&m.message.header&&m.message.header.subject?O(a(m.message.header.subject)):m.fid=="Draft"?strings["str_tabs_compose"]:strings["str_msg-view_tab_no_subject"];if(m.get("title")!=p){m.set("title",p);}}}if(!m.outboundReq&&m.message){if(m.message.body){m.isLoaded=1;Y&&Y.start(1,"MessageInDOM");B.UA.ie?setTimeout(o,0):o();}setTimeout(function(){if(m.tbarCallBack){m.tbarCallBack.apply(m.tbarScope,[B]);}},0);}}catch(n){A.stat("messageread","renderError");B.use("common-utils-error",function(){C.error.report((f+"renderError"),n,1,1,1);});}},requestPaneContent:function(j,Y,e){return this.requestMessage(j,Y,e);},loadPaneContent:function(j,k,Y){try{var p=this,o="",m=(j&&!k)?j:0,l=p.retryPrefix(m);if("%40C%40Chats"===p.fid){o="mail-common-yml";}B.use(o,function(q){var t,r=p.message,w=r?r.mid||0:0,v,e=p.getStopwatch(),u=new C.Stopwatch("LoadMessage");e&&e.start(2,"Load");k=k||{};p.fire("loadmessage");if(w&&!p.hasStarted){p.fireEvent((p.fullView?"tab":"preview")+":start");p.hasStarted=true;p._cancelMarkAsRead();}if(w){var s={success:function(AB){try{if(u==-1){A.stat("messageread","successdupcall_load");C.assert(0,"successdupcall",1);return;}var y=s&&s.respProps&&s.respProps.wasCached,z=[AB,y,false];if(m==6){A.stat("messageread","reason6retry_success");}if(e){e.start(1,"YCMSGGetEnd");e.YCMSGGetEnd=new Date();e.wasCached=y;}if(u){u.wasCached=y;u.stop();}p.loadExtra(function(){e&&e.start(3,"PreOnSuccess");p.onSuccess.apply(p,z);Y&&Y();});u=-1;}catch(AA){A.stat("messageread",(l+"loadMessageSuccessError"));q.use("common-utils-error",function(){C.error.report("loadMessageSuccessError",AA,1,1,1);});}},failure:function(y){clearTimeout(p.loadingTimer);p.loadExtra(function(){p.onFailure.apply(p,[y,false]);},1);},notify:q.bind(M,p),suppressCodes:!j&&["*"]},x={fid:p.fid,msg:r,cachekey:"Prime",ovparams:k};p.fireEvent("get");if(p.usedPreload){if(p.preloadedMsg){p.loadExtra(function(){e&&e.start(3,"PreOnSuccess");p.onSuccess.apply(p,[p.preloadedMsg,true,true]);p.preloadedMsg=null;});}else{if(p.preloadFailure){p.loadExtra(function(){p.onFailure.apply(p,[p.preloadFailure,true]);p.preloadFailure=null;},1);}}}else{A.stat("messageread",(l+"loadMessageRequest"));v=p.requestPaneContent(r,s,x);p.abortRequests();if(p.outboundReq){p.request=v;p.requestType="loadMessage";}}p.usedPreload=0;p.isRetrying=m;if(p.outboundReq){clearTimeout(p.loadingTimer);p.loadingTimer=setTimeout(function(){p.loadExtra(function(){if(p.outboundReq){p.render();
}});},300);clearTimeout(p.slowLoad);p.slowLoad=setTimeout(function(){var z=p.message,y=z&&z.header.size,AA=y<10000?1:(y<100000?2:(y<1000000?3:4));A.stat("messageread","slowLoad");A.stat("messageread","slowLoadSize"+AA);A.stat("messageread","slowLoadSbox"+((NeoConfig.om&&NeoConfig.om.isSandboxEnabled)?"On":"Off"));p.loadExtra(function(){p.handleSlowRequest();},1);},d);}}if(!w){p.render();}});}catch(n){A.stat("messageread",(l+"loadMessageError"));}},insertBody:function(k){var o=this,m=o.message,e,j,Y,l,n=B.UA.ie?'<div style="position:absolute;z-index:-5;">&nbsp</div>':"";if(m&&m.body&&!o.isChat(m)){l=k.one(".msg-body");l&&l.setContent(n+m.body.display);}},attach:function(){var Y=this;Y.changeHandle=B.on("ds:msg:change",function(m,w,n,x,q){var l=Y.message,k=n&&n[0],r=Y.parentNode,o=l&&l.body,j=k&&k.body,u=0,p,s,v;if(Y.fullView&&q=="move"){for(p=0;l&&p<n.length;p++){v=n[p].mid;if(S.hasMoved(l.mid,v,Y.fid,m)){if(!Y.isStepping){Y.set("close",1);}return;}}}if(l&&k&&P(k.mid)==P(l.mid)&&r&&!Y.outboundReq){if(k.flags.isFlagged!=l.flags.isFlagged){Y.updateMessageFlagMarkup();}Y.message=k;if(o&&j&&o.display!=j.display){u=1;}if(!u&&o&&o.inlineAttachments&&(s=o.inlineAttachments.length)){for(p=0;p<s;p++){try{if(o.inlineAttachments[p].content.text!=j.inlineAttachments[p].content.text){u=1;break;}}catch(t){}}}if(u){Y.render();Y.resetScrollPosition();}}});Y.removeHandle=(Y.fullView)?B.on("ds:msg:remove",function(n,m,j){if(Y.fid==n&&!Y.isStepping){Y.arrMessageSequence=null;}if(Y.fid===n&&j){var k,l=0,e=m?m.length:0,o=Y.message;for(k=0;k<e;k++){if(o.mid===m[k].mid){l=1;break;}}if(!Y.isStepping&&((!m&&j)||l)){Y.set("close",1);}}if(Y.stepIndex!==null){Y.stepIndex=null;}}):0;Y.flushHandle=B.on("ds:msg:flushExt",function(){Y.loadPaneContent();});Y.resizeHandle=B.on("windowresize",function(){var e=Y.getRoot();e&&Y.message&&Y.get("visible")&&T.resizeSubject(e);});},detach:function(){var Y=this;Y.stepIndex=Y.isStepping=null;Y.changeHandle.detach();Y.removeHandle&&Y.removeHandle.detach();Y.flushHandle.detach();Y.resizeHandle&&Y.resizeHandle.detach();Y.abortRequests();clearTimeout(Y.loadingTimer);clearTimeout(Y.slowLoad);Y._cancelMarkAsRead();if(Y.tmPendingLoad){clearTimeout(Y.tmPendingLoad);Y.tmPendingLoad=null;}if(Y.widthUpdateTimer){Y.widthUpdateTimer.cancel();Y.widthUpdateTimer=null;}},setRenderFocus:function(){var Y=this;Y.setFocusNode();if(Y.fullView&&Y.get("active")&&!Y.disableTruncate){Y.set("focus",1);}},getSubjectFocusNodeSelector:function(){var Y=this.message,e=((strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false)||!(Y&&Y.header&&Y.header.subject));return(e?".message-header h3":".message-header h3 a");},setFocusNode:function(){var k=this,e,j,Y;if(k.fullPageView){e=k.get("parentNode");Y=k.getSubjectFocusNodeSelector();if((j=e.one(Y))){k.set("focusNode",j);}}},loadExtra:function(e,Y){var o=this,l=Y?["mail-ui-messagepane-error"]:["mail-ui-messagepane-read"],j=C.Stopwatch.get("MsgInPreview")||o.stopwatch,k,n,m;if(!Y&&R){n="MsgPaneRead_NotPreloaded";o.bindPaneContent&&(n="MsgPaneRead_Preloaded");A.stat("messageread",n);R=0;}j&&j.start(2,"LoadExtraBody");if(o.tbarMod){l.push(o.tbarMod);}m=function(){try{var r=l,p;j&&j.start(2,"LoadExtraUseCB");if(o.setFullFormatters&&!o.setFull){o.setFullFormatters();}try{e.apply(o);}catch(q){A.stat("messageread","loadExtraCBApplyError");B.use("common-utils-error",function(){C.error.report("loadExtraCBApplyError",q,1,1,1);});}if(G){for(p=0;p<r.length;p++){if(typeof r[p]!="function"){G[r[p]]=1;}}}}catch(q){A.stat("messageread","loadExtraCBError");}};for(k=0;k<l.length;k++){if(G[l[k]]){l.splice(k,1);k--;}}if(l.length){l.push(m);B.use.apply(B,l);}else{m(B);}j&&j.start(2,"PostLoadExtraBody");}});function g(){var j=this.get("parentNode").one(".message-header .flag"),e,Y;if(j){Y=j.hasClass("flagged");e=j.one("a");j.toggleClass("flagged").set("title",strings[Y?"str_msg_list_flag_attr":"str_msg_list_flagged_attr"]);e&&e.set("aria-checked",!Y);}}function h(e,Y){var j=this;if(j.message&&e){Y=Y||j.message.mid;if(!Y){}B.fire("Y.mail.ui.MessagePane:"+e,Y,j.guid);}}function M(Y){var e=this;if(Y=="async"&&!e.outboundReq){e.outboundReq=1;}}function L(k){var l=this,j=k.details[0],Y=j.created;B.use("comms-ui-lozenge",function(e){e.comms.ui.LozengeUtils.makeContact(l.parentNode,Y);});}B.mix(U.prototype,{NAME:"MessagePane",updateLozenges:L,updateMessageFlagMarkup:g,fireEvent:h,convertShortcuts:function(){var j=this,Y=j.parentNode,e=(!j.fullPageView&&Y.one("div.tripane.content"))||Y.one("div.message.content");B.Lang.later(0,null,function(){T.convertShortcuts(Y,e,NeoConfig.fullPage);});},preload:function(j){var l=this,o=j.mid,k,Y=C.Stopwatch.get("MsgInPreview")||l.stopwatch,n=new C.Stopwatch("PreLoadMessage"),p,m;if(o){var e={success:function(q){if(n==-1){A.stat("messageread","successdupcall_preload");C.assert(0,"successdupcall",1);return;}p=e&&e.respProps&&e.respProps.wasCached;if(Y){Y.start(1,"YCMSGGetEnd");Y.YCMSGGetEnd=new Date();Y.wasCached=p;}if(n){n.wasCached=p;n.stop();}if(l.message){l.loadExtra(function(){l.onSuccess.apply(l,[q,false,true]);});}else{l.preloadedMsg=q;}n=-1;},notify:B.bind(M,l),failure:function(q){if(l.message){l.loadExtra(function(){l.onFailure.apply(l,[q,true]);},1);}else{l.preloadFailure=q;}},suppressCodes:["*"]};A.stat("messageread","preloadRequest");l.usedPreload=1;m=l.requestPaneContent(j,e,{fid:l.fid,msg:j,cachekey:"Prime"});l.abortRequests();if(l.outboundReq){l.request=m;l.requestType="preload";}}},isChat:function(j){var e=j&&j.sourceFolderInfo&&j.sourceFolderInfo.fid,Y=this&&this.fid||Neo.fid,k="%40C%40Chats";return(e||Y)===k;},handleUI:function(e,k,Y,j){B.use("mail-ui-messageevents",function(){H.MessageEvents.handleUI(e,k,Y,j);});}},true);B.mail.ui.MessagePane=B.mail.ui._MessagePane=U;try{B.Env._loader.groups.mailTmpl.modules._shared_module_message_pane.requires=[];}catch(c){}},"1.0.0",{requires:["_shared_module_message_pane","minty_module_comm_modes","common-utils","mail-model-datastore","mail-controller-messages","mail-ui-mailpane-base","mail-persist-meta-data","common-utils-stats","mail-ui-messagepane-utils"]});


YUI.add("mail-ui-mailview-base",function(B){var T=[48,49,50,51,52,53,54,55,56,57],V=[strings.str_cfg_sc_keycode_reply_to_all,strings.str_cfg_sc_keycode_message_forward,strings.str_cfg_sc_keycode_movemenu_display,strings.str_cfg_sc_keycode_mark_as_read,strings.str_cfg_sc_keycode_flag_selected_messages,strings.str_cfg_sc_keycode_reply_to_sender,strings.str_cfg_sc_keycode_print,strings.str_cfg_sc_keycode_toggle_preview_pane,strings.str_cfg_sc_keycode_close_tab],E=[65,70,68,75,76,82,80,86,220],W={},R=V.length,C=NeoConfig,Q=B.common,D=Q.Utils,S=B.contacts,Z=B.mail,H=Z.ui,L=Z.model.DataStore,F=L.Folders.get,G=Q.persist.UserData,M=H.MessagePaneUtils,J="userUIPref.msgPaneVisible",K="%40C%40Chats",P="%40B%40Bulk",O="darlaEvent",U="delete",A="message",X="move",N="visible";for(i=0;i<R;++i){W[V[i]]=E[i];}var I=function(Y){var e=this,d,c;e.statOp=null;Y=Y||{};d=Y.fid||0;c=!(Y.msgList===0);Y.vertical=e.verticalPreview=(B.one("#rail-resize-vert"))?1:0;e.isSearch=(Y.query=="")||Y.query;e.subToolbars={};e.bottomToolbars={};e.supportPreview=true;function b(){I.superclass.constructor.call(e,Y);}function a(g){var f;if(g){return((f=F(g))&&f.total==0);}return 0;}B.mix(e,{fid:d,hasMsgList:c,isEmpty:a,msgList:null,msgPane:null,type:e.isSearch?"searchlist":(c?"messagelist":"messagepane")},true);b();};B.extend(I,B.mail.ui.BaseWidget);B.mix(I.prototype,{NAME:"MailView",keyCodes:V,numCodes:T,verticalPreview:null,isChat:function(Y){var a=this;return a.isActualFolder(Y,K);},isActualFolder:function(a,Y){var c=this,b=c.msgPane&&c.msgPane.get(A);return(b&&b.message&&b.message.sourceFolderInfo&&b.message.sourceFolderInfo.fid||a)===Y;},refreshMessage:function(Y){var a=this;if(!a.hasMsgList&&a.msgPane){a.msgPane.set(A,{fid:Y.fid,message:Y.msg});}},handlePostAction:function(e,a,c,Y){if(!e){return;}var d=this,b=e.action,h=d.msgPane,g=d.goOnMessageDelete(),f;if(a!=P&&g&&b=="folder-new"){e.preHandle=function(j){B.use("mail-ui-messagepane-next-prev",function(){h&&h.stepMessage("next",j,1);});};}f=function(){d.handleUI(e,a,c,Y?[Y.message]:null);};if(d.type=="messagepane"&&a!=P&&a!=K&&(b==U||b==X||b=="trash"||b=="spam")&&g){B.use("mail-ui-messagepane-next-prev",function(){if(a=="Trash"&&b==U){h&&h.dialogThenStep(d,Y,e,1);}else{h&&h.stepMessage("next",f,1);}});}else{f();}},loadResizersAndSliders:function(){var a=this,Y=[];if(!C.fullPage){Y.push("mail-ui-workspace-horizontal-slider","mail-ui-messagesview-resize");if(a.verticalPreview){Y.push("mail-ui-messagesview-vertical");}}else{Y.push("mail-ui-messagesview-resize");}if(C.useDD){Y.push("mail-ui-messagesview-dd");}Y.push(function(b){if(H&&H.MessagesViewResize&&a.supportPreview){if(a.verticalPreview){a.horizResizer=new H.MessagesViewVertical(a);}else{a.vertResizer=new H.MessagesViewResize({messagesview:a});}}else{}if(C.useDD&a.supportPreview){if(typeof b.mail==="object"&&typeof b.mail.MessagesViewDD==="object"){Z.MessagesViewDD.setDD(a);}else{}}});B.use("contacts-api","contacts-api-utils",function(b){if(S&&S.utils&&!S.utils.areContactsLoaded()){S.api.load();}});B.use.apply(B,Y);a.slidersSet=true;},positionPreview:function(a,Y){var b=this;if(C.fullPage){return;}B.use("mail-ui-messagesview-vertical",function(){if(a&&!H.MessagesViewVertical.canGoVert()){return;}b.verticalPreview=a;if(b.horizResizer){b.horizResizer.setDisplay(a);}else{if(a){b.horizResizer=new H.MessagesViewVertical(b);}}if(b.vertResizer){b.vertResizer.setDisplay(!a);}else{if(!a){b.vertResizer=new H.MessagesViewResize({messagesview:b});}}b.msgList.set("vertical",a);b.msgList.set("fullpane",false);b.msgPane&&b.msgPane.set("vertical",a);Y&&Y();B.fire("verticalPreview",a);});},previewPaneUIChange:function(Y){try{var d=this,c=d.msgList,j=d.msgPane,a,g,h,b;if(d.verticalPreview&&Y&&!H.MessagesViewVertical.canGoVert()){d.positionPreview();}B.fire(Y?"previewPane:expanded":"previewPane:collapsed",d);c.set("fullpane",!Y);j.set(N,Y);if(Y){a=D.Stopwatch.get(d.statOp);g=j.get(A);h=g&&g.message&&g.message.mid;b=g&&g.fid;if(b&&h){a=M.handleMsgInPreviewStopwatch(a,j,b,h);}j.set(A,g);}a&&a.start(1,"SetDisplay");if(d.verticalPreview){d.horizResizer&&d.horizResizer.setDisplay(Y,1);}else{d.vertResizer&&d.vertResizer.setDisplay(Y);}}catch(f){}},togglePreviewPane:function(c){var f=this;if(!C.fullPage&&!f.isEmpty(f.fid)){try{var f=this,a=f.msgList,b=f.msgPane,Y;if(!a||!b){return;}Y=G.get(J);if(!c){Y=!Y;}f.previewPaneUIChange(Y);f.checkPreview();if(!c){G.set(J,Y);G.saveOne(J);}a.vlist.updateUlSize();B.fire("ws:previewChange",Y);}catch(d){}}},checkPreview:function(){var c=this,Y=G.get(J),b;try{if(Y){b=c.verticalPreview?c.horizResizer:c.vertResizer;b&&b.checkDisplay();}}catch(a){}},switchView:function(k){var f=this,e="scroll-view-prev",h="scroll-view-prev-beside",c="scroll-view-noprev",a,g,j={},d=(k==e)||(k==h),b,Y;switch(k){case"fullpage-view":if(C.fullPage){return;}else{j={fullpage:1,previewPane:null};}break;case e:case h:case c:g=G.get(J)?e:c;if(!C.fullPage){b=function(){if((g==c&&d)||(g==e&&k==c)){f.togglePreviewPane();}B.use("rocket-stats",function(m){var l={};l[e]="preview";l[h]="vert_preview";l[c]="nopreview";D.rocketstats.stat("switchview",l[k]);});};if((f.verticalPreview&&k==e)||(!f.verticalPreview&&k==h)){f.positionPreview((k==h),b);}else{b();}return;}else{if(k==h){Y="mail-ui-messagesview-vertical";b=function(){var l=new H.MessagesViewVertical(f);l.setCookieDefault();};}a=d?1:0;j={fullpage:0,previewPane:(a!=G.get(J))?a:null,vert:(k==h)};}break;}if(Y){B.use(Y,function(){b&&b();B.fire("update:view",j);});}else{B.fire("update:view",j);}},handleDarlaEvent:function(){var Y=this;if(Y.hasMsgList){Y.msgList.handleDarlaEvent();}else{Y.fire(O,{action:Y.darlaActionKey});}},triggerDarlaWithAIC:function(){var b=this,Y,a;Y=F(b.fid);a=B.mail.ui.common.StringUtils.getSystemFolderName(b.fid,Y.folderInfo.name);b.fire(O,{action:b.darlaActionKey,value:{siteAttr:B.mail.ui.MessagePaneUtils.getAdSiteAttribsFromMesgObj(b.msgPane.message,b.fid),foldername:a}});},goOnMessageDelete:function(){return(G.get("userUIPref.goOnMessageDelete")=="msg");},handleToolbarSelection:function(f){var h=this,d=f?f.dataAction:0,c=f?f.item:0,g,a,b=h.msgPane,Y=h.msgList;
switch(d){case"select-all":Y.vlist.selectAll();break;case"menu":break;case"prev":case"next":B.use("mail-ui-messagepane-next-prev",function(){b&&b.stepMessage(d);});break;case"conv-save":break;case"conv-spam":break;case"conv-help":break;case"fullpage-view":case"scroll-view-prev":case"scroll-view-prev-beside":case"scroll-view-noprev":h.switchView(d);break;case"addcontact":h.handleDefaultCase({action:d,context:"msg"});break;case"togglePrevDialog":B.use("mail-ui-messagepreview",function(){c&&c.toggleClass("checked");B.mail.ui.MessagePreview.toggle(h.msgList);});break;default:h.handleDefaultCase({action:d,item:c,tbAction:true});break;}},onFocus:function(){if(!this.hasMsgList){return this.msgPane.onFocus();}},onKeyDown:function(AE){var y=this,j=AE.keyCode,z,o=AE.metaKey,AB=AE.shiftKey,l=AE.ctrlKey,AF=AE.altKey,p=AE.metaKey||AE.ctrlKey,AA=y.fid==="Draft",v=y.isChat(y.fid),AC=false,Y=y.msgPane,g=y.msgList,q=B.UA,w,f,u=B.one("#app-list"),a,t,s=B.UA.ie;j=!p?W[j]||j:j;if(j>=96&&j<=105){j-=48;}if(AA&&((j==65&&!p)||j==82||j==70||j==68)){return false;}if(v&&((!AB&&j==65)||j==82||j==70||j==68||j==75)){return false;}switch(j){case 13:z=AE.target.ancestor("div .list-view")?"open":null;break;case 33:case 34:if(C.fullPage){return;}case 35:case 36:if(C.fullPage){return;}case 38:case 40:case 188:if(o){return;}case 190:if((j==188||j==190)&&!l){return;}if(!g&&(j==188||j==190)){B.use("mail-ui-messagepane-next-prev",function(){Y&&Y.stepMessage(j==188?"prev":"next",null,null,true);});}else{g.set("active",1);w=g.get("focusNode");f=B.one(document.activeElement);if(w&&(!f||!w.contains(f))){B.use("node-event-simulate",function(){g.get("focusNode").simulate("keydown",{charCode:j,keyCode:j,altKey:AF,shiftKey:AB,ctrlKey:l,metaKey:o});});}}AE.halt();break;case 46:if(!u||(u&&!u.contains(AE.target))){z=U;}break;case 68:if(!AF&&!AB){if(y.ftrNode&&y.ftrNode.inViewportRegion()&&!y.get("contentToolbar").get("content").inViewportRegion()){w=y.ftrNode.one("#btn-move");if(w){if(!w.menu){w.simulate("click");}else{w.menu.show();}break;}}z="move-menu";}break;case 75:z=AB?"unread":"read";break;case 76:z=AB?"unflagged":"flagged";break;case 65:if(!AB&&!AF&&p){g.vlist.selectAll(1);AE.halt();}else{if(!p&&!AF){z=AB?(y.isEnableAddToContacts()?"addcontact":null):"reply_all";if(z=="addcontact"&&!o&&!l){y.handleDefaultCase({action:z,context:"msg"});return true;}a=s;}}break;case 82:if(!AB){z="reply_sender";a=s;}break;case 70:if(!AF&&!AB&&!p){z="forward";a=s;}else{if(AB&&(AF||C.intl=="jp")){AC=true;z="forward";AF=false;AE.halt();}}if((!(q.gecko&&q.os=="macintosh")&&!AB&&!o)&&(AB||!p)){AE.preventDefault();}break;case 86:if(o||l||AF||AB){break;}y.togglePreviewPane();return true;case 27:var x=B.one(".card-v1 .user-email a");if(x&&x.getStyle("visibility")!="hidden"){B.mail.ContactPopup&&B.mail.ContactPopup.hideMini();}else{if(y.type=="messagepane"){y.set("close",1);return true;}}break;case 220:if(o||l){if(y.type=="messagepane"){y.set("close",1);return true;}}break;case 80:if(p){AE.halt(true);try{event.keyCode=0;}catch(r){}}if(!AF&&!AB){y.handleDefaultCase({action:"print",item:0});}break;case 73:case 84:if(AB&&v&&strings.str_cfg_tog_hasSMS){var c=(j==84)?"reply-sms":"reply-im",h=y.getCurrentMsg();y.handleUI({action:c},y.fid,y.msgList,h?[h]:null);return true;}break;case 48:case 49:case 50:case 51:if((j==51)&&AB&&!l&&!AF&&!o){z=U;break;}case 52:case 53:case 54:case 55:case 56:case 57:var k=AE.target.ancestor("div",true);if(o||l||AF||AB||(!k||k.get("id")!="menu-move")||!strings.str_tog_use_num_accel){break;}B.mail.Controller.Folders.get(null,{success:function(AJ){var AK=AJ,AH,AM=[],AI,e,AL;e=AK?AK.length:0;for(AI=0;AI<e;AI++){if(!AK[AI].isSystem){AM.push(AK[AI]);}}AH=j===48?"Inbox":AM[j-49];AH=(B.Lang.isString(AH))?AH:(AH?AH.folderInfo.fid:0);if(y.fid===AH){return;}if(AH){y.handlePostAction({action:X,fid:AH},y.fid,(y.hasMsgList?g:null),(y.hasMsgList?null:Y.get(A)));}}});return true;case 67:if(p){var b=B.mail.Tabs.getActiveTab().elContent;if(b){var m,n,AG="",d;var AD=b.one(".message-header").one(".lozengeContainer.pressed .lozenge");d=document.activeElement;if(AD){m=AD.getAttribute("data-address");n=AD.getAttribute("data-name");if(n){AG=n+" <"+m+">";}else{AG=m;}M.initializeCopyText();M.copyToClipboard(AG,null,d);}}}return;default:break;}if(z&&!o&&!l){t=function(){y.handleDefaultCase({action:z,item:0,forwardAsAttachment:AC});};a?setTimeout(t,0):t();return true;}return false;}},true);B.namespace("mail.ui");B.mail.ui.MailView=I;},"1.0.0",{requires:["mail-ui-basewidget","common-persist-user-data","mail-ui-messagepane-utils","mail-model-datastore","common-utils","node-event-simulate"]});

YUI.add("mail-ui-messagesview-base",function(C){var E=C.common.Utils,f=C.mail,L=f.ui,R=L.MessagePaneUtils,Q=f.model.DataStore,H=Q.Folders.get,T=E.substitute,F=C.ui.Templates,Z,K=C.common.persist.UserData,M="userUIPref.msgPaneVisible",J="div.empty-folder",I="#inboxcontainer",X="hidden",D=NeoConfig,c=D.grayoutEnabled,b=null,W="%40B%40Bulk",P="%40C%40Chats",V="darlaEvent",d="delete",B="message",S="renderComplete",a="%40S%40Search",O="title",U="visible",N="minty_module_toolbar_inbox_conversation_rollup",G=NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup";function e(){var Y=C.mail.ui.ContextButton;if(c&&Y){Y.setNodeMessageListMenu();}}var A=function(Y){var i=this,h;A.superclass.constructor.call(i,Y);h=i.hasMsgList;Y=Y||{};if(!D.fullPage||!h){i.msgPane=new L.MessagePane(C.mix(Y,{fullView:!h&&!Y.query,visible:!h||K.get(M)}));}Y.stopwatch&&i.msgPane&&(i.msgPane.stopwatch=Y.stopwatch);i.callFromLaunch=Y.callFromLaunch?Y.callFromLaunch:false;i.msgList=h?Y.msgList||new L.MessageList(Y):0;i.darlaActionKey=(D.low_bandwidth)?"message_tabpane_low":(D.ssl_launch?"message_tabpane_ssl":"message_tabpane");i.scrolling=[".list-view-items",".message.content"];i.supportPreview=true;function g(){i.addAttrs({scrollWidth:{value:null},bottomToolbar:{value:0}});i.after("activeChange",i.afterActiveChanged,i);var k=function(){if(i.msgList&&i.msgList.vlist){i.msgList.vlist.updateUlSize();}};i.formatters={non_ad:function(l){return T(F._shared_module_folder_empty_rollup.non_ad,l,i.formatters,0,strings);},page_conversation_history:function(l){return i.isChat(i.fid)?T(F._shared_module_folder_empty_rollup.page_conversation_history,l,i.formatters,0,strings):"";},page_conversation_history_else:function(l){return !i.isChat(i.fid)?T(F._shared_module_folder_empty_rollup.page_conversation_history_else,l,i.formatters,0,strings):"";},archiving_disabled:function(l){return !D.ssa_enabled?T(F._shared_module_folder_empty_rollup.archiving_disabled,l,i.formatters,0,strings):"";},full_view:function(l){var m=i.isChat(i.fid)?P:i.fid;return !h?T(F[i.toolbarMods[m]].full_view,l,0,0,strings):"";},full_view_else:function(l){var m=i.isChat(i.fid)?P:i.fid;return h?T(F[i.toolbarMods[m]].full_view_else,l,0,0,strings):"";},has_spam_button:function(l){return !i.isActualFolder(i.fid,"Sent")?T(F[i.msgToolbarMod].has_spam_button,l,0,0,strings):"";},has_preview_pane:function(m){var l=i.isChat(i.fid)?N:G;return(D.switchView!=1&&!D.fullPage&&h)?T(F[l].has_preview_pane,m,0,0,strings):"";},has_switch_view:function(m){var l=i.isChat(i.fid)?N:G;return(D.switchView==1&&h)?T(F[l].has_switch_view,m,0,0,strings):"";},has_pagination:function(m){var l=i.isChat(i.fid)?N:G;return(D.fullPage&&h&&!D.isFresh)?T(F[l].has_pagination,m,0,0,strings):"";},has_pagination_else:function(m){var l=i.isChat(i.fid)?N:G;return(!D.fullPage&&h)?T(F[l].has_pagination_else,m,0,0,strings):"";},has_sms_menu_else:function(m){var l=F.minty_module_toolbar_inbox_conversation_rollup;return !strings.str_cfg_tog_hasSMS?T(l.has_sms_menu_else,m,i.formatters,0,strings):"";},has_sms_menu_else1:function(m){var l=F.minty_module_toolbar_inbox_conversation_rollup;return strings.str_cfg_tog_hasSMS?T(l.has_sms_menu_else1,m,i.formatters,0,strings):"";},is_mon:function(l){return(NeoConfig.intl!=="jp"||NeoConfig.hasAds)&&strings.str_cfg_tog_monster_ad_empty_l10n?F._shared_module_folder_empty_rollup.is_mon:"";},is_lrec:function(l){return !strings.str_cfg_tog_monster_ad_empty_l10n?F._shared_module_folder_empty_rollup.is_lrec:"";}};if(i.msgList){i.once("activeChange",function(){k();});}C.on("msgsview:splitterdone",k);function j(l){if(l.newVal>=1){i.dsFolderChange&&i.dsFolderChange.detach();i.dsFolderRename&&i.dsFolderRename.detach();i.footerScrollEvt&&i.footerScrollEvt.detach();i.footer&&i.footer.addClass(X);}else{if(h){i.dsFolderChange=C.on("ds:folder:change",function(p,o,q){if(q&&q.length>0){var n,m;for(n=0,m=o.length;n<m;n++){if(q[n].total!==undefined&&o[n].folderInfo.fid==i.fid){i.renderToolbarsOrEmpty();break;}}}});}else{i.dsFolderRename=C.on("ds:folder:rename",function(o,m,n){if(i.msgPane&&i.fid==o.folderInfo.fid){i.fid=m.folderInfo.fid;i.msgPane.set("fid",i.fid);}});i.footer&&i.bindFooterScroll();}}}i.on("closeChange",function(n){var m,l=i.subToolbars;for(m in l){l[m].set("close",n.newVal);}j(n);});i.set("children",[i.msgPane,i.msgList]);i.msgPane&&i.msgPane.on(V,function(l){i.fire(V,l);});C.on("msgsview:movetonewfolder",function(){var l=C.mail.Tabs.getActiveTab();if(i.hasMsgList&&l&&l.widget&&l.widget==i){i.handleUI({action:"folder-new",tbAction:true},i.fid,i.msgList);}});if(!h){i.msgPane.on("scrollWidthChange",function(l){i.set("scrollWidth",l.newVal);if(i.get("active")){C.fire("ws:fpMsgWidth",l);}});i.on("scrollWidthChange",function(l){if(l.reset){i.msgPane.scrollWidthReset();}});}i.set(O,h?i.msgList.get(O):i.msgPane.get(O));i.setToolbars();j({newVal:0});if(h){i.bindMsgList();}else{i.msgPane.on("fidChange",function(l){i.fid=l.newVal;i.setToolbars();});i.msgPane.on("rootNodeChange",function(l){i.set("rootNode",l.newVal);});}i.set("charCodes","13,27,33,34,35,36,38,40,46,188,190,"+i.numCodes.join(",")+","+i.keyCodes.join(",")+","+"32+ctrl+shift,73+shift,84+shift,67");i.set("reuse",Y.reuse);}g();};C.extend(A,C.mail.ui.MailView);C.mix(A.prototype,{NAME:"MessagesView",msgToolbarMod:"minty_module_toolbar_inbox_message",toolbarMods:{Inbox:NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup","%40C%40Chats":"minty_module_toolbar_inbox_conversation_rollup",Draft:"minty_module_toolbar_inbox_drafts_rollup","%40B%40Bulk":"minty_module_toolbar_inbox_spam_rollup",Sent:"minty_module_toolbar_inbox_sent_rollup","%40S%40Search":"minty_module_toolbar_inbox_search_rollup"},renderEmptyFolder:function(h){var i=this,g,Y=F._shared_module_folder_empty_rollup;g=C.one(I).one(J);if(!g){C.one(I).append(T(Y.base,{folder_name:h},i.formatters,0,strings,F));}else{g.one(".col-a").setContent(T(Y.non_ad,{folder_name:h},i.formatters,0,strings,F));
}g=C.one(I).one(J);C.one(I).get("children").addClass(X);if(g){g.removeClass(X);}if(c){i.setToolbars();}else{i.set("contentToolbar","");}if(!D.fullPage&&(i.fid=="Trash"||i.fid==W)){C.fire("foldersview:resetFocus",i.fid);}},renderEmptyFolderAd:function(Y){},renderToolbarsOrEmpty:function(){var l=this,g,i,k,j,Y,h;if(l.fid&&(k=H(l.fid))&&(k.total===0)){j=C.mail.ui.common.StringUtils.getSystemFolderName(l.fid,k.folderInfo.name);if(D.bidi){j='<span dir="'+k.folderInfo.dir+'">'+j+"</span>";}C.use("_shared_module_folder_empty_rollup",function(m){l.renderEmptyFolder.apply(l,[j]);});}else{h=C.one(I).one(J);if(h){l.renderEmptyFolderAd(h);g=C.one(I).get("children");if(g){g.removeClass(X);}h.addClass(X);}l.setToolbars();}},createToolbar:function(Y){var h=this,g;g=new L.Toolbar({template:Y,menu:{template:function(j,i){C.use("mail-ui-inboxmenu-base",function(k){L.InboxMenu.insert(j,i,h.fid,{enableAddContact:function(l){l(h.isEnableAddToContacts(h));}});});},keys:function(j,i){C.use("mail-ui-inboxmenu-base",function(l){var k=L.InboxMenu.getValidKeys(j);if(j.get("id")==="menu-move"){k=k.concat([68,96,97,98,99,100,101,102,103,104,105]);j.on("menu:state",function(m){if(m.state==="hide"){if(h.msgList&&h.msgList.get("focusNode")){h.msgList.get("focusNode").focus();}}});}i(k);});},enterAccel:function(i){C.use("mail-ui-inboxmenu-base",function(j){i(j.mail.ui.InboxMenu.getEnterAccel());});}}});g.on("itemSelected",h.handleToolbarSelection,h);return g;},setToolbars:function(Y){var g=this;if(c){C.use("mail-ui-button-ctxt",function(){g._setToolbars(Y);});}else{g._setToolbars(Y);}},_setToolbars:function(Y){var m=this,h=m.isChat(m.fid),l=h?P:m.fid,j=(h||m.hasMsgList)?m.toolbarMods[l]:m.msgToolbarMod,i=NeoConfig.isFresh?"minty_module_toolbar_inbox_default_fresh_rollup":"minty_module_toolbar_inbox_default_rollup",k=NeoConfig.isFresh?C.ui.Templates.minty_module_toolbar_inbox_default_fresh_rollup:C.ui.Templates.minty_module_toolbar_inbox_default_rollup;if(!j){j=m.hasMsgList?m.toolbarMods.Inbox:m.msgToolbarMod;}if(j==i&&k){g();}else{if(j==m.msgToolbarMod&&!Y){m.msgPane&&m.msgPane.setToolbar&&m.msgPane.setToolbar(j,m.setToolbars,m);}else{C.use(j,g);}}function g(){var x,n=K.get(M),v=(j==m.msgToolbarMod&&l==W),o=m.get("bottomToolbar"),p,r={previewToggle:strings[n?"str_msg-view_btn_hidepreview":"str_msg-view_btn_showpreview"],spam_data_action:v?"notspam":"spam",str_spam_attr:strings[v?"str_not_spam_attr":"str_spam_attr"],str_spam:strings[v?"str_not_spam":"str_spam"]},z,y=l,u=m.subToolbars.Inbox,t=m.bottomToolbars.Inbox,q;if(c){q=H(l);r.msgliststate=Y?"hasonemsg":"hasnomsg";}z=T(F[j].base,r,m.formatters,0,strings);if(strings.str_cfg_tog_use_reedit&&l=="%40S%40Search"&&m.msgPane&&m.msgPane.message.sourceFolderInfo&&m.msgPane.message.sourceFolderInfo.fid=="Sent"){y=l+"+Sent";}if(!(y in m.subToolbars)){var w=H(y);if(w&&!w.isSystem&&u){m.subToolbars[y]=u;m.bottomToolbars[y]=t;if(u.setButtonContext){u.setButtonContext(0);}if(t.setButtonContext){t.setButtonContext(0);}}else{m.subToolbars[y]=m.createToolbar(z);m.bottomToolbars[y]=m.createToolbar(z);if(D.fullPage&&!D.isFresh){m.subToolbars[y].once("activeChange",function(AA){if(m.msgList&&m.msgList._listview){x=new L.ListViewControls(C.one(AA.currentTarget.get("content")).one(".pagination"),m.msgList._listview,"pagination");x.setup(F[j]);AA.preventDefault();}});}}}m.set("contentToolbar",m.subToolbars[y]);m.set("bottomToolbar",m.bottomToolbars[y]);var s=m.get("parentNode");if(s&&D.fullPage){if(o){o.get("content").remove();}if(m.hasMsgList&&(p=(C.UA.ie===7)?C.one("#msg-list").get("lastChild").get("firstChild"):C.one("#inboxcontainer").one(".list-view-footer .commontasks"))){p.insert(m.get("bottomToolbar").get("content"),0);if(!m.ftrNode){m.ftrNode=p;}}else{if(!m.footer){m.footer=C.Node.create(T(D.msgListTmpl.has_pagination));m.footer.addClass(X);s.one("div.message.content").append(m.footer);}m.footer.addClass(X);m.footer.one(".commontasks").append(m.get("bottomToolbar").get("content"));}}}},getCurrentMsg:function(){var i=this,h,Y=i.msgList,g=i.msgPane;if(g&&g.message){h=g.message;}else{if(Y.vlist&&Y.vlist.getSelectCount()==1){Y.getSelected(function(j){if(j){h=j[0];}});}}return h?h:null;},isEnableAddToContacts:function(g){g=g||this;var h=g.getCurrentMsg(),Y;if(h){Y=g.getFromEmail(h);!R.isKnownEmailAddress(Y);return !R.isKnownEmailAddress(Y);}return;},getFromEmail:function(Y){var g;if(Y){g=Y.from||(Y.header&&Y.header.from);return g&&g.email||"";}else{return"";}},singleSelectHandler:function(g){var l=this,i=l.msgPane,k=g.details[0],j=k.message&&k.message.mid,h=i&&i.get(U),Y=E.Stopwatch.get("MsgInPreview");if(h){if((i&&i.message&&i.message.mid)==j){return;}R.handleMsgInPreviewStopwatch(Y,i,k.fid,j);}i&&i.set(B,k);l.msgDetails=k.message?g.details[0]:null;if(g.index){C.use("rocket-stats",function(o){o.common.Utils.rocketstats.stat("messageread","SelectIndex_"+g.index);if(b!==null){var n=b-g.index,m=n>0?"MAX":"-MAX";o.common.Utils.rocketstats.stat("messageread","SelectIndexDiff_"+((Math.abs(n)<=200)?n:m));}b=g.index;});}},handleUI:function(g,i,Y,h){var j=this;C.use("mail-ui-messageevents",function(){C.mail.ui.MessageEvents.handleUI(g,i,Y,h);});},bindFooterScroll:function(Y){var j=this,h,i,g;Y=Y||j.get("parentNode");j.footerScrollEvt&&j.footerScrollEvt.detach();j.footerScrollEvt=C.one("window").once("scroll",function(k){if(j.footer){h=C.one("window");i=Y.get("region");g=h.get("winHeight");if(i.height>g){j.footer.removeClass(X);}}});},bindMsgList:function(){var i=this,Y=i.msgList,g=i.msgPane,h=i.fid;Y.on("singleSelect",i.singleSelectHandler,i);Y.on(V,function(j){i.fire(V,j);});Y.on("toggleToCol",function(j){if(L&&L.MessagesViewColResize){L.MessagesViewColResize.toggleCol("to",true);}});g&&g.on("transferFocusChange",function(j){if(j.newVal){Y.set("focus",1);}});Y.on("command",function(j){if(i.supportPreview&&j.e&&j.e.type!="dblclick"&&((i.msgPane&&i.msgPane.get(U))||strings.str_cfg_tog_open_by_dblclick)){return;}C.fire("openMessage",{msg:j.message,fid:j.fid,neighbors:j.neighbors,sortCol:Y.sortedColumn,arrMsgSeq:Y.vlist.arrItems||(Y.vlist._model&&Y.vlist._model.get("list")),index:j.index||(Y.vlist.rootSelect&&Y.vlist.rootSelect.index)||null});
});Y.on("fidChange",function(j){if(i.fid!=j.newVal){i.msgDetails=null;i.fid=j.newVal;g&&g.set(B,null);i.renderToolbarsOrEmpty();i.toggleColumns(j.prevVal,j.newVal);}});if(g||c){Y.on("selectCountChange",function(l){var o,n=i.fid,j=i.subToolbars[n],m=i.bottomToolbars[n],k=l.newVal;if(j&&j.setButtonContext){o=H(n);j.setButtonContext(k);if(m){m.setButtonContext(k);}}if(g){if(k>1||(k===1&&Y.vlist.checkmode)){g.set(B,{message:new Array(k)});i.msgDetails=null;}else{if(k===0){g.set(B,null);}}}});}Y.on(S,function(){var j=i.isEmpty(i.fid);if(!i.get("loaded")||j){C.Lang.later(0,Y,function(){!D.fullPage&&Y.handleDarlaEvent&&Y.handleDarlaEvent(j);});if(D.fullPage){C.use("mail-ui-messagepane-next-prev");}i.set("loaded",1);}});if(D.fullPage&&Y){Y.on("fullPageRenderComplete",function(){if(Y.get("active")){Y.handleDarlaEvent(i.isEmpty(i.fid));}});}C.one("#msg-list").one("div.list-view-items").on("keydown",function(l){var k=C.UA.os,j=(k=="windows"||k=="win");if((j&&l.shiftKey&&l.keyCode==121)||(!j&&l.ctrlKey&&l.shiftKey&&l.altKey&&l.keyCode==77)){l.preventDefault();E.simulateContextMenu(l.target);}});C.one("#msg-list").one("div.list-view-items").on("contextmenu",function(l){var m=l.currentTarget,k;l.halt();function j(){C.mail.ui.InboxMenu.insert("menu-msglist",function(){var n=C.one("#menu-msglist");e();C.common.ui.MenuHelper.create(m,{menu:n,isContext:true,xy:[l.clientX,l.clientY],keys:function(o){o(C.mail.ui.InboxMenu.getValidKeys(n));},enterAccel:function(o){o(C.mail.ui.InboxMenu.getEnterAccel());}},function(){n.on("menuSelected",function(p){var o={action:p.dataAction};if("addcontact"===p.dataAction){o.context="msg";}C.mail.ui.MessageEvents.handleUI(o,i.fid,i.msgList);});n.on("menu:state",function(o){if(o.state=="hide"){if(i.msgList&&i.msgList.get("focusNode")){i.msgList.get("focusNode").focus();}}});});},i.fid,{isContext:true,enableAddContact:function(n){n(i.isEnableAddToContacts());}});}C.use("mail-ui-inboxmenu-base",function(n){n.use("common-ui-menu-helper",function(o){k=o.common.ui.MenuHelper;k.createLoadingMenu(m,{isContext:true,xy:[l.clientX,l.clientY]});o.use("mail-ui-inboxmenu-base",function(p){p.use("mail-ui-messageevents",function(){j();});});});});});},toggleColumns:function(g,Y){if(g===P){C.one(".list-view").all(".col-hd.info, .col-hd.file").removeClass("hidden");}else{if(Y===P){C.one(".list-view").all(".col-hd.info, .col-hd.file").addClass("hidden");}}},handleActiveDarlaEvent:function(){var Y=this;Y.msgList.handleDarlaEvent(Y.isEmpty(Y.fid));},afterActiveChanged:function(g){var h=this,Y=h.msgList;if(g){if(h.hasMsgList&&!C.server){!h.slidersSet&&C.Lang.later(0,h,h.loadResizersAndSliders);if(g.newVal&&h.get("loaded")){h.handleActiveDarlaEvent();}}else{if(!h.hasMsgList&&h.msgPane.message&&typeof g.prevVal!=="undefined"){if(g.newVal){h.triggerDarlaWithAIC();}}}Y&&Y.set(U,g.newVal);if(!g.newVal&&D.fullPage&&h.hasMsgList&&Y){Y.vlist.resetFocus();}}},handleDefaultCase:function(l){var j=this,n=l.item,h=l.action,Y=j.fid,i=j.msgList,o=j.msgPane,k={action:h,id:(n?n.get("id"):0),forwardAsAttachment:l.forwardAsAttachment||0,fid:(n&&n.getAttribute("data-fid")?n.getAttribute("data-fid"):Y),widget:(j.type==="messagepane"?j:null),item:n,hasMsgList:j.hasMsgList,tbAction:l.tbAction},m,g;if(l.context){k.context=l.context;}if(j.hasMsgList){j.handleUI(k,Y,i);}else{g=o&&o.get(B);j.handlePostAction(k,Y,null,g);}},render:function(Y){var j=this,g=j.msgList,i=j.msgPane,h=C.one(Y);j.set("parentNode",h);(g||i).on(S,function(){if(!j.hasMsgList){!j.callFromLaunch&&setTimeout(function(){j.triggerDarlaWithAIC();},0);}j.footer&&j.bindFooterScroll(Y);j.fire(S);});if(D.fullPage&&i){i.on("loadmessage",function(){j.footer&&j.footer.addClass(X);});}if(g){g.render(Y);}if((!D.fullPage&&j.fid!==a)||g===0){i&&i.render(Y);}if(j.fid&&j.fid!==a){j.set("focusNode",(g||i).get("focusNode"));j.renderToolbarsOrEmpty();}}},true);C.namespace("mail.ui");C.mail.ui.MessagesView=A;},"1.0.0",{requires:["common-ui-contentwidget","common-ui-toolbar-base","mail-ui-mailview-base","mail-ui-messagelist-base","mail-ui-messagepane-base","minty_module_toolbar_inbox_default_rollup","minty_module_toolbar_inbox_default_fresh_rollup","dom-screen","mail-ui-common-string-utils"]});

YUI.add("common-utils-stats",function(D){var T=D.namespace("common.Utils"),F=T.rocketstats.stat,S=(window.NeoConfig&&NeoConfig.RTFirePercentage)||0,K={},H={},N,C=function(){return N||new Date;},W={Compose:{calcValues:O,calcSpaceId:P},Compose_inline:{},FolderView:{baseSpaceId:978500090},ConvFolderView:{baseSpaceId:1},MsgInPreview:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},ConvInPreview:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},MsgInTab:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},ConvInTab:{calcValues:U,rocketStatsExtras:M,calcSpaceId:Q},SendConfirm:{baseSpaceId:978500224,calcValues:L},UpdatesTab:{baseSpaceId:978500277},LoadMessage:{},OMMessageGetPostHook:{},LoadSandbox:{},DisplayMessageInSandbox:{},PreLoadMessage:{rocketStatExtras:M},OMOpenView:{},"OMOpenView:36ohk6dgmcd1n":{},"OMOpenView:3cp9lcoq32dpn":{},"OMOpenView:3ae1mc4rm4e9l":{},Search:{calcValues:E,calcSpaceId:B},AttachmentUpload:{baseSpaceId:978500442,calcValues:A}},V=T.Stat={log:function(Y,b,a,Z){var d,X;if(Y in W){if(Y.indexOf("Conv")!=-1){return;}var c=W[Y];X=(c.calcValues?c.calcValues(Y,b,a,Z):{t_done:b});if(window.rt_Done&&(c.baseSpaceId||c.calcSpaceId)&&(NeoConfig&&NeoConfig.roundTrip)){d=c.baseSpaceId||c.calcSpaceId(Y,X,a,Z);V.rtBeacon(d,X,a);}F("profile",Y,X.t_done);if(!K[Y]&&NeoConfig.roundTrip&&NeoConfig.roundTrip.interactiveDate){F("profile","TimeToFirst"+Y,Z.s-NeoConfig.roundTrip.interactiveDate);}c.rocketStatsExtras&&c.rocketStatsExtras(Y,X,a,Z);K[Y]=1;}}},I=T.Stopwatch=function(Y){var X=this;X.n=Y;X.c=[];N=X.s=C();X.start.apply(X,D.Array(arguments,1));N=0;};I.get=function(b){var Z=D.Array(arguments,1),Y=H[b],X;if(Z.length){X=Z.shift();if(Y&&X){Y.stop(X);}Y=0;if(Z.shift()){Y=new I(b);N=Y.s;Y.start.apply(Y,Z);N=0;}H[b]=Y;}return Y;};V.rtBeacon=function(c,Z,b){var a,X=NeoConfig,e=[],Y=false;if(c&&window.rt_LogTime&&Math.random()<S){c+=X.roundTrip.spaceIdOffset;if(typeof YAHOO=="undefined"){YAHOO={};}if(typeof YAHOO.RT=="undefined"){YAHOO.RT={qsvars:{}};}rt_SetSpaceid(c);for(a in Z){switch(a.charAt(0)){case"t":rt_LogTime(a,Z[a],true);break;case"k":default:rt_AddVar(a,Z[a]);break;}}for(var d in X.userAdLocations){Y=true;break;}e.push("kd1:"+((!X.IsMailPlus&&X.hasAds&&Y)?"1":"0"));rt_AddVar("ks1",X.cluster);if(X.roundTrip&&X.roundTrip.adComment&&X.roundTrip.adComment.length>0){rt_AddVar("ks4",NeoConfig.roundTrip.adComment.join("/"));X.roundTrip.adComment=[];}(X.om&&X.om.isSandboxEnabled)&&e.push("OM:1");X.RTTimerComment&&b&&e.push(b);rt_SetComment(e.join(";"));rt_Done();}};function R(Y,X){while(Y){Y.d=X-Y.s;Y=Y.sb;Y=Y&&Y[Y.length-1];}}function G(a){var c=this,Z,Y=a.c,b="";function X(f,d){var e=0;while(e<f.length){Z=f[e++];b+=d+Z.n+":"+Z.d+"\n";if(Z=Z.sb){X(Z,d+"-");}}}X([a],b);if(Y&&Y.length>0){b+=Y.join("\n");}a.rtComment=b;b=(a.title||"")+b;}I.prototype={start:function(e){var b,c,Y=this,X=Y,g=e,h=arguments,f=0,Z=C();if(typeof g=="number"){f=1;}else{g=-1;}while(Y.sb&&--g){X=Y;Y=X.sb;Y=Y[Y.length-1];}for(;f<h.length;f++){b=Y.sb=Y.sb||[];if(c=b.length){R(X=b[c-1],Z);}X={n:h[f],s:Z};b.push(X);}},stop:function(X){var Y=this;if(!D.Lang.isNumber(Y.d)){Y.n=X||Y.n;R(Y,C());G(Y);V.log(Y.n,Y.d,Y.rtComment,Y);}},addComment:function(Y){var X=this;if(Y){X.c.push(Y);}}};function U(Y,f,d,b){var a=b.sb,e=-1,c=a?a.length-1:-1,Z={t_done:f};if(b.YCMSGGetEnd&&b.YCMSGGetBegin){Z.t1=b.YCMSGGetEnd-b.YCMSGGetBegin;}for(;c>=0;c--){var X=a[c].n;if(X=="OMMessageInDOM"||X=="MessageInDOM"){e=a[c].s;break;}}if(e>0){Z.t4=f;Z.t_done=e-b.s;}Z.kd5=(NeoConfig.hasConv?1:0);return Z;}function M(a,Y,c,b){var Z=(NeoConfig.low_bandwidth?"_lowBW":"");var X=(NeoConfig.hasConv?"_conv":"");if(b.wasCached){F("profile",a+Z+X+"_Cached",Y.t_done);}else{F("profile",a+Z+X+"_Uncached",Y.t_done);}}function Q(b,Z,e,d){var Y=NeoConfig,X=(Y.low_bandwidth?"low":(Y.secure_cascade*1?"ssl":"non-ssl")),c=(d.wasCached?1:0),a={"ssl":{MsgInPreview:[978500342,978500341],MsgInTab:[978500348,978500347]},"non-ssl":{MsgInPreview:[978500340,978500339],MsgInTab:[978500346,978500345]},"low":{MsgInPreview:[978500338,978500337],MsgInTab:[978500344,978500343]}};return a[X][b][c];}function J(a,Z,c,b){var Y=NeoConfig,X="non-ssl";cacheIndex=(b.wasCached?1:0),lookUpTable={"non-ssl":{ConvInPreview:[xx,xx],ConvInTab:[xx,xx]}};return lookUpTable[X][a][cacheIndex];}function A(X,a,Z,Y){var b={t_done:a};b.ks2=Y.attType&&Y.attType==="form"?"1":Y.attType&&Y.attType==="flash"?"2":"0";if(!D.Lang.isUndefined(Y.attSize)){b.kd2=Y.attSize+"";}return b;}function L(Y,c,b,a){var Z,e,X=0,d={t_done:c};if(a.sb){for(Z=0;Z<a.sb.length;Z++){e=a.sb[Z];switch(e.n){case"moduleLoad":d.t1=e.d;break;case"msgSend":d.t2=e.d;break;}}}d.kd4=a.action&&a.action==="retry"?"1":a.action&&a.action==="captcha"?"2":"0";if(!D.Lang.isUndefined(a.bodySize)){d.kd2=a.bodySize+"";}if(!D.Lang.isUndefined(a.attachCount)){d.kd3=a.attachCount+"";}d.kd5=(NeoConfig.hasConv?1:0);return d;}function O(X,b,a,Z){var Y,d,c={t_done:b};if(Z.sb){for(Y=0;Y<Z.sb.length;Y++){d=Z.sb[Y];switch(d.n){case"moduleLoad":c.t1=d.d;break;case"initView":c.t2=d.d;break;}}}if(Z.CMGStart&&Z.CMGEnd){c.t3=Z.CMGEnd-Z.CMGStart;}c.kd4="0";if(!D.Lang.isUndefined(Z.CMGSize)){c.kd2=Z.CMGSize+"";}if(!D.Lang.isUndefined(Z.wasCached)){c.kd3=(Z.wasCached?"1":"0");}c.kd5=(NeoConfig.hasConv?1:0);return c;}function P(a,Y,c,b){var Z={"reply_sender":978500080,"reply_all":978500245,"forward":978500078,"edit":978500266},X=Z[b.action];return(X?X:978500077);}function E(X,c,b,a){var Z={},d={t_done:c};function Y(g){var e,f;if(g.sb){for(e=0;e<g.sb.length;e++){f=g.sb[e];Z[f.n]=f.d;Y(f);}}}Y(a);d.t1=Z.start+Z.serverRequest;d.t2=Z.renderSearch;if(Z.renderSearchGroups){d.t3=Z.renderSearchGroups;}d.kd2=a.matches;d.ks2=a.source;return d;}function B(Z,X,b,a){var Y={"results":978500252,"refinement":978500222};return Y[a.action];}},"1.0.0",{requires:["rocket-stats"]});

YUI.add("common-utils",function(E){E.namespace("common.Utils");var B=E.common.Utils,D=E.Object,C=E.Lang,A=C.trim,F=/{{([^{}]*)}}/g;E.mix(B,{isEmpty:function(H){var G;if(H){for(G in H){return false;}}return true;},size:function(I){var G,H=0;for(G in I){H++;}return H;},congruent:function(I,H,G,K){var J=((I===H)||(G||(B.size(I)==B.size(H))));if(C.isString(I)){J=(I===H);}if(J&&(I!=H)){D.some(I,function(M,L){J=(K&&!!K[L])||(C.isObject(M)?B.congruent(M,H[L],G):(M==H[L]));return !J;},null,true);}return J;},diff:function(J,I,H){var G,K=H?J:B.merge({},J);if(I){D.each(K,function(M,L){G=C.isObject(M)?B.diff(M,I[L],true):(M!=I[L]);if(!G){delete K[L];}},null,true);}return(!B.isEmpty(K)||(J&&!I))&&K;},wcopy:function(I,G){var K=I&&(I.length||(I.length===0))&&Object.prototype.toString.call(I)=="[object Array]",H,J=I?(K?E.clone(I):E.Object(I)):I;G=G||{};if(!K){for(H in J){if((typeof J[H]=="object")&&J[H]){J[H]=G[H]?I[H]:B.wcopy(J[H]);}}}return J;},merge:function(M,L,K,I){var J,H,G;if(C.isObject(L)){M=(C.isObject(M)&&M)||{};for(J in L){if(I&&!L.hasOwnProperty(J)){continue;}if(C.isArray(L[J])){H=L[J];if(!M[J]||K){M[J]=[];}for(G=0;G<H.length;G++){M[J].push(B.merge(M[J][G],H[G],K,I));}}else{if(C.isObject(L[J])){if(!M[J]){M[J]={};}M[J]=B.merge(M[J],L[J],K,I);}else{if((K&&(M[J]!=L[J]))||C.isUndefined(M[J])){M[J]=L[J];}}}}}else{M=L;}return M;},assert:function(H,I,G,J){if(!H){I=I||"assertfail";E.use("common-utils-error",function(){var K=(J&&J())||"";B.error.report(I+" "+K,1,G);});}},substitute:function(M,L,I,H,G,K,J){if(typeof M!=="string"){return;}if(J){M=J.str||M;L=J.obj||L;I=J.formatters||I;H=J.args||H;G=J.strings||G;K=J.templates||K;}return M.replace(F,function(O,N){var Q,P,R=B.substitute;if(I&&(Q=(J&&J.formatters)?J.formatters[N]:I[N])){return(Q(L,H,J))||"";}else{if(L&&N in L){P=L[N];return typeof P==="string"&&P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(G&&N in G){P=G[N];return P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(K&&N in K){return R(K[N].base||K[N],L,I,H,G,K,J);}else{return"";}}}}});},regexpEscape:function(G){if(G==null){return null;}G=""+G;return G.replace(/([\^\/.*+?|()[\]{}\\=!:$])/g,"\\$1");},escapeHtml:function(H,G){if(H==null){return null;}H=""+H;H=H.replace(/&/g,"&amp;");H=H.replace(/</g,"&lt;");H=H.replace(/>/g,"&gt;");H=H.replace(/\"/g,"&quot;");H=H.replace(/\'/g,"&#39;");H=H.replace(/\\/g,"&#92;");H=H.replace(/&(?:amp;)+/g,"&amp;");if(G){H=H.replace(/&amp;#([A-Za-z0-9]+);/g,"&#$1;");}return H;},unescapeHtml:function(G){if(G==null){return null;}G=""+G;G=G.replace(/&amp;/g,"&");G=G.replace(/&lt;/g,"<");G=G.replace(/&gt;/g,">");G=G.replace(/&quot;/g,'"');G=G.replace(/&#39;/g,"'");G=G.replace(/&#92;/g,"\\");return G;},escapeStringField:function(G){return B.escapeHtml(B.unescapeHtml(G));},escapeEmailObject:function(G){return{email:B.escapeStringField(G.email),name:B.escapeStringField(G.name)};},escapeEmailObjectArray:function(J){var G=J.length,H=[],I=0;for(;I<G;I++){H.push(B.escapeEmailObject(J[I]));}return H;},removeHtml:function(G){if(G==null){return null;}G=""+G;G=G.replace(/<[^>]*>/g,"");return G;},getDataAction:function(K){var J=K.target,I=K.currentTarget,G=J.ancestor(function(L){return L.getAttribute("data-action")||L===I;},true),H=G?G.getAttribute("data-action"):0;return{node:G,action:H};},dateFormatter:function(H,G){if(Neo&&Neo.dateFormatter){return Neo.dateFormatter(H,G);}return"";},triggerDarla:function(G,H){!NeoConfig.noDarla&&E.use("mail-ui-darla",function(J){var I=J.mail.ui.darla;I&&I.trigger(G,H);});},loadDarlaAndExecute:function(G,H){if(H){E.use("darla-base","mail-ui-darla",function(){G(E);E.use("mail-track");});}else{E.use("darla-base","mail-ui-darla","mail-track",function(){G(E);});}},parseQueryString:function(G){var H,I={};G=G||window.location.search.replace(/^\?/,"");if(G&&G.length>1){H=G.split("?");I=E.QueryString.parse(H.length>1?H[1]:H[0]);}return I;},sanitizeString:function(H){var G=/[\u0000-\u001f\u007f]/g;return typeof H==="string"?A(H.replace(G,"")):H;},mergeQueryString:function(H,I){var G;if(E.Lang.isObject(I)){G=H.replace(/\?.*$/,"");I=E.merge(B.parseQueryString(H),I);H=G+"?"+E.QueryString.stringify(I);}return H;},setSelect:function(H,G){if(typeof H.addClass!=="undefined"){H=[H];}E.Array.each(H,function(I){var J=E.Node.getDOMNode(I);if(typeof J.onselectstart!=="undefined"){J.onselectstart=function(){if((window.event.srcElement||window.event.target).tagName==="INPUT"){return true;}else{return G;}};}else{if(typeof J.style.MozUserSelect!=="undefined"){J.style.MozUserSelect=G?"inherit":"-moz-none";}else{J.onmousedown=function(){return G;};}}});},onDemand:function(G,H){return function(){var J=this,I=arguments;E.use(H,function(){J[G].apply(J,I);});};},escapeRegexp:function(H){var G=/([\[|\]|\(|\)|])/g;return H.replace(G,"\\$1");},simulateContextMenu:function(K,H){var I,G=2,J,L;if(!K){return false;}K=(K._node)?K._node:K;if(K.ownerDocument.createEvent){J=E.one(K);L=J.getXY();if(H!==false&&(L[1]-E.DOM.docScrollY())<0){J.scrollIntoView();L=J.getXY();}L[1]-=E.DOM.docScrollY();I=K.ownerDocument.createEvent("MouseEvents");I.initMouseEvent("contextmenu",true,true,K.ownerDocument.defaultView,1,0,0,L[0],L[1],false,false,false,false,G,null);return !K.dispatchEvent(I);}else{if(K.ownerDocument.createEventObject){I=K.ownerDocument.createEventObject();I.button=G;return K.fireEvent("oncontextmenu",I);}}return false;},isBrowserCORSCapable:function(){return(("withCredentials" in new XMLHttpRequest())||typeof XDomainRequest!=="undefined");},convertToPlain:function(G){var H=document.createElement("div");H.innerHTML=G;return H.textContent||H.innerText;},makeHttpsUrl:function(G){if(G&&typeof G=="string"){G=G.replace(/^http:/,"https:");G=G.replace(/:80\//,":443/");}return G;}});if(NeoConfig&&NeoConfig.intl==="jp"){E.use("common-utils-jp");}},"1.0.0",{requires:["querystring-parse-simple"]});

YUI.add("common-utils-apihook",function(D){var C=D.Lang,B=D.common.Utils,A=B.rocketstats;B.ApiHook=function(F){var E={};F.hook=function(K,H,G){var J,I;G=G||10;if(!H){for(I in K){F.hook(I,K[I],G);}}else{B.assert(K&&H);B.assert(C.isObject(H));B.assert(!C.isArray(H));J=E[K]=E[K]||[];J=J[G]=J[G]||[];return H.hId={o:G,i:J.push(H)-1};}};F.unhook=function(J,L){var H,G,I,K;if(L){B.assert(J&&(L||L===0));B.assert(C.isString(J)&&C.isObject(L)&&C.isNumber(L.o)&&C.isNumber(L.i));B.assert(E[J]);B.assert(E[J][L.o][L.i].hId==L);E[J][L.o][L.i]=0;}else{for(H in E){I=E[H];for(G in I){K=I[G];for(L in K){if(K[L]==J[H]){K[L]=0;}}}}}};return function(J,I,M,S,U){var O,T,Q,P=0,L=0,N,R=U&&U.notify||function(){},V=E[J]||[],K=function(){T=2;return 1;},G={abort:K};B.assert(C.isFunction(R));function H(){function X(Z,Y){if(C.isString(Z)){I=Z;P=L=0;if(Y){J=Y;V=E[J]||[];}Q=V[0];}else{T=T||1;if(C.isFunction(Z)){G.abort=function(){var a=Z();T=2;return a===undefined?1:a;};R("async",J,S);return function(b,e,a){if(T==1){R("resume",J,S);M=b||M;G.abort=K;T=0;if(e){I=e;L=0;P=a||0;}H();}return T==1;};}if(Z){if(C.isObject(Z)){G.abort();G.abort=function(){return Z.abort();};}else{T=0;M=Y||M;H();return;}}T=2;}}while(P<V.length){Q=V[P];while(Q&&!T&&(L<Q.length)){if(O=Q[L++]){if(!C.isFunction(O)){O=O[I];}try{M=(O&&O(M,S,X,I))||M;}catch(W){A.stat("hookutil","hookfailure");N=["HookFailure",J,I,P,L-1].join("_");A.stat("hookutil",N);if(NeoConfig.log_error_yapache==1){D.use("common-utils-error",function(){B.error.report(W,"apihook:"+N,1,1,1);});}}}}if(T){break;}P++;L=0;}if(!T){T=2;G.abort=function(){};if(O=U){if(!C.isFunction(O)){O=O[I];}try{O&&O(M,U,I);}catch(W){N="CbkFailure_"+J+"_"+I;A.stat("hookutil","CbkFailure_"+J+"_"+I);if(NeoConfig.log_error_yapache==1){D.use("common-utils-error",function(){B.error.report(W,"apihook:"+N,1,1,1);});}}}}return G;}return H();};};},"1.0.0",{requires:["common-utils","rocket-stats"]});

YUI.add("common-user-session",function(F){var C=F.common,B=C.persist,D,A,E;C.UserSession={getState:function(){var I=B.getCookie("Y"),H=I&&I.get("l"),G=B.getCookie("T"),J=G&&G.get("d");return{user:H,session:J,newuser:H&&H!=A,expired:J!=E,loggedout:!H};},update:function(){var G=this.getState();A=G.user;E=G.session;},same:function(){var G=this.getState();return !(G.newuser||G.loggedout||G.expired);}};D=NeoConfig.initCookieData||C.UserSession.getState();A=D.user;E=D.session;},"1.0.0",{requires:["common-persist-cookie-data","common-utils"]});

YUI.add("mail-controller-base",function(D){var J,I,d,W,A,g={},P=D.common.net.Error,X=D.common.Utils,C=X.rocketstats.stat,h=D.mail,H=h.Controller={},b=0,B=[],f={fixParms:2,cacheCheck:4,dupcheck:12,optimistic:14,gdmDelay:16,delay:18,transport:20,deBatch:2,unpark:4,dupcbk:6,cache:8,resume:10,envelope:12,usercbk:30},Q={notfound:1,moved:2,request:3,failed:4,baddata:5,wserror:6,_reservedIdx:20};function L(j,Y,i){return{reason:Y,data:j,fault:i,code:i&&i.code};}function K(s,j,Y,k,q,p,n){var o,l,i=s.bulkOps,r={controller:s,api:j,method:Y,reason:n,cfg:i&&i[j],custom:{},start:0,size:0,batchOps:k,batch:k.batch,getBatch:function(){r.batch=1;return S(k);},newApi:m,opNum:b++,deBatch:1};if(g[s.ns].entity){r.batchOps.entity=g[s.ns].entity;}function m(u,w,t,v){r.api=u;r.method=w;r.cfg=i&&i[u];v&&(r.reason=v);if(w=="FlagMessages"||w=="FlagThreads"){o=t.setFlags;if(o.spam||o.ham){r.cfg=i["spam"];}}r.parms=t;if(typeof t=="object"){l=r.origParms={};for(j in t){l[j]=t[j];}l=r.modParms={};for(j in t){l[j]=t[j];}}else{r.origParms=r.modParms=t;}}if(!n){r.reason=j;q=q||{};if(!p&&(q.success||q.failure)){p=q;q={};}p=p||{};}r.cbk=p;if(!k.cbk){p=k.cbk=D.Object(p);p.success=p.failure=0;}m(j,Y,q);r.batchIdx=k.push(r)-1;k.count++;return r;}function N(k,n,i,l,Y,m){if(!i){i=[];i.count=0;i.waitCnt=0;}var j=K(this,k,n,i,l,Y,m);return j.abort=g[this.ns].ch(k,"pre",j.parms,j,j.cbk);}function V(j,i,k,l){if(i.deBatch&&(l!="pre")){var Y=i.batchOps;i.deBatch=0;Y[i.batchIdx]=0;Y.count--;if(typeof i.waitIdx!="undefined"){B[i.waitIdx]=0;Y.waitCnt--;}!I&&R();}}function Z(k,j,n,o){if(j.batch&&(o!="pre")){var l,i=j.batchOps,Y=i.cbk,m=i.response.result.response[j.batchIdx]={};m[j.method+"Response"]=k;i.envCnt++;if(i.envCnt==i.length){Y&&(l=Y.success)&&l(m);}}}function G(q,s,m){var r,o=0,j=s.batchOps,Y=s.method,n=g[s.controller.ns],p=n.noDelay,i=n.isdup,l=function(){B[s.waitIdx]=0;j[s.batchIdx]=0;j.waitCnt--;j.count--;},k=function(){r.dups[s.dupIdx]=0;};if(i&&(i=i[Y])){while(o<B.length){if((r=B[o++])&&(r.method==Y)&&i(r.parms,q,r,s,m)){V(q,s);r.dups=r.dups||[];s.dupIdx=r.dups.push(s)-1;s.resume=m(k);return;}}}if(!j.batch){j.ready=1;}j.waitCnt++;if(j.batch||!p||!p[s.api]){s.waitIdx=B.push(s)-1;if(I||!j.ready||(j.waitCnt!=j.count)){s.resume=m(l);s.delayed=1;}else{F();I=1;A=s;o=0;while(o<j.length){if((s=j[o++])&&s.delayed){s.delayed=0;s.resume();}}}}}function O(){if(d){clearTimeout(d);d=0;}}function F(){O();d=setTimeout(function(){var Y=A?A.method:"Unknown";C("controller","ForceResume_"+Y);R();W=Y;},NeoConfig.controllerForceResume||30000);W=0;}function R(){W&&C("controller","ForceResumeWrong_"+W);F();var Y,m,p,o=0,n=0,k=B.length;while(o<k){if(m=B[o++]){p=1;Y=m.batchOps;if(Y.ready&&(Y.waitCnt==Y.count)){n=Y.length;while(n){if(m=Y[--n]){A=m;B[m.waitIdx]=0;m.delayed=0;if(!m.resume()){Y[m.batchIdx]=0;Y.waitCnt--;Y.count--;}}}if(Y.count!=0){I=1;return;}}}}if(!p){B.length=0;}I=0;A=0;O();}function T(l,j,n){var k=0,Y=j.batchOps,o=function(){return m();},m=function(){while(k<Y.length){if(j=Y[k++]){B[j.waitIdx]=0;}}R();};j.resume=n(o);j.parms=l;j.deBatch=0;if(!--Y.waitCnt){m=a(Y,Y.cbk);}}function e(l,i,k,m){var j,Y=i.dups;if(Y){while(Y.length){if(j=Y.shift()){j.resume(l,m);}}}}function M(j,m){var i,Y=j.cfg,k=j.parms,n=k[m];if(Y&&n&&(j.count=i=n.length)){return j.time=i*(j.cost=(1000/Y.bs));}}function E(Y,q){var o,t,k,s,n=0,r=0,j=new Date,l=j-q.bst,p=j-q.st;if(l){q.bst=j;r=800/l-0.8;q.ie+=l-1000;r-=0.5*q.ie/p;if(q.la){k=0.5*r*r*(1+1/q.la);k=k<-0.5?-0.5:k>0.5?0.5:k;r+=k;}q.la=r;while(s=Y[n++]){if(o=s.cfg){t=o.bs;t+=t*r;(o.min>t)&&(t=o.min);(o.max<t)&&(t=o.max);o.bs=t;}}}}function c(j,o,n){try{var Y,m,k=0;while(Y=o[k]){Y.cnd="success";m=n;if(j){m=n.response[k];if(m.success){m=m[Y.method+"Response"];}else{m=m["ErrorResponse"];Y.cnd="failure";if(Y.bulk){return m;}}}k++;Y.start+=Y.size;Y.cfg&&Y.resp&&Y.resp.mid&&m.mid&&(m.mid=Y.resp.mid.concat(m.mid));Y.resp=m;}}catch(l){}}function a(j,AM){var AJ,AH,AE,AN,AL,v,AR,t,u,AB,AI,k,AF,m,AK,x,AO,AQ,AD,l,AC,r,q,z,s,AG=1,w=0,y,Y,n=D.Object(AM||{}),AA=(j.entity)?j.entity:"mid";function AP(){AJ=AR=v=AL=0;AB=[];AI=[];while(AJ<j.length){if(AH=j[AJ++]){t&&AH.size&&(t.processed+=AH.size);if(AH.complete){B[AH.waitIdx]=0;j[AH.batchIdx]=0;AH.resume(AH.resp,AH.cnd);}else{if(M(AH,AA)){AL+=AH.cost;v+=AH.time;AR+=AH.count;}AB.push(AH);}}}AL&&(w=(1000/AL)|0);if((s=j[0])&&(s=s.cfg)&&s.fixed){w=s.fixed;if(j[0].parms[AA].length<w*2.5){AG=0;}}if(!u){u=1;if(v<2000){w*=9;}else{if(AG){u={ie:0,la:0,bn:0};u.bst=u.st=new Date;t={processed:0,total:AR};}}}t&&(t.timeleft=v);z=0;AJ=0;AN=[];Y=[];while((AH=AB[AJ++])&&(AH.cfg||!z)){y=AH.parms.chain;AF=y||{};AF[k=AH.method]=x={};AD=AH.parms;delete AD.chain;for(AQ in AD){if(AD.hasOwnProperty(AQ)){x[AQ]=AD[AQ];}}AN.push(AF);AH.cbk=AH.cbk||{};AH.cbk.method=AH.cbk.method||k;Y.push(AH.cbk);AI.push(AH);if(AH.cfg){AH.size=w;q=m=AH.start;m+=w;x[AA]=x[AA].slice(q,m);if(AD[AA].length>m){AH.bulk=z=1;continue;}}AH.complete=1;}r=AN.length;if(AC=(r>1)){n.batchopcbk=Y;}if(!AO){try{t&&AM&&(AK=AM.progress)&&AK(t);}catch(i){}r&&(AE=h.net.Transport.request(AC?"BatchExecute":k,AC?{call:AN}:x,n,true));}if(AO||!r){R();}}n.success=function(i){F();E(AI,u);c(AC,AI,i.body.result);AP();};n.failure=function(i){if(i.body&&i.body.result){c(AC,AI,i.body.result);}l(i,"failure");};AP();return l=function(o,i){if(!AO){o=o||{fault:"aborted"};AO=true;AJ=0;while(AJ<j.length){if(AH=j[AJ++]){B[AH.waitIdx]=0;AH.complete=1;AH.cnd=i||"aborted";AH.resp=L(o,Q.failed,o.fault);}}if(i!="aborted"){AP();}AE&&AE.abort();R();}};}H.extend=function(k,i){var j,m,l,Y=H[k];if(!Y){Y=H[k]=D.clone(J);Y.ns=k;g[k]={};g[k].ch=X.ApiHook(Y);}i=i||{};i.ch=g[k].ch;i.order=f;D.mix(g[k],i,0,0,0,1);if(m=(i&&i.passthru)){for(j in m){Y[j]=D.bind(N,Y,j,m[j],0);Y.hook(j,{pre:G},f.delay);Y.hook(j,{pre:T},f.transport);Y.hook(j,e,1);Y.hook(j,V,f.deBatch);Y.hook(j,Z,f.envelope);}}if(l=(i&&i.batchable)){for(j in l){if(!m[j]){Y.hook(j,{pre:G},f.delay);Y.hook(j,{pre:T},f.transport);Y.hook(j,V,f.deBatch);Y.hook(j,Z,f.envelope);}}}return Y;};function S(l){if(Y=l.intf){return Y;}var k,m,j,i,Y=l.intf={execute:function(n){l.ready=1;
l.cbk=n;!I&&R();return{abort:function(){var o=0;while(o<l.length){if(i=l[o++]){i.abort();}}}};}};l.envCnt=0;l.response={error:null,result:{response:[]}};for(k in g){if(m=g[k].batchable){Y[k]=D.Object(Y);Y[k].ns=k;Y[k].bulkOps=H[k].bulkOps;for(j in m){Y[k][j]=D.bind(N,Y[k],j,m[j],l);}}}l.batch=1;l.count=l.length;l.waitCnt=0;return Y;}H.batch=function(){return S([]);};J={Error:Q,abort:function(Y){Y&&Y.abort();},_error:L};function U(m,o,l){function k(){var n;if(l.status==500){j=l.fault.code;if(/SessionIdReissue/.test(j)){i=402;}else{if(/Credentials/.test(j)){i=401;n={stat:j+"_"+Y.method};}}}m.callDefault(i,n,1);}var j,i=null,Y;if((Y=l.callback)&&Y.service=="mail"){D.use("mail-error",function(n){if(h.Error){h.Error.handle(m,o,l);}else{k();}});return m.isdone()||m.async(k);}}P.onError(U);},"1.0.0",{requires:["mail-net-transport","common-net-error-base","common-utils-apihook","rocket-stats"]});

YUI.add("mail-controller-messages",function(C){var r,v=C.mail,H=v.model.DataStore,B=H.Messages,N=C.common.Utils,p=N.rocketstats.stat,A=C.Lang,G="%40S%40Search",S=v.Controller,J=B.getPermMidPart,T=B.getParam,E=NeoConfig.truncateAt||50000,D={},Q,u={"Neighbors":0},i=0,R=0,k=0,Z=0,b=0,P=NeoConfig.msgCacheInterval||30000,q=N.parseQueryString()||{},h=function(){return new Date().getTime();},V=h(),d="_chainedbatch",g={passthru:{send:"SendMessage",get:"GetDisplayMessage",list:"ListMessages",search:"SearchMessages",save:"SaveMessage",scan:"VirusScanAttachments"},isdup:{ListMessages:function(e,Y){return(e&&Y&&e.fid==Y.fid&&e.numInfo==Y.numInfo&&e.sortKey==Y.sortKey&&e.sortOrder==Y.sortOrder&&e.startInfo==Y.startInfo);}},noDelay:{get:1}},j=[],a=0,I=0,t,O,W,c="[NONE]";g.batchable=g.passthru;g.entity="mid";t=S.extend("Messages",g);O=t.Error;W=t._error;r=g.order;try{c=NeoConfig.userDataObj.userSendPref.loggedInAlias;}catch(s){}t.bulkOps={remove:{bs:100,min:100,max:1000},flag:{bs:100,min:100,max:1000},move:{bs:100,min:100,max:1000},spam:{bs:20,min:20,max:50,fixed:20}};function F(e,y,Y){var w,x;if(y=="Draft"){return"none";}switch(e){case"0":x="none";break;case"b":case"1":default:x="all";break;}if(!strings.str_cfg_tog_old_imageblock){if(y==="%40B%40Bulk"){x="all";}if(e==="b"&&Y&&(w=Y.flags)&&w.inAddressBook){x="none";}}else{if(e==="b"){x=y==="%40B%40Bulk"?"all":"none";}}return x;}C.mix(t,{_process:function(){},_preset:function(w){var x=(NeoConfig.low_bandwidth||NeoConfig.noLiveWords=="1"||strings.str_cfg_tog_disable_livewords)?"none":"inline";if(q.lw){x=q.lw==="1"?"inline":"none";}var y=w.fid,Y=w.msgObj,e={fid:y,enableRetry:true,textToHtml:true,urlDetection:true,emailDetection:true,emailComposeUrl:"mailto:%e%",truncateAt:E,charsetHint:"",annotateOption:{annotateText:x},bidiDetection:NeoConfig.bidi,midRequest:w.request||{blockImages:F(C.common.persist.UserData.get("userUIPref.imageBlocking"),y,Y),restrictCSS:true,expandCIDReferences:true,enableWarnings:true,bidiDetection:NeoConfig.bidi,cachekey:"launch"}};if(Y&&Y.part&&Y.flags){B.set(y,Y,"launch",true,function(z){t._process(z,{fid:y,key:e.midRequest,msg:Y});return z;},e);}},isCertified:function(Y){var e=/images|all/;return C.Array.some(Y,function(w){return w.name=="allow"&&e.test(w.value);});},getQueryParams:function(w,Y){var e=T(w.mid)||w._param;return(Y&&e&&e[Y])||e;},getAttachmentUrl:function(AB,x,e,y,w){var Y="/ya/download";if(AB=="INBOX"){AB="Inbox";}if(w){w=w.replace(/\?/g,"x");w=encodeURIComponent(w);}var z=new Date().getTime().toString(),AA;x=encodeURIComponent(x);AA=[NeoConfig.launch_protocol,location.hostname,Y,"?fid=",encodeURIComponent(AB),"&mid=",x,"&pid=",e,"&tnef=",y,"&YY=",z];if(w){AA.push("&file_name=",w);}AA.push("&appid=YahooMailNeo");return AA.join("");}},true);t.hook("get",{pre:n},r.cacheCheck);t.hook("get",{success:m},r.cache);t.hook("list",{pre:U,success:M});t.hook("get",{pre:o},r.gdmDelay);t.hook("get",K,r.unpark);function o(e,Y,x){if(a){Y.parkIdx=j.push(Y)-1;Y.resume=x(y);}else{if(I){clearTimeout(I);}I=setTimeout(w,30000);}Y.unparkIt=1;a=1;function y(){j[Y.parkIdx]=0;var z=j.length;while(z--){if(j[z]){return;}}a=0;}function w(){I=0;if(a){a=0;p("msgctrl","UnlockGdmQ");f();}}}function K(e,Y,w,x){if(x!="pre"&&Y.unparkIt){Y.unparkIt=0;setTimeout(f,0);}}function f(){if(!Y(1)){Y();}function Y(z){var w,e,y,x=j.length;while(x--){if((w=j[x])&&(!z||w.parms.msg)){j[x]=0;if(z){while(x--){if((e=j[x])&&!e.parms.msg){j[x]=0;}}}a=0;w.resume(w.parms,"pre");return 1;}}if(!z){a=0;j.length=0;}}}function n(AL,AJ,AP){var AH,AI,e=AL.fid,z=AL.msg,AA=!AL.dontCache&&AL.prefetch,AG=AL.ovparams,AO=AL.chain,AN=AO&&AO.parameter&&AO.parameter.destination,AK,Y=[],AF,w=AJ.custom,AC,AD=C.common.persist.UserData.get("userUIPref.imageBlocking"),AB=(AJ.parkIdx!==undefined);function y(AV,AU){var AR,AT=T(AV.mid),AS=AU&&AU.truncateAt,AQ;AR=!AU||!AT||((N.congruent(AU,AT,true,{truncateAt:1})));return(AR&&(AQ=B.get(e,AV))&&AQ.part&&((!AQ.isTruncated||(AS&&(AT.truncateAt>AS)))||(AQ.isTruncated&&typeof AS=="undefined"))&&AQ);}function AM(AQ){var AR=AQ.mid,AS=T(AR),AT=(NeoConfig.low_bandwidth||NeoConfig.noLiveWords=="1"||strings.str_cfg_tog_disable_livewords)?"none":"inline",AU;if(q.lw){AT=q.lw==="1"?"inline":"none";}AU=AS?N.merge({},AS):{fid:e,enableRetry:true,textToHtml:true,urlDetection:true,emailDetection:true,emailComposeUrl:"mailto:%e%",truncateAt:E,charsetHint:"",annotateOption:{annotateText:AT},bidiDetection:NeoConfig.bidi};if(AQ.charset){AU.charsetHint=AQ.charset;}if(NeoConfig.mentos_enabled){AU.MessageHeaders=["Authentication-Results","X-Rocket-Track"];}if(AG){N.merge(AU,AG,true);}if(!A.isNumber(AU.truncateAt)){delete AU.truncateAt;}delete AU.midRequest;return AU;}function x(AQ,AU){var AR=AQ.mid,AS,AW=T(AR),AT=AW&&AW.midRequest,AV=AT?N.merge({},AT):{blockImages:F(AD,e,AQ),restrictCSS:true,expandCIDReferences:true,enableWarnings:true,bidiDetection:NeoConfig.bidi};if(AG){N.merge(AV,AG.midRequest||{},true);}AV.mid=AR;AV.cachekey=AQ.cachekey||AL.cachekey;if(!AV.cachekey){AV.cachekey=AU?"PrimeOther":"Other";}return AV;}function AE(AQ){var AS=T(AQ.mid),AR=(AS&&AS.midRequest.cachekey)||"Neighbors";if(!u[AR]){u[AR]=0;}u[AR]++;return AR;}if(z&&AA){AI=C.clone(AL);AI.msg=null;AL.prefetch=null;AA=null;setTimeout(function(){t.get(AI,{suppressCodes:["*"]});},0);}if(AN&&AN.match(/\.mid$/)){z=AL.msg={};z.mid=d;}if(!(AL&&AL.fid&&((AL.msg&&AL.msg.mid)||AL.prefetch))){AP("failure");N.assert(!NeoConfig.isInternal,"badparam-get",1,function(){C.use("mail-debug",function(AQ){if(confirm("Y! Internal: Found invalid message query param.\nPlease click OK to send for Y!Mail Engineering diagnosis.")){v.Debug.emailIssue("GDM Bad param sent:\n\n"+AQ.JSON.stringify(AL||{}));}});});return W(AL,O.request);}if(z){z.mid=z.mid.replace(/ /g,"+");V=h();if(AF=y(z,AG)){if(AB){i--;R--;}Q=AE(z);D[AF.mid]|=1;N.traceMsg(["CachedMessage: ","MID => ",AF.mid," | ","Cache => ",Q," | ","Algorithm => ",NeoConfig.preCacheModule||"unknown"].join(""));AJ.cbk&&(AJ.cbk.respProps={wasCached:true});AP("success");return AF;}else{!AB&&++i;
AJ.cbk&&(AJ.cbk.respProps={wasCached:false});if(AL.cacheOnly){AP("failure");return W(z,O.notfound);}!AB&&R++;AK=AM(z);Y=[x(z,true)];}}for(AH=0;AA&&AH<AA.length;AH++){AC=AA[AH];N.assert(!NeoConfig.isInternal||AC.mid,"badparam-get",1,function(){C.use("mail-debug",function(AQ){if(confirm("Y! Internal: Found invalid message query param.\nPlease click OK to send for Y!Mail Engineering diagnosis.")){v.Debug.emailIssue("GDM Prefetch bad param:\n\n"+AQ.JSON.stringify(AA||{}));}});});if(AC.mid&&!y(AC,AG)){!AB&&R++;if((AK&&N.congruent(AK,AM(AC),true))||(AK=AM(AC))){Y.push(x(AC,false));}}}if(AK){N.assert(Y.length);AK.message=Y;w.rparams=N.merge({},AK);for(AH=0;AH<Y.length;AH++){delete Y[AH].cachekey;}}if(AO&&AK){AK.chain=AO;}return AK&&Y.length?AK:AP("nomsgs");}function m(AQ,AM,AR){var AL,AJ,z,AF,x,AB,Y,AI=AM.origParms,e=AI.fid,AE=AI.msg,AG=!AI.dontCache,w=AQ.message,AK=AQ.code,AA,AS,AD,AN=AM.custom.rparams,y,AO=AN&&AN.message;function AH(AT){var AW,Aa,AY,AZ,AV=w||[],AU=AT.mid,AX=B.isSearchMid(AU,e);for(AW=0;AW<AV.length;AW++){Aa=AV[AW];AZ=(Aa.sourceFolderInfo&&Aa.sourceFolderInfo.fid)||e;if(AU==Aa.mid||(AX&&J(AU)==J(Aa.mid))){break;}if(AU==d){N.assert(AV.length==1);AE=AV[AW];AT.mid=AV[AW].mid;break;}if(B.hasMoved(AU,Aa.mid,e,e)){if(!(AY=(AZ!=e))){B.flush(e);}break;}}return(AW==AV.length)?null:{pos:AW,key:AT,fid:(AX&&e)||AZ,msg:Aa,moved:AY};}function AP(AT){var AW,AV,AU=AT.mid;for(AV=0;AK&&(AV<AK.length);AV++){AW=AK[AV];if((AU==AW.mid||(B.isSearchMid(AU,e)&&J(AU)==J(AW.mid)))&&AW.code!="WARN"){return AW;}}}function AC(AX){var Ab=AX.search(/<script[^>]*>/i),AT,Aa,AY,AV,AU,AZ={};if(Ab>=0){AT=AX.length;Aa=Math.max(AX.search(/<\/script>/i),AT);AY=Ab!==0||Aa!==AT?AX.substring(Ab,Aa):AX;AU=/\bYAHOO\.Shortcuts\.mailCategories\s*=\s*(.*);/.exec(AY);if(AU&&AU[1]){try{AZ.categories=C.JSON.parse(AU[1]);}catch(AW){AZ.categories={};}}AU=/\bYAHOO\.Shortcuts\.annotationSet\s*=\s*({[\s\S]*?})\s*;/.exec(AY);if(AU&&AU[1]){try{AZ.annotations=C.JSON.parse(AU[1]);}catch(AW){AZ.annotations=null;}}return AZ;}return null;}if(AO&&(w||AK)){delete AN.message;for(AL=0;AL<AO.length;AL++){z=true;AA=AB=null;AF=AH(AO[AL]);if(AF){AA=AF.msg;if(AF.moved){B.remove(e,AO[AL]);B.set(AF.fid,AA,"move");AB=O.moved;}AD=C.clone(AN);AD.midRequest=AO[AL];if(AG){if(!AI.forceCache&&(x=B.get(AF.fid,AA))){if(x.part&&N.congruent(T(AA.mid),AD,true)){AA=x;z=false;}else{if(x.flags){AA.flags=x.flags;}}}if(z){B.set(AF.fid,AA,AM.reason,true,function(AT){t._process(AT,AF);return AT;},AD);D[AA.mid]&&L();D[AA.mid]=0;k++;AA=B.get(AF.fid,AA);if(AA.extend){for(AJ in AA.extend){delete AA.extend[AJ];}}else{AA.extend={};}if(AA.body&&AA.body.display){AA.extend.shortcuts=AC(AA.body.display);}}}else{AA._param=AD;t._process(AA,AF);B.extend(AA);}}else{AB=O.wserror;}if(AB==O.wserror){Y=AP(AO[AL]);AS="GDM_Code_"+(Y?Y.code:"NotFound")+(AE?"_Prime":"_Prefetch");C.use("common-utils-error","mail-error",function(AT){if(v.Error&&AE){v.Error.statTAE(4,AS);}p("msgctrl",AS);N.netError([AS,"yid",c,AT.JSON.stringify(AQ)].join(";"));});}if(AE&&(AO[AL].mid==AE.mid)){y={err:AB,msg:AA};}}}if(y){if(y.err){AR("failure");return W(y.msg,AB);}else{D[y.msg.mid]|=1;return y.msg;}}else{if(!AE){AR("noprime");}}}function U(AA,AB,z){var e=AA.startInfo,y=AA.numInfo,w=AA.startMid,Y=AA.numMid,x=A.isNumber;if(NeoConfig.hasConv){AA["responseFields-messages-all"]=1;}if(x(e)&&e<0){z("failure");return W(AA,O.request);}}function M(z,AD,y){var Y=z.folder,w=Y.folderInfo.fid,AC=z.messageInfo,AE,AB,AA=AC?AC.length:0,e,x;for(x=0;x<AA;x++){e=AC[x];if(e&&e.errorflag==="true"){AB=1;break;}}if(AB){y("failure");p("msgctrl","E_ListCorrupt_BadMsgInfo");return W(AD.parms,O.baddata);}if(AD.parms&&z.startInfo+AD.parms.numInfo>=Y.total&&z.startInfo+AC.length<Y.total){Y.total=z.startInfo+AC.length;p("msgctrl","E_ListCorrupt_Total");p("msgctrl","E_ListCorrupt_Total_"+(Y.isSystem?"System":"User"));if(!b){b=1;p("msgctrl","E_ListCorrupt_onePerSession");}C.use("common-utils-error",function(){N.error.report("MsgCtrl_E_ListCorrupt_Total: yid: "+c);});}if(AD.parms&&AD.parms.maxMessagesToScanForContacts){AD.reason="ruefc";}if(w=="%40C%40Chats"){AE=[];C.Array.each(AC,function(AG){var AF=C.Array.some(AG.inboxservices||[],function(AH){if(AH.name=="src"){if(AH.value=="mmc"){Y.total--;}else{AE.push(AG);}return true;}});if(!AF){Y.total--;}});z.messageInfo=AC=AE;}if(Y&&!AD.batch){S.Folders.set(Y,null,AD.reason);}B.syncHeaders(w,AC);X(w,z.messageInfo);}function X(w,e,y){var AA=NeoConfig.msgCacheUnread.split(","),y=AA[0],AC=AA[1],AD=h()-V;if(y>0&&AC>0&&AD<AC*60*1000){var AB=0,Y,z=new Date().getTime()/1000-18000,x=[];while(y>0&&AB<e.length){Y=e[AB++];if(Y&&Y.flags.inAddressBook&&!Y.flags.isRead&&z<Y.receivedDate){x.push(Y);y--;}else{break;}}if(x.length>0){t.get({fid:w,msg:null,prefetch:x,cachekey:"List"},{suppressCodes:["*"]});}}}function L(){for(var Y in D){if((D[Y]&3)==1){D[Y]|=2;Z++;}}}function l(Y,w,x){var e=w;while(w>0){p("MsgCache",Y+"_"+(w>10?10:w));w-=10;}x&&l(Y+"_"+x,e);}setInterval(function(){var Y,e=NeoConfig.preCacheAlgorithm||0;for(Y in u){l("CacheHit",u[Y],Y);u[Y]=0;}l("CacheMiss",i,e);l("CacheRequest",R,e);l("MsgsFetched",k,e);L();l("MsgsUsed",Z,e);i=k=R=Z=0;},P);C.use("mail-controller-processbody");C.namespace("mail.test.controller");C.mail.test.controller.Messages={cacheMsg:X};},"1.0.0",{requires:["launch-utils","rocket-stats","mail-controller-base","mail-controller-folders","common-persist-user-data"]});

YUI.add("mail-controller-folders",function(D){var i=D.mail,Z=D.common.Utils,L=i.model.DataStore,H=D.common.persist.UserData,c=Z.rocketstats.stat,S=D.Lang,G=L.Folders,B=i.Controller,a=S.trim,g={},K,R,V,M,O,f="%40S%40Search",Q=/[@#$%&*?\/;\'\":\[\]\{\}<>|\\\~\n\r\f\t]+/,e={"%40B%40Bulk":strings.spam||"Spam","%40C%40Chats":strings.str_nav_conversations||"Conversations","Draft":strings.str_nav_drafts||"Drafts"},P={},g={passthru:{refresh:"ListFolders",empty:"EmptyFolder",get:"ListFolders"},batchable:{create:"CreateFolder",refresh:"ListFolders",rename:"RenameFolder",remove:"RemoveFolder",fetchExtMail:"FetchExternalMail"}};K=B.extend("Folders",g);R=K.Error;M=R._reservedIdx;P[strings.str_folder_reserved_inbox]=P[strings.str_folder_reserved_conversations]=P[strings.str_folder_reserved_drafts]=P[strings.str_folder_reserved_sent]=P[strings.str_folder_reserved_spam]=P[strings.str_folder_reserved_trash]=P[strings.str_folder_reserved_search]=P[strings.str_folder_reserved_inbox_lower]=P[strings.str_folder_reserved_conversations_lower]=P[strings.str_folder_reserved_drafts_lower]=P[strings.str_folder_reserved_sent_lower]=P[strings.str_folder_reserved_spam_lower]=P[strings.str_folder_reserved_trash_lower]=P[strings.str_folder_reserved_search_lower]=P[strings.str_folder_reserved_inbox_upper]=P[strings.str_folder_reserved_conversations_upper]=P[strings.str_folder_reserved_drafts_upper]=P[strings.str_folder_reserved_sent_upper]=P[strings.str_folder_reserved_spam_upper]=P[strings.str_folder_reserved_trash_upper]=P[strings.str_folder_reserved_search_upper]=1;function X(l,k,Y){var j;Y&&(j=Y.failure)&&j(K._error(l,k),Y.args);}function C(k,Y){var j;Y&&(j=Y.success)&&j(k,Y.args);}function A(j){var Y={suppressCodes:["*"],failure:function(){A();}};O&&O.cancel();O=D.later((S.isNumber(j)&&j)||NeoConfig.chkFolders||10*60000,null,function(){K.refresh(NeoConfig.checkmailExt?{accountId:""}:{},Y);});}function J(k){var j=k&&k.length,Y=K.Error,l;if(!j){l=Y.empty;}else{if(j>40){l=Y.oversize;}else{if(G.getByName(k)||k.toLowerCase() in P||k in P){l=Y.exists;}else{if(Q.test(k)){l=Y.baddata;}}}}return l;}function F(l,k){var m,o,p,j,n,Y=l&&(l.folder||[l]);for(m=0;Y&&m<Y.length;m++){o=Y[m];if(o&&(j=o.folderInfo)&&(p=j.fid)){if(n=e[p]){j.name=n;}}else{if(k){k.push(o);}}}return(k.length==0)&&l;}function h(k,l,j){var Y;if(l.reason=="get"){if(Y=G.get(k)){j("success");return Y;}l.reason="refresh";k={bidiDetection:NeoConfig.bidi};}else{k={fid:k};}return k;}function d(j,t,l){var p={resetMessengerUnseen:true};p.bidiDetection=NeoConfig.bidi;if(j&&typeof j.accountId==="string"){var n,m,q,k=[],v=t.cbk||{},r,u,o=j.accountId,Y=(H.get("externalAccounts")||{}).extAccount;function s(AC,AD){var z,AA,w,x,y=[],AB;if((z=AC.fetchResults)&&(w=z.length)){for(AA=0;AA<w;AA++){if((x=z[AA].status)!="success"){}}if(y.length){D.use("mail-error",function(AE){if(AB=AE.mail.Error){AB.extFetchError(y);}});}}}if(Y&&Y.length){for(m=0;m<Y.length;m++){u=Y[m];if(a(u.username)&&a(u.server)&&(o===""||o===u.address)){k.push({protocol:u.protocol,userName:u.username,server:u.server});}}if(k.length){l();r=D.clone(v);r.failure=null;r.success=s;n=B.batch().Folders;n.fetchExtMail({externalAccounts:k},r);n.refresh(p,v,t.reason);n.execute();}}}return p;}function N(l,n,m){var j=n.reason,k=n.origParms,Y=(n.api=="refresh"||j=="refresh");if(Y){l.folder.sort(function(r,p){var q=r.isSystem,o=p.isSystem;if(q&&!o){return -1;}else{if(!q&&o){return 1;}}return r.folderInfo.name.localeCompare(p.folderInfo.name);});K.set(l,null,j);A();}if(n.api=="get"){if(Y&&(!(l=G.get(k)))){m("failure");return K._error(k,K.Error.notfound);}else{return l;}}}function E(j,m){var k,Y=m.reason,l=m.origParms;k=Y.match(/\.([\w\W]+)/);k=k&&k[1]||Y;if(/^create/.test(Y)){G.add(j,k);}else{if(/^remove/.test(Y)){G.remove(l.fid,k);}else{if(/^rename/.test(Y)){G.rename({folderInfo:l},j,k);}}}G.flush();}function b(m,Y,l){var n,k,j=Z.wcopy(Y);m=Z.sanitizeString(a(m));n=J(m);if(j){j.success=j.failure=null;}if(n){X(m,n,Y);}else{k=B.batch().Folders;k.create({name:m,bidiDetection:NeoConfig.bidi},function(r,o,p){var q=Y&&Y[p];q&&setTimeout(function(){q(r,o);},0);},"create"+(l?"."+l:""));k.refresh({});k.execute(j);}}function I(m,Y,l){var k=B.batch().Folders,j=Z.wcopy(Y);if(j){j.success=j.failure=null;}k.remove({fid:m},Y,"remove"+(l?"."+l:""));k.refresh({});k.execute(j);}function W(n,Y,l){var m,k,j=Z.wcopy(Y);n.name=(n&&n.name)?Z.sanitizeString(a(n.name)):"";n.bidiDetection=NeoConfig.bidi;m=J(n.name);if(j){j.success=j.failure=null;}if(m){X(n.name,m,Y);}else{k=B.batch().Folders;k.rename(n,Y,"rename"+(l?"."+l:""));k.refresh({});k.execute(j);}}function U(k,Y,l){var j=[];k=F(k,j);if(!k){X(j,K.baddata,Y);}else{G.set(k,l);C(k,Y);}}V={success:E};K.hook({create:V,remove:V,rename:V,empty:{pre:h,success:function(Y,j){Z.assert(j.parms&&j.parms.fid);L.Messages.remove(j.parms.fid,null,true);}},get:{pre:h,success:N},refresh:{pre:d,success:N}});D.mix(K,{create:b,rename:W,remove:I,set:U,validateName:J});D.mix(R,{empty:M++,oversize:M++,exists:M++});function T(k,u,q){var n,o=0,m=0,l,p=q=="remove",s=p&&!u,v=q=="move"||q=="add",Y=(p&&-1)||(v&&1)||0,j,r=G.get(k),t;if(r){for(n=0;n<u.length;n++){j=u[n];l=j.flags&&j.flags.isRead;if(S.isNumber(l)){if(v){o+=l?0:1;}else{if(p){o+=l?0:-1;}else{o+=l?-1:1;}}}if(v||p){m+=((j.header&&j.header.size)||0);}}if(p){m=-m;}G.set(attrs={folderInfo:{fid:k},unread:s?0:r.unread+o,total:s?0:r.total+(u.length*Y),size:s?0:r.size+m},"ds:msg:");Z.assert(attrs.unread>=0&&attrs.total>=0,"neg-folder-cnt",1,function(){c("foldercnt",["Negative",attrs.unread>=0?"Total":"Unread",q].join("_"));D.use("common-utils-error",function(w){Z.netError(["NegFolderCount fid:",k,q].join(";"));});});}}D.on("ds:msg:change",function(m,o,Y,n,l){var j,k;if(m==f){for(j=0;j<Y.length;j++){if(k=(Y[j].sourceFolderInfo&&Y[j].sourceFolderInfo.fid)){T(k,[n[j]],l);}Z.assert(k);}}else{T(m,n,l);}});D.on("ds:msg:remove",function(m,k){var Y,j,l="remove";if(m==f){for(Y=0;Y<k.length;Y++){if(j=(k[Y].sourceFolderInfo&&k[Y].sourceFolderInfo.fid)){T(j,[k[Y]],l);}Z.assert(j);
}}else{T(m,k,l);}});D.on("net:suspended",function(Y){O&&O.cancel();O=0;});D.on("net:resumed",function(){A();});A(NeoConfig.checkmailExt&&(((H.get("externalAccounts")||{}).extAccount)&&10));},"1.0.0",{requires:["rocket-stats","mail-model-datastore","mail-controller-base","common-persist-user-data"]});

YUI.add("mail-controller-processbody",function(D){D.namespace("mail.Controller");var A=D.common.Utils,C=D.common.Utils.rocketstats.stat,B=new function(){strings=window.strings||{forwarded_msg_attached:"Note: Forwarded message is attached.",str_nav_left_untitled:"untitled"};var K={"jpg":1,"jpe":1,"pjpg":1,"pjpe":1,"pjpeg":1,"bmp":1,"jpeg":1,"png":1,"gif":1,"tiff":1,"x-png":1};function H(R,S){if(R){if((S&&S.fid==="%40C%40Chats")||(R.sourceFolderInfo&&R.sourceFolderInfo.fid==="%40C%40Chats")){O(R);(R.body||(R.body={}))&&(R.body.display||(R.body.display=""));R.conversationBody=R.part[0].text;}else{E(R,S);}}}function O(R){R.body=R.body||{stationery:"",inlineAttachments:[],isPlainText:0};R.imgAttachments=R.imgAttachments||[];R.nonImgAttachments=R.nonImgAttachments||[];R.attachments=R.attachments||[];R.isTruncated=false;R.yivPrefixNumber="";R.hasForwardedMsg=false;}function N(R,S){R.attachments=R.attachments.concat(S.attachments||[]);R.imgAttachments=R.imgAttachments.concat(S.imgAttachments||[]);R.nonImgAttachments=R.nonImgAttachments.concat(S.nonImgAttachments||[]);R.isTruncated=S.isTruncated||R.isTruncated;R.body.inlineAttachments=R.body.inlineAttachments.concat((S.body&&S.body.inlineAttachments)||[]);if(S.body&&S.body.display){R.body.display=[R.body.display,S.body.display].join("");}R.yivPrefixNumber=R.yivPrefixNumber||S.yivPrefixNumber||"";}function F(R){if(R){return{from:A.escapeEmailObject(R.from),subject:A.escapeStringField(R.subject),to:A.escapeEmailObjectArray(R.to),cc:A.escapeEmailObjectArray(R.cc),bcc:A.escapeEmailObjectArray(R.bcc),replyto:A.escapeEmailObjectArray(R.replyto)};}}function E(V,T){V.cookedHeader=F(V.header);if(V.part){var S=0,U=V.part,R;O(V);while(R=U[S++]){Q(V,R,T);N(V,R);}}(V.body||(V.body={}))&&(V.body.display||(V.body.display=""));if(V.hasForwardedMsg){V.body.display=[strings.str_comp_reply_fwdHeader,"<br/><br/>",V.body.display].join("");}if(V.body&&V.body.display){I(V.body);}}function Q(T,S,U){if(!S.size){S.size=S.size||0;}var R=S.isTruncated&&((S.disposition=="inline"||!S.disposition)&&!S.referencedInline&&(S.subtype==="plain"||S.subtype==="html"));S.isTruncated=R;switch(S.type){case"text":P(T,S,U);break;case"image":G(T,S,U);break;case"message":L(T,S,U);break;default:M(T,S,U);break;}}function J(S,R){if(!R.filename){R.filename=R.partId+".txt";}S.attachments.push(R);S.nonImgAttachments.push(R);}function P(S,R,T){if(typeof R.text=="string"){if((R.disposition=="inline"||!R.disposition)&&!R.referencedInline&&(R.subtype==="plain"||R.subtype==="html")){if(typeof S.body.display=="undefined"){S.body.display=R.text;S.body.isPlainText=R.subtype=="plain";}else{S.body.display+="<br />"+R.text;}}else{J(S,R);}}}function G(T,S,U){var V=(S.subtype||"").toLowerCase(),R=(V in K)||0;if(!S.referencedInline){if(!R){M(T,S);}else{if((S.disposition=="inline"||(!S.disposition&&S.contentId))&&!T.isTruncated){if(U.key.blockImages!="none"){T.hasBlockedImages=true;}else{downloadUrl=["http://",location.hostname,"/ya/download","?mid=",encodeURIComponent(U.msg.mid),"&pid=",encodeURIComponent(S.partId),"&fid=",encodeURIComponent(U.fid),"&inline=1"].join("");if(NeoConfig.useTNServer&&S.thumbnailurl){T.body.display=[T.body.display,"<div id='part",S.partId,"'>","<img src='",S.thumbnailurl,"&httperr=1&h=600&w=600' ","onerror='bN=document.getElementById(\"part",S.partId,'");bN.innerHTML="<img src=\\"',downloadUrl,'\\" />";\' />',"</div>"].join("");}else{T.body.display=[T.body.display,"<img src='",downloadUrl,"' />"].join("");}C("processbody","inline_image_download");}}}}if(!S.filename){S.filename=strings.str_nav_left_untitled+S.partId+"."+S.subtype;}if(R){S.isDisplayable=true;T.imgAttachments.push(S);T.attachments.push(S);}}function L(U,S,V){var W=(S.subtype||"").toLowerCase(),T,R;if(W=="rfc822"){if(S.partId!="TEXT"||U.part.length==2){U.attachments.push(S);U.nonImgAttachments.push(S);}if(S.disposition==""){U.hasForwardedMsg=true;}if(R=S.message){if(!S.filename){T=R.header.subject.substring(0,240)||strings.str_comp_nosubject;S.filename=T+".eml";}E(R,V);N(U,R);}}}function M(Z,S,Y){var V=(S.subtype||"").toLowerCase(),R=(S.type||"").toLowerCase(),b,T,W,U=0,X=Z.attachments,a=Z.nonImgAttachments;if(R=="application"&&V=="ms-tnef"){if(b=(S.attachments||[])){T=b.length;for(U;U<T;U++){W=b[U];if(W&&W.name){W.filename=W.name;W.partId=S.partId;W.tnefId=W.id;}}a=Z.nonImgAttachments=a.concat(b);}}else{if(!S.filename){S.filename=strings.str_nav_left_untitled+S.partId;}X.push(S);a.push(S);}}function I(R){var T=R.display,U='<div id="STATIONERY_STYLE">',W,V,S;if(/id="STATIONERY_STYLE/.test(T)){T=T.replace(/div\s*id="STATIONERY_STYLE"/,'div id="STATIONERY_STYLE"');W=T.indexOf(U);if(W>-1){V=T.indexOf("</div>",W);S=T.substring(W+U.length,V);T=T.substring(0,W)+T.substring(V+6);R.display=T;R.stationery=S;}}}D.mix(D.mail.Controller.Messages,{_process:function(S,R){S&&!S.body&&H(S,R);}},true);};},"1.0.0",{requires:["common-utils","common-utils-stats"]});

YUI.add("mail-model-datastore",function(D){D.namespace("mail.model");var E="ds:folder:",M="ds:msg:",N="invalidarg",H="change",I="add",B="rename",G="remove",K="%40S%40Search",Q=D.mail,J=D.Lang,P=D.common.Utils,O=function(){return{extend:{}};},F=50,L=Q.model.DataStore={};function C(V,U){var T,S,R;if(J.isObject(V)){S=V.extend=V.extend||{};R=(U&&U.extend)||{};for(T in R){if(!S[T]){S[T]={};P.merge(S[T],R[T]);}}}}function A(S){try{D.fire.apply(D,S);}catch(R){D.use("common-utils-error",function(){P.error.report("datastore error",R,1,1);});}}D.mix(L,{Folders:(function(){var Z=[];function U(d){return(J.isString(d)?d:(d&&d.folderInfo&&d.folderInfo.fid));}function a(d){try{return J.isObject(d)&&U(d);}catch(f){}return false;}function X(d){return(d&&d.folder&&J.isArray(d.folder));}function T(h,e,f){for(var g=0,d=Z.length;g<d;g++){if((f&&h==Z[g].folderInfo.name)||h==Z[g].folderInfo.fid){return e?g:Z[g];}}return e?-1:null;}function V(f){var k,h=!f||(J.isObject(f)&&P.isEmpty(f)),d,g,e=O(),j;if(h){d=[];for(g in Z){d.push(P.wcopy(Z[g],e));}k=d.length?d:null;}else{if(!(j=U(f))){D.error(E+"get:"+N);}k=P.wcopy(T(j),e);}return k;}function W(d){return P.wcopy(T(d,false,true),O());}function S(n,m,h){var e,l,k,o,q=n.numberOfFolders,d,f=O(),p=[],g=[],j=Z.length==0,r=!j&&[],u=!j&&[];function t(x){for(var w=0,v=x.length;w<v;w++){if(T(x[w].folderInfo.fid,true)==-1){return true;}}}function s(v,i){P.assert(a(v));var AA=U(v),y,z={},x,w;if(j&&i){return;}if(AA&&AA!=K){if(j){w=v;y=P.merge({},v);Z.push(y);}else{x=T(AA,true);if(x==-1){if(i){return;}D.error(E+"set:"+N);}z=Z[x]||z;w=h?v:P.diff(v,z);if(w){y=h?{}:P.wcopy(z);P.merge(y,w,true);!i&&Z.splice(x,1,y);}}if(w){C(y,z);p.push(P.wcopy(y,f));r&&r.push(z);u&&u.push(w);}}else{g.push(v);}}if(!(a(n)||(o=X(n)))){D.error(E+"set:"+N);}if(o){e=n.folder;k=e.length;if(d=(!j&&q&&((q!=Z.length)||t(n.folder)))){for(l=0;l<k;l++){s(e[l],d);}if(p.length){A([E+H,r,p,u,m]);}R();j=true;p=[];g=[];r=u=false;}for(l=0;l<k;l++){s(e[l]);}}else{s(n);}if(p.length){A([E+H,r,p,u,m]);}return g;}function c(d,e){if(!U(d)){D.error(E+"add:"+N);}Z.push(P.merge({},d));A([E+I,d,e]);}function Y(i,g,h){var f=U(i),d=T(f,true),e=Z[d];if(!f||!e){D.error(E+"rename:"+N);}P.merge(g,e);Z.splice(d,1,g);A([E+B,e,P.wcopy(g,O()),h]);}function b(e,f){var g=U(e),d=T(g,true);if(!g||d==-1){D.error(E+"remove:"+N);}Z.splice(d,1);A([E+G,J.isObject(e)?e:{folderInfo:{fid:g}},f]);}function R(){Z.length=0;}return{get:V,getByName:W,set:S,remove:b,rename:Y,add:c,extend:C,flush:R};})()});D.mix(L,{Messages:(function(){var f={},b={},n={olist:[],max:F,sync:{}},u=null,i={},s={};function r(w){var v;if(w&&J.isString(w)){v={mid:w};}else{v=J.isObject(w)&&w.mid&&w;}return v;}function V(w,AB,x){var z,v,y,AC,AD,AA=(J.isString(AB)||!AB)?AB:AB.mid;if(!w||!AA){D.error(M+"get:"+N);}z=f[w]||{};v=z[AA];if(x&&v&&v.part){AD=n.olist;for(y=0;y<AD.length;y++){if(AD[y].fid==w&&AD[y].mid==AA){AC=AD.splice(y,1);AD.push(AC[0]);break;}}}if(!v&&j(AA)){AA=c(AA);for(AC in z){if(c(AC)==AA){v=z[AC];break;}}}return P.wcopy(v,O());}function Y(z,x){var y,v,w=(J.isString(x)||!x)?x:x.mid;if(!z||!w){D.error(M+"get:"+N);}y=f[z]||{};return !!((v=y[w])&&v.part);}function o(v,AF,AL,AB,AA,w){var AJ,AG=AB,AN=J.isArray(AF),AD=AN?AF:[AF],x=J.isArray(w)?w:[w],z=[],AH=[],AC=[],AM=[],AK=O(),y,AI;if("Sent"==v&&"add"==AL&&J.isString(AF)){n.sync[v]=AI=true;}function AE(AS,AU){var AO,AQ,AP,AR,AT;if(AO=r(AS)){AR=AO.mid;f[v]=f[v]||{};AQ=f[v][AR]||{};AT=P.diff(AO,AQ);if(AT){AP=AB?{}:P.wcopy(AQ,AK);AP=P.merge(AP,AB?AO:AT,true);AG=AG&&(P.isEmpty(AQ)||(AT.part&&!AQ.part));if(u){if(AQ.cid){AP.cid=AQ.cid;}if(AQ.sourceFolderInfo){AP.sourceFolderInfo=P.wcopy(AQ.sourceFolderInfo);}if(!AQ.header&&AP.header){AP.header.receivedDate=AQ.receivedDate;}}!AI&&a(v,AA?AA(AP):AP,AG,AU);C(AP,AQ);AH.push(P.wcopy(AP,AK));z.push(AQ);AM.push(AT);}}else{AC.push(AS);}}if(!v){D.error(M+"set:"+N);}for(AJ=0;AJ<AD.length;AJ++){AE(AD[AJ],x[AJ]);}if(AH.length){y=[M+(AG?I:H),v];y=y.concat(AG?[AH,AL]:[z,AH,AM,AL]);A(y);}return AC;}function h(AC,y){var x,AB,AA,v=n.sync,w,z;if(v[AC]&&(AA=f[AC])&&y){for(x=0;x<y.length;x++){if(AB=AA[y[x].mid]){if(!AB.flags){AA[y[x].mid]=Z(AC,y[x]);}else{AB.flags=y[x].flags;}}}v[AC]=0;}if(w=s[AC]){for(x=0;x<y.length;x++){if(z=w[c(y[x].mid)]){P.merge(y[x],z,true);}}}}function S(y,v){var x,w;w=f[y]=f[y]||{};if(x=w[v.mid]){if(!x.flags){w[v.mid]=Z(y,v);}else{if(!x.header){w[v.mid]=v;}else{if(v.cid){x.cid=v.cid;}x.flags=v.flags;}}}else{w[v.mid]=v;}}function X(AB,x,y){var AA,w,AC,z,v=n.olist;AA=f[AB];if(AA&&AA[x]){z=AA[x].part;if(!y||!z){delete AA[x];for(w=0;w<v.length;w++){if(v[w].fid==AB&&v[w].mid==x){v.splice(w,1);break;}}}}}function k(w,AC,z){var v,y,x,AB,AA=0;for(v in AC){y=w[v]=AC[v];if(z&&(v in z)){x=z[v];if(typeof x=="object"){AB={};w[v]=D.Object(AB);AA|=k(AB,y,x);}else{if(y!=x){AA=1;w[v]=x;}}}}for(v in z){if(!(v in AC)){x=z[v];if(typeof x=="object"){AB={};w[v]=D.Object(AB);AA|=k(AB,{},x);}else{AA=1;w[v]=x;}}}return AA;}function q(AA,AE,AH,AC){var z,AI,w,v=D.clone(AH,1),y=AH.flags,AB=0,x=O(),AG=[],AF=[],AD=[];if(y&&y.isSpam){delete v.flags.isRead;}if(!J.isArray(AE)){AE=[AE];}f[AA]=f[AA]||{};for(;AB<AE.length;AB++){AI={};if(k(AI,z=f[AA][AE[AB].mid]||AE[AB],AH)){f[AA][z.mid]=AI;AG.push(z);z.flags.isRead?AF.push(v):AF.push(AH);for(w in x){AI[w]=x[w];}AD.push(P.wcopy(AI,x));}}AG.length&&A([M+H,AA,AG,AD,AF,AC]);}function e(AK,z,AI,AL,AD){var AA,AB,AF,y,AH,x,v,AG=[],AE=[],w=O(),AJ=[],AC=0;AA=f[AK]=f[AK]||{};while(AB=AI[AC]){AF=AL[AC++];AH={mid:AF,folderInfo:{fid:z}};x={};k(x,i[AB]||{},AH);y=c(AF);if(b[y]){b[y].fid=z;}delete i[AB];x.extend={};AG.push({});for(v in w){x[v]=w[v];}AE.push(P.wcopy(x,w));AJ.push(AH);}A([M+H,z,AG,AE,AJ,AD]);window.CollectGarbage&&CollectGarbage();}function g(w,AD,x){var AB,z,y,AA,AI,v,AC,AF,AE=[],AH=n.olist,AG=!AD||J.isArray(AD)?AD:[AD];if(!w){D.error(M+"remove:"+N);}AB=f[w];if(!AG){delete f[w];z=0;while(z<AH.length){if(AH[z].fid==w){AH.splice(z,1);}else{z++;}}}else{for(z=0;z<AG.length;z++){v=r(AG[z]);AF=v.mid;if(AC=AB&&AB[AF]){delete AB[AF];}for(y=0;y<AH.length;y++){if(AH[y].fid==w&&AH[y].mid==AF){AH.splice(y,1);
break;}}if(AC&&AC.header&&(AA=v.header)&&(AI=AA.size)){AC.header.size=AI;}AC=AC||v;i[AF]=AC;AE.push(AC);}}A([M+G,w,AE.length&&AE,x]);}function d(v){f={};n={olist:[],max:F,sync:{}};if(v){i={};}}function W(v){u=v;}function U(z){var y,w,x,v;for(y in f){w=f[y];for(x in w){if(v=w[x].extend){delete v[z];}}}A([M+"flushExt",z]);}function R(v){this.mid=v;}R.prototype={flags:{},fromConnection:{},folderInfo:{},sourceFolderInfo:{},inboxservices:{},header:{from:{email:"",name:""},to:[],subject:"",subjectDir:"",xapparentlyto:"",msgSnippet:"",externalPopServer:"",receivedDate:"",size:0},cookedHeader:{from:{email:"",name:""},to:[],subject:""}};function Z(x,AC){var v,z=0;if(AC&&AC.mid){for(v in AC){z++;}if(z==1){return new R(AC.mid||"");}}AC=AC||{};var AB=AC.subject||"",AD=AC.from,AE=AC.toEmail,y={mid:AC.mid||"",cid:AC.cid||"",flags:AC.flags||{},fromConnection:AC.fromConnection||{},folderInfo:AC.folderInfo||{},sourceFolderInfo:AC.sourceFolderInfo||{},inboxservices:AC.inboxservices||{},header:{from:AD?w(AD):{email:"",name:""},to:[],subject:AA(AB),subjectDir:(NeoConfig.bidi&AC.subjectDir)?AC.subjectDir:"",xapparentlyto:AC.xapparentlyto||"",msgSnippet:AC.snippet||"",externalPopServer:AC.externalPopServer||"",receivedDate:AC.receivedDate||AC.date||"",size:AC.size||0}};AE&&(y.header.to[0]={name:AE,email:""});y.cookedHeader={from:AD?P.escapeEmailObject(y.header.from):"",subject:AB?P.escapeStringField(y.header.subject):"",to:AE?P.escapeEmailObjectArray(y.header.to):[]};return y;function AA(AF){return(AC.mid&&j(AC.mid,x)&&AF.replace(/\^_/g,""))||AF;}function w(AF){var AG=AF&&AF[0];if(AG){return{email:AG.email||AG.address||"",name:AG.name||AG.displayname||""};}return AF;}}function p(x,w){w=w||{};var y=w?w.header||{}:{},v={mid:w.mid||"",cid:w.cid||"",flags:w.flags||{},from:y.from||"",fromConnection:w.fromConnection||{},folderInfo:{fid:x||"",name:""},sourceFolderInfo:w.sourceFolderInfo||{},toEmail:(y.to?y.to.name||(y.to[0]&&(y.to[0].name||y.to[0].email))||"":""),subject:y.subject||"",xapparentlyto:y.xapparentlyto||"",externalPopServer:y.externalPopServer||"",receivedDate:y.receivedDate||"",msgSnippet:y.snippet||"",receivedDate:y.receivedDate};return v;}function c(v){P.assert(J.isString(v));return v.substr(v.lastIndexOf("_"));}function j(v,w){return/^1_0_/.test(v)||(w==K);}function T(v,x,w,y){return !j(v,w)&&!j(x,y)&&(v!=x)&&(c(v)==c(x));}function m(z,v,y){var w,x=f[z];for(w in x){if(!x[w].flags){return 0;}x[w].flags[v]=y;}return 1;}function t(AB,y){var w,AA,z,x,v=n.olist;AA=AB.folderInfo.fid;if(x=f[AA]){delete f[AA];z=y.folderInfo.fid;f[z]=x;for(w=0;w<v.length;w++){if(v[w].fid==AA){v[w].fid=z;}}}}function l(AB,y,AD,z){var x,w,AC,v,AA;if(z==M){return;}for(x=0;AD&&x<AD.length;x++){AC=AD[x];w=y[x];v=w.folderInfo.fid;if(!(J.isUndefined(AC.total)&&J.isUndefined(AC.unread))){AA=(AC.unread==w.total||AC.unread==0)?(w.unread?0:1):undefined;m(v,"isRead",AA);n.sync[v]=AA===undefined;}if(!(J.isUndefined(AC.unread)&&J.isUndefined(AC.total)&&J.isUndefined(AC.size))){A([M+"flush",v,AD,z]);}}}function a(z,x,AC,AF){var AG,AD=x.mid,w=c(AD),AH=n.olist,y,v,AA,AB,AE;if(AC){if(AH.length>=n.max){AG=AH.shift();P.assert(f[AG.fid]);if(f[AG.fid]){if(AG.cid&&u&&u.hit(AG.fid,AG.cid)){y=f[AG.fid][AG.mid];if(y){f[AG.fid][AG.mid]=p(AG.fid,y);}}else{delete f[AG.fid][AG.mid];}}}AH.push({fid:z,mid:x.mid});}if(AF&&AF.charsetHint&&(AE=x.header)){s[z]=s[z]||{};s[z][w]=AE;}f[z][AD]=x;b[w]=AF;}D.on(E+B,t);D.on(E+H,l);return{get:V,set:o,move:e,update:q,remove:g,extend:C,flush:d,flushExt:U,toMessage:Z,toMessageInfo:p,getPermMidPart:c,hasMoved:T,isSearchMid:j,isCached:Y,syncHeaders:h,syncConvHeader:S,removeConvMsg:X,setConvStore:W,applyDiff:k,cacheSize:function(v){!isNaN(v)&&(v>0)&&(n.max=v);},getParam:function(v){return b[c(v)];}};})()});},"1.0.0",{requires:["common-utils","json-stringify"]});

YUI.add("mail-net-transport",function(B){B.namespace("mail.net");B.mail.net.Transport=function(){var U=B.common.net,E=U.SessionMgr,T=B.common.Utils,O=U.Error,M=E.makeFaultObject,P,S="/jsonrpc?appid=_APPID_&m=",H="/ws/mail/v2.0"+S,I="/ws/mailPreferences/v1"+S,N=H.replace(/jsonrpc/,"formrpc"),R={GetUserPreferences:I,SetUserPreferences:I,ListFolders:N,ListMessages:N,ListFolderThreads:N,ListMessagsInThread:N},D=function(V){return/formrpc/.test(V);};function L(V,a){var Z,b=B.JSON.stringify,W="badparam_",X,Y={"method":V,"params":[a]};Z=b(Y)||"";if(!(/method/.test(Z))){X=Z==""?"empty_":"nomethod_";}else{if(V=="GetDisplayMessage"||V=="MoveMessage"||V=="FlagMessage"){if(!Z.match(/\"mid\"/)||Z.match(/\"mid\":\"\"/)||Z.match(/\"mid\":\[\]/)){X="nomid_";}}}if(X){X=W+X+V;T.rocketstats.stat("mailnet",X);T.assert(0,W,1,function(){if(NeoConfig.isInternal){alert(["Bad param sent:",V,X,"Pl. contact yahoo-mail-dev-support@yahoo-inc.com"].join(" "));}return[X,Z,"params",(a?b(T.merge({},a)):a)].join(" ");});}return Z;}function F(X){function Y(b){var a,Z={};for(a in b){if(b[a]!==undefined){Z[a]=b[a];}}return Z;}var W=["&o=json"],V=E.formatQueryParams(Y(X),true);if(V.length){W.push("&",V);}return W.join("");}function K(Y,W){function X(){var h=d.result.response,m,l,k=[],g,j;for(j=0;j<h.length;j++){m=h[j];if(!m.success){l=m.ErrorResponse||{};l.callback=B.mix(a.batchopcbk[j]||{},{suppressCodes:a.suppressCodes,service:"mail",exceptCodes:a.exceptCodes,suppressLogs:a.suppressLogs,exceptLogs:a.exceptLogs},false);l.status=500;l.fault=M(l.code||"Server.MalformedFault",l.string,{idx:j});k.push(l);}}return k.length&&M("BatchItemError",null,k);}var d=W.body||{},f,e=W.fault,Z=D(Y.request.url),c,b=W.status,V=W.responseText||"",a=W.callback;if(e){if(e.code==O.parse){if(V.match(/<code>Server.ServiceTemporarilyUnavailable<\/code>/)){e.code="Server.ServiceTemporarilyUnavailable";}else{c=W.allHeadersText;c=(c.indexOf("system.hostname")>-1)?"-mail":"-unk";e.code="Server."+(e.detail.respTxt==""?"NoResponse":((f=E.isHtml(W))?"HTMLResponse":"Malformed"))+c;e.subcode=f;}}}else{if(d.error||d.fault){d=d.error||d.fault;}if(b==500){e=M(d.code||"Server.MalformedFault",d.message,d.detail||W);W.body=d;}else{if(b==200){if(Z){W.body={result:d};}else{if(a.batchopcbk){e=X();}}}}W.fault=e;}}function C(X,a,b){var Y={},W,V,Z=(b&&b.appid)||"YahooMailNeo";a=a||{};if(!X){throw new Error("CascadeMethod");}Y.headers=a.headers;delete a.headers;W=Y.url=(R[X]||H).replace(/_APPID_/,Z)+X;if(D(W)){V=F(a);if((W.length+V.length)>=2048){V=null;}else{Y.url+=V;}}if(!V){Y.post=function(c){return L(X,c||a);};}Y.callback=J(b,X,a);return Y;}function Q(X,V){var W=P.format[V.callback.responseType];if(W){W(X,V);}}function J(b,V,Z){var a,W,Y,X;if(!b){b={};}B.mix(b,{responseType:"json",method:V,service:"mail",formatter:P.formatter,suppressCodes:[],exceptCodes:[],suppressLogs:[],exceptLogs:[],timeout:NeoConfig.mailwstimeout},false);return b;}function G(V){return P.queue?P.queue(V):V;}P={request:function(V,b,c,Y){var Z,X=C(V,b,c),a=X.headers||{},W;Z=G(E.request(X.url,X.post,X.callback,X.post?"POST":"GET"));a["Accept"]="application/json";for(W in a){Z.setHeader(W,a[W]);}if(Y){Z.send();}return Z;},formatter:Q,format:{"json":K}};return P;}();var A=B.common.persist.NeoData.get("mailnetQueue");if(A||(typeof A==="undefined")){B.use("mail-net-queue",function(){});}if(NeoConfig.enable_etp&&NeoConfig.isInternal){B.use("mail-net-diag","mail-net-ETP");}else{B.use("mail-net-diag");}},"1.0.0",{requires:["common-net-sessionmgr","json-stringify","common-persist-neo-data"]});

YUI.add("mail-net-queue",function(B){var E=B.mail.net.Transport,H=[],D=false,I="mailnet:queue",C="mailnet:dequeue",J={"GetDisplayMessage":1,"GetMessage":1};function L(N){return !J[N];}function K(N,P){P=P||{};var O=P.method;D=D||(P.service=="mail"&&L(O));}function M(N,Q){var O,Q=Q||{},P=Q.service=="mail"&&L(Q.method);if(P){D=false;if(H.length>0){O=H.shift();B.fire(C,O,H.length);O.send();}}}function G(O,N){if(L(N)&&(D||H.length>0)){H.push(O);B.fire(I,O,H.length);}else{O.send();}}function F(Q,O){for(var P=0,N=H.length;P<N;P++){if(Q.id==H[P].id){H.splice(P,1);B.fire(C,Q,H.length,true);return;}}if(Q){Q.abort();}}function A(O){function N(P){this.send=function(){G(P,this._callback.method);};this.abort=function(){F(P,this._callback.method);};}N.prototype=O;return new N(O);}B.on("net:start",K);B.on("net:complete",M);B.on("net:abort",M);B.mix(E,{queue:A},true);},"1.0.0",{requires:["mail-net-transport"]});

YUI.add("mail-net-diag",function(A){A.namespace("mail.net");A.mail.net.Diag=function(){var G=A.JSON,C=A.common.net.Diag;function B(H){return H&&H.service=="mail";}function E(H,I){return B(I)&&{log:[D(H,I),"Request :",G.stringify(H.request).substring(0,500)].join(" ")};}function F(J,N){var R=N.callback,H,L,M,I="",Q,P=N.fault,K="request.time.total";try{if(B(R)&&N.responseHeaders){H=N.responseHeaders["X-Ywsc-Debug"];H=H&&H.length?G.parse(H):{};if(!H[K]){H[K]=N.responseHeaders["X-Response-Time"];}if(M=H[K]){C.addStat("mailws","RespTime_"+R.method,H[K]);}if(M&&(M>1000)){M='<span style="color:red">'+M+"</span>";}L={log:G.stringify(H),dbgui:["ws :",(M||"X")," ms"].join("")};}}catch(O){}return L||"";}function D(I,R){function K(T){var V;try{return(V=T.postdata)&&G.parse(V).params[0];}catch(U){}}if(B(R)){var M,P=I.request,L,Q,N,S,J,O="",H=R.method;if(N=R.batchop){J="<br/> ---";O=N.join(J);}else{if(O=="ListMessages"){O=((Q=P.url.match(/startInfo=(\d)+/))&&Q[0]);}else{if(O=="GetDisplayMessage"&&(S=((L=K(P))&&L.message))){for(M=0;S&&M<S.length;M++){O+=" "+S[M].mid;}}}}return O;}}C.addLogger("net:start",E);C.addLogger("net:end",F);}();},"1.0.0",{requires:["common-net-diag","json-stringify","json-parse"]});

YUI.add("mail-ui-messagepane-utils",function(G){G.namespace("mail.ui.MessagePaneUtils");var H=G.mail.ui.MessagePaneUtils,D=G.common.Utils;function F(I){if(I){I.hRenderedEvent&&I.hRenderedEvent.detach();delete I.hRenderedEvent;}}function C(K,L){var P,Q,I,N,R,J=[],O,T,S,M=[];if(K&&!NeoConfig.targetingOptOut){if(K.extend&&K.extend.shortcuts){P=K.extend.shortcuts.categories;if(G.Lang.isArray(P)){R=P.length;for(N=0;N<R;N++){O=P[N][0];J.push(O);}}Q=K.extend.shortcuts.annotations;for(N in Q){I=Q[N];if(I&&I.text){if((I.weight>0&&I.csScore>0)||I.capAbtScore>0.5){M.push(Q[N].text);}}}}J=J.join(",");if(L!="Draft"&&L!="%40C%40Chats"&&L!="Sent"){if(K.header&&K.header.from&&K.header.from.email){S=K.header.from.email.split("@");T=S[1];}}}return{category:J,domain:T,terms:M};}function A(I){I.stop();D.Stopwatch.get("MsgInPreview",0);}function E(I,Q,K,P){var N,M;if(!I||(I.mid!=P)){var O=Q&&Q.isSandboxActive&&Q.isSandboxActive(),L=O&&NeoConfig.om&&NeoConfig.om.isMsgReadAppRTB,J;I=D.Stopwatch.get("MsgInPreview","MsgInPreviewAbort",1);I.title="MsgInPreview Stopwatch (sandbox "+(O?"enabled":"disabled")+")\n";I.mid=P;I.hRenderedEvent&&I.hRenderedEvent.detach();I.hMsgReadAppEvent&&I.hMsgReadAppEvent.detach();if(Q){N=G.mail.model.DataStore.Folders.get(K);M=G.mail.ui.common.StringUtils.getSystemFolderName(K,N.folderInfo.name);I.hRenderedEvent=Q.once("renderComplete",function(){F(I);if(!L){A(I);}G.use("rocket-stats",function(S){var R=(Q.get("vertical"))?"vertpreviewMessageRead":"previewMessageRead";S.common.Utils.rocketstats.stat("messageread",R);});Q&&Q.get("active")&&Q.fire("darlaEvent",{action:(NeoConfig.low_bandwidth)?"msgread_reading_pane_low":(NeoConfig.ssl_launch?"msgread_reading_pane_ssl":"msgread_reading_pane"),value:{siteAttr:C(G.mail.model.DataStore.Messages.get(K,P),K),foldername:M}});});if(L){J=G.later(3000,null,A,[I]);I.hMsgReadAppEvent=Q.once("msgReadAppComplete",function(){J.cancel();A(I);delete I.hMsgReadAppEvent;});}}}return I;}function B(K){if(G.contacts&&G.contacts.utils&&G.contacts.api){var J=G.contacts,L=J.utils,M=J.api,I=G.common.persist.UserData;if(!K||K===""){return 1;}if(I.isUsersEmailAddress(K)||L.isEmailKnown(K,true)){return 1;}if(!L.areContactsLoaded()){M.load();return 1;}return 0;}else{return 1;}}G.mix(H,{getAdSiteAttribsFromMesgObj:C,handleMsgInPreviewStopwatch:E,cleanUpStopwatch:F,isKnownEmailAddress:B});},"1.0.0",{requires:["common-utils-stats","mail-ui-messagepane-utils-shared"]});

YUI.add("mail-ui-messagepane-utils-shared",function(A){A.namespace("mail.ui.MessagePaneUtils");var B=A.mail.ui.MessagePaneUtils;function D(Q){var M="",K,P,O,L,J=Q.toLowerCase();if(J.indexOf("http://")==0||J.indexOf("https://")==0||J.indexOf("ftp://")==0){return"";}if(J.indexOf("mailto:")==0){Q=Q.substring(7);}K=Q.indexOf("?");if(K>-1){Q=Q.substring(0,K);}if(Q&&Q.length){P=/\s*([^@ ;,<>]+@[^@ ;,<>]+\.[^@^? ;,<>]+)*/ig;O=Q.match(P);for(var N=0;N<O.length;N++){L=O[N].replace(/^\s+/,"");if(L.length){M+=(M.length)?(","+L):L;}}}return M;}function I(M){var J="";if(M&&M.length){var L=/^(http:\/\/opi.yahoo.com\/online\?u=[a-zA-Z0-9.@_]+)/i,K=M.match(L);J=K?K[K.length-1]:"";}return J;}function G(M){var K="",N="";var L=M&&M.all("tt");if(L&&!L.isEmpty()){N=L.get("innerHTML").join("");}else{N=M&&M.get("innerHTML");}if(N&&N.length){N=N.replace(/&amp;/gi,"&");var J=/^(http:\/\/mrd.mail.yahoo.com\/)(\w+)\?*(.*)/i;K=N.match(J)?N:false;}return K;}function H(K,N,M){var L=N||(K&&((!M&&K.one(".tripane.content"))||K.one(".message.content"))),J=L&&L.all(".yshortcuts");if(J){J.each(function(P){var O=P.get("innerHTML"),T=D(O);if(T&&T.length){var U=P.get("parentNode");if(U.get("tagName")=="A"&&U.hasAttribute("ymailto")){}else{var S=[];S.push('<a href="mailto:'+T+'" ');S.push('target="_blank" ymailto="mailto:'+T+'" rel="nofollow">');S.push('<span id="'+P.get("id")+'" class="yshortcuts">');S.push(O);S.push("</span></a>");var W=A.Node.create(S.join(""));try{P.replace(W);}catch(Q){}}}else{var V=I(O);if(V){var S=[];S.push('<span id="'+P.get("id")+'" class="yshortcuts">');S.push('<img src="'+V+'" alt="'+V+'"/>');S.push("</span>");var W=A.Node.create(S.join(""));P.replace(W);}else{var R=G(P);if(R){var S=[];S.push('<a href="#" target="_blank" rel="nofollow">');S.push('<span id="'+P.get("id")+'" class="yshortcuts">');S.push(O);S.push("</span></a>");var W=A.Node.create(S.join(""));W.setAttribute("ymrd",R);P.replace(W);}}}});}}function F(J){var Q=0,L=0,K=0,S=0,M=J.one(".message-header h3 span.btn"),R="",O=J.one(".message-header h3"),N=J.one(".header-expand"),P=J.one(".subanchor");if(M){S=M.get("offsetWidth");}if(O&&N){Q=(O.get("offsetWidth"))-29;L=N.get("offsetWidth");K=(Q-(L+S));R="max-width:"+K+"px";if(P){P.setAttribute("style",R);}}}function E(L){var J=L?A.one(L).one("body"):A.one("body");if(!J.one("#copyText")){var K=500;J.append('<input type = "text" value = "" style = "opacity: 0;  filter: alpha(opacity = 0); position:absolute; width:1px; height: 1px; left:'+K+'px;" id = "copyText">');}}function C(N,L,M){var J=L?A.one(L).one("body"):A.one("body"),K=J.one("#copyText");K._node.value=N;K.setY(J.get("scrollTop")+20);K.focus();K.select();setTimeout(function(){if(M){M.focus();}},200);}A.mix(B,{extractEmailAddress:D,extractOPILink:I,extractMRDLink:G,convertShortcuts:H,resizeSubject:F,initializeCopyText:E,copyToClipboard:C});},"1.0.0");

YUI.add("mail-ui-common-string-utils",function(D){D.namespace("mail.ui.common.StringUtils");var C=D.mail.ui.common.StringUtils,B=D.common.Utils,A=B.escapeHtml;D.mix(C,{getSystemFolderName:function(H,E,G,F){switch(H){case"Inbox":if(F){return strings.str_nav_email_from_ctcts;}return G?strings.str_tabs_inbox:strings.str_nav_inbox;case"Draft":return G?strings.str_tabs_drafts:strings.str_nav_drafts;case"Trash":return G?strings.str_tabs_trash:strings.str_nav_trash;case"Sent":return G?strings.str_tabs_sent:strings.str_nav_sent;case"%40B%40Bulk":return G?strings.str_tabs_spam:strings.str_nav_spam;case"%40C%40Chats":if(NeoConfig.hasConv){return G?strings.str_tabs_IM:strings.str_nav_IM;}else{return G?strings.str_tabs_conversations:strings.str_nav_conversations;}case"%40S%40Search":return strings.str_tabs_search;}return E?A(E):"";}});},"1.0.0",{requires:["common-utils"]});

YUI.add("mail-ui-navkeys",function(E){E.namespace("mail.ui");var A={"input":1,"textarea":1,"select":1};var C={};E.mail.ui.navKeys={charCodes:[8,27,191,67,69,77,78,83],onKeyDown:function(P){P=P||{};var R=E.mail.Tabs,T=P.keyCode,U=P.metaKey,F=P.ctrlKey,M=P.altKey,H=P.shiftKey,Q=P.target,I=Q&&Q._node?Q.get("tagName").toLowerCase():"",L,J=R.getTab(function(V){return V.type&&V.type==="author"&&V.composeActive&&V.get("active")==1;}),N=E.one("#custom-folders li:hover"),S=E.one("#system-folders li:hover"),K=E.UA.os=="windows",O=E.UA.os=="macintosh";if(!(I in A)&&(!J||T==8||T==191)){if(F&&H&&T=="67"){E.one("body").toggleClass("l-headercollapsed");}if(((K&&F&&H)||(O&&U&&H))&&T=="191"){E.use("common-ui-dialog-helper",function(a){var Z=a.common.ui.DialogHelper,W=[],V,X;for(X in NeoGV.ads){if(NeoGV.ads.hasOwnProperty(X)){V=[];V.push("Position:");V.push(X);V.push(" ");V.push("AdID:");V.push(NeoGV.ads[X].adId);V.push(" ");V.push("MatchID:");V.push(NeoGV.ads[X].matchId);W.push(V.join(" "));}}Z.alert({modal_classes:"lg",hd:"Ad Information",bd:"<pre>"+(W.length>0?W.join("\n"):"No items to display in this view")+"</pre>"});P.preventDefault();});}if(!U&&!F&&!M){switch(T){case 8:P.preventDefault();break;case 27:var G=R.getActiveTab();if(G&&G.widget.type=="omtab"){G.set("close",1);}P.preventDefault();break;case 78:setTimeout(function(){E.fire("newMessage");},0);P.preventDefault();break;case 77:E.fire("checkmail:pressed",P.shiftKey);break;case 83:P.preventDefault();E.use("mail-ui-searchbar",function(V){V.mail.ui.SearchBar.focus();});break;case 67:if(N){P.currentTarget=N;E.fire("#custom-folders.li:keydown",P);}break;case 69:if(S){P.currentTarget=S;E.fire("#system-folders.li:keydown",P);}if(N&&NeoConfig.emptyFolders){P.currentTarget=N;E.fire("#custom-folders.li:keydown",P);}break;case 191:if(H){E.use("mail-ui-shortcuts-dialog",function(V){V.mail.ui.ShortcutsDialog.show();});}break;default:L=B(T,H);if(E.Object.hasKey(C,L)){E.use("om-common-utils",function(V){V.om.common.Utils.fireEvent(C[L]);});P.preventDefault();}break;}}else{if((T==69)&&H&&((!O&&F)||(O&&U))){P.preventDefault();if(P.target.getAttribute("id")=="menu-move"){E.fire("msgsview:movetonewfolder");}else{E.fire("newfolder:pressed");}}}}},onKeyPress:function(G){if(E.UA.os=="macintosh"&&E.UA.gecko&&G.charCode==63){var F=G.target&&G.target._node?G.target.get("tagName").toLowerCase():"";if(!(F in A)){E.use("mail-ui-shortcuts-dialog",function(H){H.mail.ui.ShortcutsDialog.show();});}}}};function B(G,F){return F?"shift+"+G:G;}function D(K,G){var J,F,M,I,H=E.mail.ui.navKeys;E.Array.each(G,function(N){if(N.keycode){J=N.keycode;F=N.shiftKey||false;M=N.data_action;if(J&&M){C[B(J,F)]=M;H.charCodes.push(J);}}});var L={charCodes:H.charCodes,onKeyDown:H.onKeyDown,onKeyPress:H.onKeyPress};E.mail.ui.Workspace.set("navKeys",L);H=L;}E.on("menu:config",D);},"1.0.0",{requires:["mail-controller-folders"]});

YUI.add("mail-ui-searchbar",function(E){var D=E.common.Utils,A=D.escapeHtml,C=E.Node.one,B=NeoConfig&&NeoConfig.uh2Enabled;var F=new function(){var P=this,R=B?"input.yucs-search-field":"#searchfield",I=E.common.Utils.substitute(strings.str_cfg_url_search,null,null,null,strings),O="p",J={"ei":"UTF-8","fr":strings.str_cfg_fr_code},Q={event:"",isSet:false};function M(){return(NeoConfig&&NeoConfig.searchField)||E.one(R);}function S(){var T=M();if(T){T.focus();}}function H(T){var U=T||M().get("value");if(Q.isSet){E.fire(Q.event,{query:U});}else{E.fire("search:input",{newSearch:true,query:U});}}function L(){var T,U,V=M().get("value");if(V){T=I+"?"+O+"="+encodeURIComponent(V);for(U in J){T+="&"+U+"="+A(J[U]);}}else{T=I+"?fr="+J["fr"];}E.fire("search:web",T);window.open(T,"_blank");}function G(T){if(!T.mode||T.mode==="default"){Q.isSet=false;Q.event="";}else{Q.isSet=true;Q.event=T.event||"omsearch:input";}}function N(){E.on("search:config",G);if(B){var W=M();E.Global.on("ucs:verticalSearchAction",function(Y){NeoConfig.currentQuery=Y.query;H(Y.query);});if(W){W.on("keydown",function(Y){switch(Y.keyCode){case 65:if(Y.ctrlKey||Y.metaKey){Y.stopPropagation();}break;}});}}else{var U=C("#search"),T,W,X,V;if(U){U.on("click",function(Y){var Z=E.common.Utils.getDataAction(Y);if(Z.action=="search"){H();}});T=C("#searchweb");if(T){T.on("click",function(){L();});}W=U.one(R);if(W){W.on("keydown",function(Y){switch(Y.keyCode){case 65:if(Y.ctrlKey||Y.metaKey){Y.stopPropagation();}break;case 13:(strings.str_cfg_tog_mailSearchEnabled!==undefined&&strings.str_cfg_tog_mailSearchEnabled===false)?L():H();Y.halt();break;}});}}}if(NeoConfig.bidi&&W){W.on("focus",function(){if(!W.bidiTextEntry&&E.Plugin.BidiTextEntry){W.plug(E.Plugin.BidiTextEntry);}});}if(strings.str_cfg_tog_show_search_desc){E.use("mail-ui-searchdesc",function(Z){Z.mail.ui.SearchDesc.bindSearchDesc();});}}function K(){N();}E.mix(P,{render:K,getSearchField:M,focus:S});};E.namespace("mail.ui");E.mail.ui.SearchBar=F;},"1.0.0",{requires:["common-utils","node-pluginhost","comms-bidi-textentry"]});

YUI.add("_shared_module_message_pane",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_pane={base:'<div id="{{page_message_pane_view}}" class="{{page_message_pane_view1}} {{page_message_full_view}} content" {{page_message_pane_view2}}> {{page_show_comm_modes}} {{page_show_comm_modes_else}}</div>',page_message_pane_view:"msg-preview",page_message_pane_view1:"tripane ",page_message_full_view:"message ",user_pref_height:'style="top:{{msg_pane_top}};{{tripane_pos}}:{{msg_list_width}}"',page_message_pane_view2:"{{user_pref_height}}",global_spearmint_view:"{{_shared_module_message_prompt}} ",global_spearmint_view_else:"{{minty_module_comm_modes}} ",page_show_comm_modes:"{{global_spearmint_view}} {{global_spearmint_view_else}} ",page_show_comm_modes_else:"{{_shared_module_message_display}} "};},"1.0.0",{requires:["_shared_module_message_prompt","minty_module_comm_modes","_shared_module_message_display"]});

YUI.add("minty_module_comm_modes",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_comm_modes={base:'<div class="comm-modes unselectable" unselectable="on"> <h2>{{str_msg-view_click_above}}</h2> <div id="msg-preview-media-modes" class="media-modes msg-preview"> <span class="btn left right" data-action="compose"><a class="email" href="{{global_url_base}}/app/minty/compose" title="{{str_msg-view_comm_modes_email_attr}}"><i>{{str_msg-view_comm_modes_email}}</i></a></span> {{has_im}} </div></div>',has_sms:'<span class="btn left right"><a class="sms" data-action="loadContent" href="{{global_url_base}}/app/minty/conversation/?type=sms" target="dock" title="{{str_msg-view_comm_modes_sms_attr}}"><i>{{str_msg-view_comm_modes_sms}}</i></a></span> ',has_im:'{{has_sms}} <span class="btn left right" data-action="new-conv"><a class="im" data-action="loadContent" href="{{global_url_base}}/app/minty/conversation/?type=im" target="dock" title="{{str_msg-view_comm_modes_im_attr}}"><i>{{str_msg-view_comm_modes_im}}</i></a></span> '};},"1.0.0");

YUI.add("minty_module_toolbar_inbox",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox={base:'<div class="switcher shaded"> <span class="btn left {{has_im_else}}" id="main-btn-new"><a title="{{str_toolbar_compose_attr}}" href="{{global_url_base}}/minty/page/compose" data-action="compose" draggable="false">{{str_toolbar_compose}}</a></span>{{has_im}}</div>',has_im_else:"right",has_im:'<span class="btn right menu" id="btn-new" data-action="menu"><a href="#" title="{{str_toolbar_comp_menu_toggle_attr}}" draggable="false"><b>{{str_toolbar_comp_menu_toggle}}</b></a></span>'};},"1.0.0");

YUI.add("minty_module_toolbar_inbox_default_rollup",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox_default_rollup={base:'<div id="pagetoolbar" class="{{msgliststate}}"> <span class="btn left right multimsg"><a href="#" title="{{str_delete_email_attr}}" data-action="delete">{{str_delete}}</a></span> <span class="btn left onemsg"><a href="#" title="{{str_reply_attr}}" data-action="reply_sender">{{str_reply}}</a></span><span class="btn right menu onemsg" data-action="menu" id="btn-reply"><a href="#" title="{{str_toolbar_reply_menu_toggle_attr}}"><b>{{str_toolbar_reply_menu_toggle}}</b></a></span> <span class="btn left onemsg"><a href="#" title="{{str_forward_attr}}" data-action="forward">{{str_forward}}</a></span><span class="btn multimsg"><a href="#" title="{{str_spam_attr}}" data-action="spam">{{str_spam}}</a></span><span class="btn menu right multimsg" id="btn-move" data-action="menu"><a href="#" class="icon" title="{{str_move_attr}}"><i>{{str_move}}</i><b></b></a></span> {{has_preview_pane}} {{has_switch_view}} <span class="btn left right menu" data-action="menu" id="btn-actions"><a href="#" class="icon" title="{{str_actions_email_attr}}"><i>{{str_actions}}</i><b></b></a></span>  {{has_pagination}}</div>',has_preview_pane:'<span class="btn left right" id="btn-togglepreview" data-action="toggle-preview-pane"><a href="#" title="{{str_msg-view_btn_togglepreview_attr}}">{{previewToggle}}<b></b></a></span> ',has_switch_view:'<span class="btn left right menu" data-action="menu" id="btn-ml-preview"><a href="#" class="icon" title="{{str_msg-view_hd_modal}}"><i>{{str_show_message_view_options}}</i><b></b></a></span> ',pagination_inner:'<span class="btn left ufirst{{first_class_disabled}}"><a href="#" role="button" aria-disabled="{{first_aria_disabled}}" class="icon first" data-action="home" title="{{str_msg_list_first}}"><i>{{str_msg_list_first}}</i></a></span><span class="btn uprev{{first_class_disabled}}"><a href="#" role="button" aria-disabled="{{first_aria_disabled}}" class="icon previous" data-action="previous-page" title="{{str_msg_list_previous}}"><i>{{str_msg_list_previous}}</i></a></span><span class="pagination-count" id="page-info" title="{{str_msg_list_page_info}}"><i>{{current}}</i></span><span class="btn unext{{last_class_disabled}}"><a href="#" role="button" aria-disabled="{{last_aria_disabled}}" class="icon next" data-action="next-page" title="{{str_msg_list_next}}"><i>{{str_msg_list_next}}</i></a></span><span class="btn right ulast{{last_class_disabled}}"><a href="#" role="button" aria-disabled="{{last_aria_disabled}}" class="icon last" data-action="end" title="{{str_msg_list_last}}"><i>{{str_msg_list_last}}</i></a></span>',has_pagination:'<div class="rht pagination shaded" role="presentation">{{pagination_inner}}</div> '};},"1.0.0");

window.strings=strings;};
var strings= {"str_error_title":"{{str_branding_mail}}","str_error_wstoken":"Failed to get valid web service token - reloading Y!Mail","str_error_ydod_error":"Unable to process request at this time \u2014 error 999","str_error_ydod_token_link":"While this error is usually temporary, if it continues, please <a href={linkURL} target=_blank>contact us.<\/a>","str_error_ydod_title":"Your request cannot be processed","str_error_reload_user_change":"You are no longer signed in to {{str_branding}} as '{{username}}'.&#010; The application will now close.","str_error_relogin":"Sorry, your session has expired. To protect your account, you need to confirm your password periodically.","str_error_signin":"Sign In Again","str_error_Connect":"{{str_branding_mail}} was unable to connect. Please reload the page or verify that your network connection is active.","str_branding_mail":"Yahoo! Mail","str_branding":"Yahoo!","str_error_AccountVerificationRequired":"Account verification required","str_error_BadFrom":"Missing or malformed from address","str_error_BadMime":"Mime Error","str_error_BadRecipient":"Missing or malformed recipient","str_error_BadRequest":"Bad request.","str_error_CannotSendThisMessage":"Cannot send this message","str_error_ComposeAttachFailed":"Attaching a file Failed","str_error_ComposeError":"Compose Failed","str_error_ComposeFailed":"Sorry, but we had a problem composing your message.","str_error_ComposeNavigateAway":"You were in the middle of composing a message. You will lose your changes if you press OK.","str_error_DailyLimitExceeded":"You have reached your message sending limit for the day.","str_error_DownloadError":"Error while downloading the files.","str_error_EmptyFolderFailed":"Failed to empty folder","str_error_FarmNameNotFound":"Sorry, but there seems to be a problem with your account. We suggest you close this window and re-launch {{str_branding_mail}}.","str_error_FolderAlreadyExists":"A folder with this name already exists.","str_error_FolderCreateFailed":"Failed to create folder","str_error_FolderFetchFailed":"Failed fetching \"Sent\" folder","str_error_FolderIdDoesntExist":"It looks like this folder isn't around anymore. Perhaps you already deleted or renamed it in another browser window?","str_error_FolderIdIsSystemFolder":"System folders cannot be renamed or removed","str_error_FolderListFetchFailed":"Error fetching folder list","str_error_FolderNameIllegalCharacter":"Illegal character in foldername, only letters, numbers, dashes and underscores allowed.","str_error_FolderRemoveFailed":"Error removing folder","str_error_GetDisplayMessageFailed":"Sorry, but we were not able to get your message","str_error_GetMessageFailed":"Error fetching emails to flag","str_error_GetMessageInvalidId":"Sorry, but it looks like this message is not really in your folder. Perhaps you already deleted or moved this message? Please refresh your Inbox and try again.","str_error_HourlyLimitExceeded":"You have reached your message sending limit for the hour.","str_error_HumanVerificationFailed":"Human verification failed","str_error_HumanVerificationRequired":"Human verification required","str_error_LaunchTAE":"An error occurred when trying to connect to {{str_branding}}. This error could be temporary.","str_error_ListMessagesFailed":"Looks like we had a problem getting some new messages. This may be a temporary problem. Please reconnect and try again.","str_error_MailErrorTitle":"Temporary Error","str_error_MailUnexpectedResponse":"An unexpected problem has occurred. &#010;&#010;Performing your action again in a few moments will probably solve the problem. &#010;If it persists, we suggest you close this window and re-launch {{str_branding_mail}}.","str_error_MailboxBusy":"Sorry, there was a problem accessing your Mailbox. Please try again in 10 minutes.","str_error_MailboxOpenFailed":"Failed to open mailbox","str_error_MaxBCCAddressesExceeded":"Too many recipients for Bcc.","str_error_MaxCCAddressesExceeded":"Too many recipients for Cc.","str_error_MaxToAddressesExceeded":"Too many recipients for To.","str_error_MaxTotalAddressesExceeded":"Too many recipients.","str_error_MessageDeleteFailed":"Failed to delete message","str_error_MessageFetchFailed":"Failed to fetch message","str_error_MessageIdsNotFound":"Cannot flag emails that don't exist in the specified folder","str_error_MessageNotFound":"Failed to fetch message","str_error_MessageSaveFailed":"Failed to save message","str_error_MessageSelectionNotFound":"Cannot flag emails based on a selection that doesn't match any emails in the folder","str_error_MessageToLarge":"The message you tried to send was too large","str_error_MessageTooLargeForSomeRecipients":"The message you tried to send was too large for some recipients","str_error_MetaDataMissingPath":"Sorry, but there seems to be a problem with your account","str_error_MissingApplicationID":"Missing or bad application ID","str_error_MissingCredentials":"Missing credentials","str_error_MissingRecipients":"No recipient set.","str_error_MoveMessagesInvalidId":"Sorry, but we were unable to access your message. Perhaps you already moved or deleted it somewhere else? Please refresh your folder.","str_error_NicknameExpansionFailed":"Please check all email addresses. Looks like one of them may not be formatted correctly.","str_error_NoResponse":"The response was empty","str_error_NoSenderSpecified":"Cannot save a message with no sender specified","str_error_Offline":"Your browser may be in Offline mode. Please make sure the Work Offline option under the browser's File menu is not checked and try again. If you continue to see this error, you're probably no longer connected to the Internet. Please reconnect and try again.","str_error_OfflineTitle":"Your browser may be in Offline mode","str_error_Print":"Print Failed","str_error_ResetSpamFilterFailed":"The operation to reset the spam filter failed","str_error_SaveMessageFailed":"Error saving message to the \"Sent\" folder","str_error_SendMessageFailed":"Error sending message","str_error_SendMessageFailedForSomeRecipients":"There was an error while sending the message to some recipients","str_error_ServerError":"Server Error.","str_error_ServiceUnavailable":"Service Temporarily Unavailable","str_error_SetUserDataFailed":"Error saving user data","str_error_SpamReportingFailed":"Error reporting spam","str_error_SpamTrainingFailed":"Error training spam filter","str_error_Timeout":"Operation timed out. Please try again. If the problem persists, please check your network connection.","str_error_TooManyCallsBatched":"Cannot batch more than 5 calls together in one single request","str_error_TooManyFolders":"Sorry, you can only create up to 497 personal folders","str_error_TooManyMessagesRequested":"Cannot request more message bodies than are allowed to be fetched in a single call","str_error_UnexpectedTitle":"A Connection Failure Has Occurred","str_error_UserDataFetchFailed":"Sorry, but we were not able to fetch your user information","str_error_UserOverQuota":"Operation failed. Account over quota.","str_error_UserPreferenceFetchFailed":"Error fetching user preferences","str_error_UserSuspended":"Account is suspended from sending.","str_error_UserTempSuspended":"To protect you, your account has been suspended for up to 48 hours.","str_error_ab_invalid_field_data":"Please enter valid contact details, current content is too long or invalid","str_error_ab_size_exceeded":"Cannot add contact. There are too many contacts in this addressbook.","str_error_btn_reconnect":"Reconnect","str_error_btn_relaunch":"Relaunch {{str_branding_messenger}}","str_branding_messenger":"Yahoo! Messenger","str_error_catastrophic_error":"Unfortunately, you cannot connect to {{str_branding_messenger}} at this time.","str_error_disconnected_error":"You have been disconnected from {{str_cfg_branding_messenger}}.","str_error_download_message_viewing_error":"Sorry, there was a problem opening the message.","str_error_download_not_scannable":"The attachment you are trying to download can not be virus scanned.","str_error_email_address":"Please enter a valid email address format: name@domain.com.","str_error_error_searching_messages":"There was an error while searching for emails.","str_error_extFetch":"External account retrieval failed. Please go to Options and verify your information for this account.","str_error_extFetch1":"Error receiving messages from {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch2":"Error receiving messages from {{error_extFetch_email2}} and {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch3":"Error receiving messages from {{error_extFetch_email3}}, {{error_extFetch_email2}} and {{error_extFetch_email1}}. Please go to Options, Account and verify your information for this account.","str_error_extFetch_badFolder":"We're sorry, but we're having trouble opening up your external account {{userName}}:{{server}} to retrieve your messages.  Check your settings in Mail Options and try again.","str_error_extFetch_badHost":"We're sorry, but it looks like there might be something wrong with the settings of the external account {{userName}}.  Please check your {{server}} in Mail Options and try again.","str_error_extFetch_badLogin":"It looks like there might be something wrong with the settings of this external account {{userName}}.  Please check your user id and password for this account in Mail Options and try again.","str_error_extFetch_badMailbox":"We're sorry, but we're having trouble opening up your external account  {{userName}}:{{server}} to retrieve your messages.  Check your settings in Mail Options and try again.","str_error_extFetch_badMessage":"We're sorry, but we're having trouble retrieving messages from your external account  {{userName}}:{{server}}.  Check your settings in Mail Options and try again.","str_error_extFetch_badPassword":"It looks like there might be something wrong with the password settings of the external account {{userName}}.  Please check your password for this account in Mail Options and try again.","str_error_extFetch_badPort":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings for {{userName}} in Mail Options and try again.","str_error_extFetch_badUserId":"It looks like there might be something wrong with the settings of this external account.  Please check your user id : {{userName}} for the account {{server}} in Mail Options and try again.","str_error_extFetch_busy":"We're sorry, but it looks like your external account {{userName}} is busy.  Please try again in a while.","str_error_extFetch_connectionLost":"It seems there was an error communicating with the external POP server.  Please check your settings in Mail Options and try again.","str_error_extFetch_connectionTimeout":"Timed out","str_error_extFetch_largeMsg":"It looks like there is really big message in this external account: {{userName}}.  Please delete the message locally and try again.","str_error_extFetch_lastUnsupported":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings in Mail Options and try again.","str_error_extFetch_messageBlocked":"It looks like there is message from a blocked sender in this external account: {{userName}}.  Please delete the message locally and try again.","str_error_extFetch_quota":"It looks like you have exceeded your mailbox quota for this external account: {{userName}}.  You should delete some messages by logging into that account.","str_error_extFetch_unknownError":"It seems there was an error communicating with the external POP server {{server}}.  Please check your settings for {{userName}} in Mail Options and try again.","str_error_first_message":"You have reached the first message in {{folder_name}}.","str_error_flash_unavailable_body":"Your browser is blocking Flash. You must have Flash 9.0 or higher installed and unblocked to run a mail application. You can download and install the latest Flash Player <a href=\"http:\/\/get.adobe.com\/flashplayer\/\" target=\"_blank target=\"_blank\"\">here<\/a>.","str_error_folder_name_is_reserved":"That folder name is reserved, please choose a different name.","str_error_generic":"Something unexpected just happened. Please contact {{str_branding}} Customer Care if the problem persists. Here's some technical info that might help us know more about what is going on:","str_error_generic_cc":"Something unexpected just happened. Please contact {{str_branding}} Customer Care if the problem persists.","str_error_im":"Please enter a valid IM id.","str_error_last_message":"You have reached the last message in {{folder_name}}.","str_error_loading_recent_messages":"Sorry, problem loading conversation history.","str_error_logged_out":"You are no longer signed in to {{str_branding_messenger}}.","str_error_logged_out_another":"You have been signed out because you signed into a different computer or device.","str_error_messenger_load_failure":"Sorry, but {{str_branding_messenger}} is currently unavailable. Please try again later.","str_error_messenger_loading":"{{str_branding_messenger}} is currently loading.","str_error_msg_diff_folder":"The selected message is now in the {{foldername}} folder.","str_error_msg_diff_folder_link":"Click here to switch to the {{foldername}} folder.","str_error_msg_diff_folder_switch":"This message has been moved to <a href=\"#\" class=\"switchFolder\" sourceFolder=\"{{newFid}}\">{{foldername}}<\/a>","str_error_msg_load":"We\u2019re sorry, but there appears to be a problem loading the message \"{{subject}}\".","str_error_msg_load_click_me":"Click here to try again.","str_error_msg_load_slow":"We\u2019re sorry, but your message is taking longer than normal to display.","str_error_no_body_returned":"Looks like we were unable to load your message.","str_error_phone_number":"Please enter a valid phone number format: ###-###-####.","str_error_recent_messages_empty":"You have no recent conversations with {{contact}}.","str_error_reconnected_message":"You have successfully signed in.","str_error_redirect_auth":"There may be an authentication required to continue. Please refresh your browser and come back here to try again.","str_error_redirect_authtitle":"Authentication redirect. Please refresh","str_error_reload_account_migrated":"Due to routine server maintenance, {{str_branding_mail}} must now reload. We apologize for any inconvenience this may cause.","str_error_replace":"Please enter a valid error string here.","str_error_uploadNumFiles":"You have reached the 50 attachment limit for this message.","str_error_yid_collision_error":"This {{str_branding_messenger}} ID already belongs to someone else in your Contacts. Please try again.","str_error_yid_no_info_error":"Please enter some information for this contact.","str_ok":"OK","str_btn_close":"Close","str_btn_cancel":"Cancel","str_modal_tabdeactivate_title":"Confirm Application Switch","str_modal_tabdeactivate_body":"Switching away from this application will cause you to lose your data and\/or actions.  Proceed?","str_nav_conversations":"Conversations","str_nav_drafts":"Drafts","str_folder_reserved_inbox":"Inbox","str_folder_reserved_conversations":"Conversations","str_folder_reserved_drafts":"Drafts","str_folder_reserved_sent":"Sent","str_folder_reserved_spam":"Spam","str_folder_reserved_trash":"Trash","str_folder_reserved_search":"Search","str_folder_reserved_inbox_lower":"inbox","str_folder_reserved_conversations_lower":"conversations","str_folder_reserved_drafts_lower":"drafts","str_folder_reserved_sent_lower":"sent","str_folder_reserved_spam_lower":"spam","str_folder_reserved_trash_lower":"trash","str_folder_reserved_search_lower":"search","str_folder_reserved_inbox_upper":"INBOX","str_folder_reserved_conversations_upper":"CONVERSATIONS","str_folder_reserved_drafts_upper":"DRAFTS","str_folder_reserved_sent_upper":"SENT","str_folder_reserved_spam_upper":"SPAM","str_folder_reserved_trash_upper":"TRASH","str_folder_reserved_search_upper":"SEARCH","str_tabs_close_attr":"Close tab [Esc]","str_tabs_close":"Close tab","str_msg-view_btn_hidepreview":"Hide Preview","str_msg-view_btn_showpreview":"Show Preview","str_nav_left_checkmail_account_attr":"Check {{mailbox_pretty_name}} for new email  [M]","str_nav_left_checking_mail":"Checking...","str_nav_inbox":"Inbox","str_tabs_inbox":"INBOX","str_tabs_drafts":"DRAFTS","str_tabs_sent":"SENT","str_tabs_spam":"SPAM","str_tabs_conversations":"CONVERSATIONS","str_tabs_trash":"TRASH","str_nav_inbox_unread_attr":"{{inbox_unread_cnt}} unread emails","str_nav_draft_attr":"1 draft","str_nav_drafts_attr":"{{inbox_unread_cnt}} drafts","str_nav_conv_attr":"1 conversation","str_nav_convs_attr":"{{conv_cnt}} conversations","str_page_title_unread":"({{unread_cnt}} unread) - {{title}} - {{str_branding_mail}}","str_page_title":"{{title}} - {{str_branding_mail}}","str_email_cnt_one":"email","str_email_cnt_multi":"emails","str_nav_folder_email_cnt":"{{total_cnt}} {{email_str}}","str_nav_email_from_ctcts_attr":"Email only from Contacts; {{email_ctcts_cnt}} emails","str_nav_email_from_ctcts":"Email from Contacts","str_ctrl":"Ctrl","str_enter":"Enter","str_ctrl_shift":"Ctrl+Shift","str_ctrl_alt":"Ctrl+Alt","str_right_click":"right-click","str_whats_new_udb_failure_msg":"We\u2019re having trouble loading your Mail preferences right now. You can still use {{str_branding_mail}} with default settings. Your settings should be restored shortly.","str_tog_loadRTLCss":false,"str_modal_pagination_change":"In order to change this setting, {{str_branding_mail}} will refresh when you click Save. Any mail messages you're currently writing will be saved as drafts.","str_conv_btn_view_conv_options":"Options","str_modal_option_attention":"","str_tabs_options":"OPTIONS","str_tabs_search":"SEARCH","str_tabs_compose":"New Email","str_msg-view_tab_no_subject":"Message","str_modal_too_many_tabs_title":"Please Close Some Tabs","str_modal_too_many_tabs_note":"Sorry, you've reached the maximum number of open tabs. Please close a few tabs first before opening additional tabs.","str_modal_too_many_tabs_close_auto":"Close All Message Tabs","str_modal_too_many_tabs_close_manual":"I'll Close Some Myself","str_spam_attr":"Move selected emails to Spam folder","str_not_spam_attr":"Remove spam classification and move back to Inbox","str_spam":"Spam","str_not_spam":"Not Spam","str_cfg_sc_keycode_reply_to_all":"65","str_cfg_sc_keycode_message_forward":"70","str_cfg_sc_keycode_movemenu_display":"68","str_cfg_sc_keycode_mark_as_read":"75","str_cfg_sc_keycode_flag_selected_messages":"76","str_cfg_sc_keycode_reply_to_sender":"82","str_cfg_sc_keycode_print":"80","str_cfg_sc_keycode_toggle_preview_pane":"86","str_cfg_sc_keycode_close_tab":"220","str_tog_use_num_accel":true,"str_msg_list_info-replied":"Replied","str_msg_list_info-forwarded":"Forwarded","str_msg_list_info-unread":"Unread","str_msg_list_info-certified":"Certified","str_msg_list_info_verified_attr":"This is a verified message from {{str_branding}}","str_msg_list_checkbox_label":"Message {{messagenumber}}","str_tog_dateformat_messagelist_timeonly_l10n":"{h}:{mm} {A}","str_msg-view_no_subject":"[No Subject]","str_msg_list_message_preview_attr":"Double-click to open this message in a new tab","str_msg_list_message_full_attr":"Click to open this message in a new tab","str_msg_list_sorting":"Sorting email...","str_msg_list_attachments":"Attachments","str_msg_list_attachments_attr":"This email has {{msg_num_attachments}} attachments","str_msg_list_attachments_size":"Size","str_msg_list_checkbox_attr":"Select this email","str_msg_list_column_attachment_attr":"Click to sort by emails with attachments","str_msg_list_column_date_attr":"Click to sort by date","str_msg_list_column_flag_attr":"Click to sort by flagged messages","str_msg_list_column_fldr_attr":"Click to sort by Folder name","str_msg_list_column_from_attr":"Click to sort by sender","str_msg_list_column_info_attr":"Click to sort by unread messages","str_msg_list_column_mailbox_attr":"Click to sort by mailbox; click again to reverse sort","str_msg_list_column_participant_attr":"Click to sort by participant","str_msg_list_column_size_attr":"Order emails by attachment size (largest-smallest); click again to reverse order","str_msg_list_column_subject_attr":"Click to sort by subject","str_msg_list_column_to_attr":"Order emails by recipient (A-Z); click again to reverse order","str_msg_list_date":"DATE","str_msg_list_datetime":"DATE \/ TIME","str_msg_list_emptyfolder":"There are no messages in your {{foldername}} folder","str_msg_list_first":"First Page","str_msg_list_flag":"Flag this email","str_msg_list_flag_attr":"Click to mark as important","str_msg_list_flagged":"This email is flagged","str_msg_list_flagged_attr":"Click to unflag this email","str_msg_list_folder_name":"FOLDER","str_msg_list_from":"FROM","str_msg_list_has_attachments":"This message has attachments","str_msg_list_header":"Email Messages","str_msg_list_last":"Last Page","str_msg_list_list":"CALENDAR \/ LIST","str_msg_list_load_next_messages":"Load next 500 messages","str_msg_list_load_next_messages_attr":"Control how your messages are displayed in the General section of Mail Options","str_msg_list_loading":"Loading email...","str_msg_list_loading_conversation":"Loading conversations...","str_msg_list_loading_error":"There appears to be a problem loading the message list.","str_msg_list_loading_ims":"Loading instant messages...","str_msg_list_location":"LOCATION","str_msg_list_mailboxes":"Mailboxes","str_msg_list_next":"Next Page","str_msg_list_not_flagged":"This email is not flagged","str_msg_list_page_info":"Page {{current}} of {{total}}","str_msg_list_participant":"PARTICIPANT","str_msg_list_previous":"Previous Page","str_msg_list_retry":"Click to retry","str_msg_list_select_all_msgs_attr":"Select or deselect all messages [{{str_ctrl}}+A]","str_msg_list_sort_by":"SORT BY {{sorted_by}}","str_msg_list_sort_by_attr":"Click to select sorting method","str_msg_list_subject":"SUBJECT","str_msg_list_time":"TIME","str_msg_list_title":"TITLE","str_msg_list_to":"TO","str_msg_list_type":"TYPE","str_nav_trash":"Trash","str_nav_sent":"Sent","str_nav_spam":"Spam","str_tabs_IM":"INSTANT MESSAGES","str_nav_IM":"Instant Messages","str_menu_page_jump":"Jump to:","str_menu_page_placeholder":"Page","str_menu_page_first":"First Page","str_menu_page_last":"Last Page","str_menu_sort_subject":"Subject","str_menu_sort_date":"Date","str_menu_sort_unread":"Unread","str_menu_sort_attach":"Messages with Attachments","str_menu_sort_flagged":"Flagged Messages","str_menu_sort_conv":"Show as Conversations","str_retry":"Retry","str_toolbar_prev":"Go to the previous page","str_toolbar_page_menu":"Page","str_toolbar_next":"Go to the next page","str_msg-view_click_above":"Choose your favorite way to communicate.","str_msg-view_comm_modes_email_attr":"Compose an email","str_msg-view_comm_modes_email":"Email","str_msg-view_comm_modes_sms_attr":"Compose an SMS","str_msg-view_comm_modes_sms":"SMS","str_msg-view_comm_modes_im_attr":"Compose an instant message","str_msg-view_comm_modes_im":"Instant Message","str_msg-view_multiple_selected_msgs":"{{num_selected_msgs}} emails selected.","str_msg-view_multiple_selected_convs":"{{num_selected_msgs}} conversations selected.","str_msg-view_single_selected_msg":"1 email selected.","str_msg-view_single_selected_msg_info":"Click above to view an email. Or compose a new message...","str_msg-view_single_selected_conv":"1 conversation selected.","str_msg-view_single_selected_conv_info":"Click above to view a conversation. Or compose a new message...","str_msg-view_message_body":"Message body","str_msg_view_heading_blocked_images":"This message contains blocked images.","str_msg_view_btn_show_images_attr":"Display blocked images","str_msg_view_btn_show_images":"Show Images","str_msg_view_btn_options_attr":"Modify Spam Options","str_msg_view_btn_options":"Options","str_comp_reply_cc":"Cc:","str_comp_reply_from":"From:","str_comp_reply_to":"To:","str_comp_reply_date":"Sent:","str_comp_reply_subject":"Subject:","str_comp_loading_error_perm":"Sorry we're having problems loading this message.  Please <a href=\"{{str_cfg_url_yahoo_mail_help_tae45}}\" target=\"_blank\">view our help site<\/a> to learn how to contact us to report this error.<p>Error code: {{msg_fail_tae_code}}<\/p>","str_comp_multi_retry":"Sorry, we're still having problems loading this message. This is likely a temporary issue due to a connection problem or an email with large attachments.  Check your connection and try again, or try back again shortly.<p>If you're still seeing this error, visit <a href=\"{{str_cfg_url_yahoo_mail_help}}\" target=\"_blank\">Help<\/a> for troubleshooting instructions or to contact us.<\/p><p>Error code: {{msg_fail_tae_code}}<\/p>","str_comp_loading_error":"There appears to be a problem loading the email \"{{msg_subject}}\".","str_comp_loading_retry_attr":"Retry loading this email.","str_comp_loading_msg":"Loading email, please wait...","str_comp_loading_conv":"Loading conversation, please wait...","str_comp_slow_loading":"Loading is taking longer than usual.","str_msg_view_msg_truncated":"This message has been truncated","str_msg_view_btn_view_full":"Show Full Message","str_photos":"Photos","str_msg_view_btn_download_all":"Download All","str_msg_view_photo_attachment_attr":"View {{filename}}","str_msg_view_heading_attachments":"Attachments","str_msg_view_attachment_attr":"Virus scan and download {{filename}}","str_msg_title_search":"Click to search for messages with same subject","str_show_details_tooltip":"Show sender, recipients, and date","str_hide_details_tooltip":"Hide sender, recipients, and date","str_show_details":"Show Details","str_hide_details":"Hide Details","str_msg_hdr_label_cc":"CC:","str_small_header_you":"You","str_msg_hdr_label_bcc":"BCC:","str_msg_view_msg_flag":"Message flagged","str_msg-view_message_header":"Message header","str_msg_hdr_has_attachments":"This email has attachments","str_msg_hdr_label_from":"FROM:","str_btn_from_lozenge_attr":"{{msg_from_address}}","str_btn_add_from_contact_attr":"Add {{msg_from_address}} to your Contacts [{{str_menu_accel_shift_a}}]","str_menu_accel_shift_a":"Shift+A","str_msg_hdr_label_to":"TO:","str_btn_add_contact_attr":"Add {{msg_to_address}} to your Contacts","str_btn_lozenge_attr":"{{msg_to_address}}","str_msg_hdr_btn_more_attr":"See the additional recipients","str_msg_hdr_btn_more_to":"{{has_more_to}} More...","str_msg_hdr_btn_more_cc":"{{has_more_cc}} More...","str_msg_hdr_btn_more_bcc":"{{has_more_bcc}} More...","str_msg_hdr_label_participants":"Participants:","str_btn_add_participant_contact_attr":"Add {{msg_participant_address}} to your Contacts [{{str_menu_accel_shift_a}}]","str_msg_hdr_btn_more_participants_attr":"See the additional participants","str_msg_hdr_btn_more_participants":"{{has_more_participants}} More...","str_msg_hdr_label_with":"With:","str_to":"to","str_reply":"Reply","str_reply_all":"Reply All","str_forward":"Forward","str_thread_trash":"Move this message to Trash","str_trash":"Trash","str_actions":"Actions","str_thread_hdr_more_recipients_attr":"See additional recipients","str_thread_hdr_more_recipients":"{{num_more_recipients}} more","str_draft":"DRAFT","str_om_download":"Download","str_download":"Download","str_comp_sending":"Sending...","str_rte_attachments_error_mult":"{{num_error_files}} files cannot be sent","str_rte_attachments_error_single":"1 file cannot be sent","str_to_col":"TO:","str_comp_btn_to_add_attr":"Add recipients","str_comp_btn_to_add":"Add TO Recipients","str_cc":"CC","str_bcc":"BCC","str_cc_col":"CC:","str_comp_btn_cc_add":"Add CC Recipients","str_bcc_col":"BCC:","str_comp_btn_bcc_add":"Add BCC Recipients","str_comp_full_comp":"Reply in a new tab","str_comp_attach_attr":"Choose a file to attach to this message","str_comp_attach":"Attach Files","str_cont_imp_compose_send_attr":"Send Message","str_btn_send":"Send","str_comp_send_error":"Sorry, there was a problem sending your message","str_comp_back_to_msg_attr":"Go back to editing the email","str_comp_back_to_msg":"Back to Email","str_comp_try_again_attr":"Try sending again","str_comp_try_again":"Try Again","str_comp_send_abuse_error":"Message was sent but not saved in your Sent folder due to unusually heavy activity from this mailbox.","str_close":"Close","str_btn_retry_file_attr":"Retry file upload","str_btn_remove_file_attr":"Remove this attachment","str_delete_email_attr":"Delete selected emails  [Delete]","str_delete":"Delete","str_reply_attr":"Reply to sender  [R]","str_toolbar_reply_menu_toggle_attr":"Choose from different ways to reply","str_toolbar_reply_menu_toggle":"Reply","str_forward_attr":"Forward this email \u00a0[F]","str_move_attr":"Move selected emails to a folder  [D]","str_move":"Move","str_actions_email_attr":"More actions for selected emails","str_msg-view_btn_togglepreview_attr":"Switch View","str_msg-view_hd_modal":"Switch View","str_show_message_view_options":"Show Message View Options","str_folder_empty":"There are no emails in your {{folder_name}} folder.","str_configure_archiving":"Make sure you have configured your archiving settings within {{str_branding_messenger}} Options.","str_conv_folder_empty":"There are no messages in your Conversations folder.","str_delete_conv_attr":"Delete selected conversations  [Delete]","str_menu_reply_im":"Reply via Instant Message","str_menu_accel_shift_i":"Shift+I","str_actions_conv_attr":"More actions for selected conversations","str_previous_conv_attr":"View next conversation up [Ctrl+,]","str_previous_conv":"Previous","str_next_conv_attr":"View next conversation down [Ctrl+.]","str_next_conv":"Next","str_print_attr":"Print this message [P]","str_print":"Print","str_next_attr":"View next email up [Ctrl+,]","str_next":"Next","str_previous_attr":"View next email down [Ctrl+.]","str_previous":"Previous","str_action_edit_draft_attr":"Open selected email in a tab to edit  [{{str_enter}}]","str_action_edit_draft":"Edit Draft","str_me":"Me","str_tog_showFirstAsFriendlyName":true,"str_thread_btn_attr":"Group messages into conversations","str_thread_btn":"Threading","str_comp_reply_fwdHeader":"----- Forwarded Message -----","str_comp_reply_origHeader":"----- Original Message -----","str_comp_reply_short":"On {{date_data}}, {{from_data}} wrote:","str_uh_searchmail":"Search Mail","str_tog_sendFeedbackEnabled":true,"str_modal_mail_preveiw":"Please Give Us Your Feedback","str_modal_mail_preveiw_reason":"Thank you for trying the latest version of {{str_branding_mail}}. Your feedback will help us make it better for you. Please tell us why you're switching. Check all that apply:","str_modal_mail_preveiw_reason_reliability":"Reliability or stability concerns","str_modal_mail_preveiw_reason_features":"Missing features","str_modal_mail_preveiw_reason_other":"Other","str_modal_mail_preveiw_reason_speed":"Speed or load time","str_modal_mail_preveiw_reason_readiness":"Not ready to switch","str_modal_mail_preveiw_feedback":"Additional feedback:","str_modal_mail_preveiw_feedback_contact":"It's OK to contact me about my feedback","str_btn_continue_attr":"Continue","str_btn_continue":"Continue","str_menu_new_features":"New Features","str_menu_help":"Help","str_menu_tos":"Terms of Service","str_menu_privacy_policy":"Privacy Policy","str_modal_keys_gen_shortcuts":"Display keyboard shortcuts","str_modal_keys_header":"Keyboard Shortcuts","str_menu_mail_blog":"Mail Blog","str_menu_mail_plus":"Mail Plus","str_menu_help_community":"Mail Help Community","str_menu_leave_mail_prev":"Return to Original Mail","str_menu_switch_full_mail":"Show Full Features","str_uh_send_feedback_attr":"Send feedback to {{str_branding_mail}}","str_uh_send_feedback":"Send Feedback","str_menu_about_our_ads":"About our Ads","str_menu_copyright":"Copyright Notice","str_menu_themes":"Themes","str_menu_options":"Mail Options","str_menu_calendar_options":"Calendar Options","str_menu_profile_attr":"Profile","str_menu_profile":"Profile","str_menu_account":"Account","str_menu_signed_in_as":"You are signed in as:","str_menu_homepage":"{{str_branding}} Homepage","str_branding_my":"My Yahoo!","str_menu_sports":"Sports","str_menu_finance":"Finance","str_menu_news":"News","str_mts_customer_care":"Customer Self Care","str_mts_web_chat":"Web Chat","str_mts_tv":"MTS TV","str_mts_games":"Games on Demand","str_mts_yahoo":"MTS Yahoo! Portal","str_menu_attcom":"att.com","str_menu_attnet":"att.net","str_menu_attmyaccount":"My Account","str_menu_attsupport":"Support","str_menu_attbrowseatoz":"Browse A - Z","str_menu_attspanish":"En Espa\u00f1ol","str_nav_applications":"Applications","str_nav_applications_btn_edit_attr":"Add or remove free apps to enhance how you share, organize, and communicate","str_nav_applications_btn_edit":"Edit application options","str_om_app_list_retry":"Retry loading apps","str_om_loading":"Loading...","str_om_error_app_not_found_title":"Application Not Found","str_om_error_app_not_found_body":"This application cannot be found. Do you wish to uninstall it?","str_om_error_app_nonexistant_title":"Non-existant Application","str_om_error_app_nonexistant_body":"Sorry, but this application no longer exists.<br\/>To remove all permissions for this application, please modify your <a class=textLink href=https:\/\/api.login.yahoo.com\/WSLogin\/V1\/unlink target=_blank>Account Sign-in Settings<\/a>.","str_om_error_app_unavailable_title":"Application Unavailable","str_om_error_app_unavailable_body":"Sorry, but the application \"{{app_name}}\" is currently unavailable. Please try again later.","str_om_tou_title":"Application Information","str_om_upgrade_choice":"Sorry, but the feature you're trying to use isn't available in this version of the application. You may continue working and upgrade later. If you upgrade now, we have to close the application.","str_om_error_flash_unavailable_title":"Flash Unavailable","str_om_error_flash_unavailable_body":"Your browser is blocking Flash. You must have Flash 9.0 or higher installed and unblocked to run a mail application. You can download and install the latest Flash Player <a href=\"http:\/\/get.adobe.com\/flashplayer\/\" target=\"_blank target=\"_blank\"\">here<\/a>.","str_om_switch_to_rich_text_title":"Switch to Rich Text?","str_om_switch_to_rich_text_body":"This application needs your message to be composed in rich text mode.  Switch to this mode?","str_menu_remove":"Remove Application","str_comp_nosubject":"No Subject","str_nav_left_untitled":"Untitled","str_toolbar_compose_attr":"Start a new email  [N]","str_toolbar_compose":"Compose Message","str_toolbar_comp_menu_toggle_attr":"Start a new IM or SMS","str_toolbar_comp_menu_toggle":"Compose New...","str_tog_filename_center_truncate":false,"str_small_header_to":"TO:","str_small_header_more":"More","str_small_header_recipient":"recipient","str_small_header_recipients":"recipients","str_tog_dateformat_header_l10n":"{EE}, {MMMM} {d}, {yyyy} {h}:{mm} {A}","str_conv_im":"IM","str_tog_dateformat_conversation":"{MMM} {dd} {h}:{mm} {A}","str_conv_call_duration":"Call duration:","str_conv_time_hours":"hours","str_conv_time_minutes":"minutes","str_conv_time_seconds":"seconds","str_conv_accepted_add_req":"<strong>{{conversation_user}}<\/strong> has been added to your Messenger list.","str_conv_add_requests":"Add Requests","str_conv_alias_send_as":"Send As:","str_conv_autocomplete_default":"TO","str_conv_blocked_user":"<strong>{{conversation_user}}<\/strong> has been blocked. You will no longer receive messages from this user.","str_conv_btn_accept":"Accept","str_conv_btn_accept_and_add":"Accept and Add To List","str_conv_btn_accept_and_add_attr":"Accept and Add To List","str_conv_btn_accept_attr":"Allow {{conversation_yid}} to add me and see when I\u2019m online","str_conv_btn_add_contact":"Add Contact","str_conv_btn_add_contact_attr":"Add Contact","str_conv_btn_add_number":"Add Number","str_conv_btn_add_number_attr":"Add Number","str_conv_btn_add_to_contacts":"Add to Contacts","str_conv_btn_add_to_contacts_attr":"Add {{conversation_yid}} to your Contacts","str_conv_btn_block":"Block","str_conv_btn_block_all":"Block All","str_conv_btn_block_user":"Block User","str_conv_btn_block_user_attr":"Add to Blocked List","str_conv_btn_call_another_number":"Call Another Number","str_conv_btn_call_another_number_attr":"Call Another Number","str_conv_btn_call_back":"Call Back","str_conv_btn_call_back_attr":"Call Back","str_conv_btn_close_all":"Close All","str_conv_btn_close_current":"Close Current","str_conv_btn_convert_conv":"Convert Window","str_conv_btn_convert_conv_attr":"Convert Window","str_conv_btn_decline":"Decline","str_conv_btn_decline_add_number":"Cancel","str_conv_btn_decline_attr":"Don't allow {{conversation_yid}} to add me or see when I'm online","str_conv_btn_hide_media_modes":"Hide Conversation Types","str_conv_btn_hide_media_modes_attr":"Hide conversation types","str_conv_btn_hide_recent_conv":"Hide Recent Conversations","str_conv_btn_hide_recent_conv_attr":"Hide recent conversations with {{conversation_user}}","str_conv_btn_hide_tray":"Hide","str_conv_btn_hide_tray_attr":"Hide conversation types","str_conv_btn_open_media_modes_attr":"Switch to another type of conversation","str_conv_btn_open_setup":"Open Setup","str_conv_btn_open_setup_attr":"Open Setup","str_conv_btn_report_all_spam":"Report All as Spam","str_conv_btn_report_all_spam_attr":"Report All as Spam","str_conv_btn_report_spam":"Report as Spam","str_conv_btn_report_spam_attr":"Report this instant message as spam, and add {{conversation_yid}} to your Blocked List","str_conv_btn_show_conv":"Show Conversations","str_conv_btn_show_conv_attr":"Show Conversations","str_conv_btn_show_recent_conv":"Show Recent Conversations","str_conv_btn_show_recent_conv_attr":"Show recent conversations with {{conversation_user}}","str_conv_btn_show_tray":"Show","str_conv_btn_show_tray_attr":"Show conversation types","str_conv_btn_start_call":"Call","str_conv_btn_start_call_attr":"Call","str_conv_btn_start_conversation":"Start Conversation","str_conv_btn_start_conversation_attr":"Start Conversation","str_conv_btn_try_again":"Try Again","str_conv_btn_unblock":"Unblock","str_conv_btn_unblock_all":"Unblock All","str_conv_btn_unblock_user":"Unblock User","str_conv_btn_unblock_user_attr":"Remove {{conversation_yid}} from your Blocked List","str_conv_btn_view_conv_options_attr":"Options","str_conv_cannot_start_video":"Video call cannot be started.","str_conv_close":"Close all conversations and window","str_conv_close_all":"Close All Conversations?","str_conv_close_always":"Always close all conversations","str_conv_close_confirm":"You have unread messages, are you sure you want to close the window?","str_conv_connection_error":"There was a connection error.","str_conv_conv_being_archived":"Conversations are currently being archived.","str_conv_conv_header_user_attr":"{{conversation_user}} ({{conversation_yid}}) \u2022 {{availability}}","str_conv_conv_header_userimage_attr":"Access Stealth Settings and info for {{conversation_user}}, as well as the ability to report abuse","str_conv_conversation_dateformat_no_trans":"%b %d %l:%M %p","str_conv_conversations":"Conversations","str_conv_current_balance":"Current Balance: <b>{{current_balance}}<\/b>","str_conv_decline_add_number_attr":"Cancel","str_conv_declined_add_req":"<strong>{{conversation_user}}<\/strong> has been declined and will not be added to your Mesenger list.","str_conv_default_group":"Friends","str_conv_dialog_alert":"Alert","str_conv_dialog_confirm":"Confirm","str_conv_emoticon_attr":"Insert emoticons","str_conv_enter_phone_number_label":"Enter a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_enter_phone_number_label_no_user":"a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_error_empty_general":"All fields are required.","str_conv_example":"Example:","str_conv_file_transfer_attr":"Send a file to {{conversation user}}","str_conv_file_transfer_sending_mult":"Sending {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sending_one":"Sending 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_mult":"You have sent {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_one":"You have sent 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_waiting_mult":"Waiting for <b>{{conversation_user}}<\/b> to accept {{file_transfer_num_files}} files","str_conv_file_transfer_waiting_one":"Waiting for <b>{{conversation_user}}<\/b> to accept 1 file","str_conv_format_attr":"Change fonts and colors","str_conv_format_fonts_attr":"Change fonts","str_conv_im_hint":"Type contact information...","str_conv_imconv_new_hint":"Start a new instant message.<br>Enter a Messenger ID or an email address.","str_conv_input_label":"Type your message here","str_conv_label_roadblock":"Don\u2019t show me this again.","str_conv_look_for":"Look for...","str_conv_maximize":"Maximize window","str_conv_message":"Message","str_conv_minimize":"Minimize window","str_conv_mode-tray_btn_group_chat":"Group chat","str_conv_mode-tray_btn_group_chat_attr":"Switch to group conversation","str_conv_mode-tray_btn_im":"Switch to Instant Message","str_conv_mode-tray_btn_im_attr":"Switch to instant message","str_conv_mode-tray_btn_im_only_attr":"Instant Message","str_conv_mode-tray_btn_mail":"Switch to Email","str_conv_mode-tray_btn_mail_attr":"Switch to email","str_conv_mode-tray_btn_phone":"Start Phone Call","str_conv_mode-tray_btn_phone_attr":"Switch to phone call","str_conv_mode-tray_btn_photosharing":"Start Photosharing","str_conv_mode-tray_btn_photosharing_attr":"Invite {{conversation_user}} to share photos","str_conv_mode-tray_btn_sms":"Switch to SMS","str_conv_mode-tray_btn_sms_attr":"Switch to SMS","str_conv_mode-tray_btn_vce":"Start Voice Call","str_conv_mode-tray_btn_vce_attr":"Switch to voice call","str_conv_mode-tray_btn_vid":"Start Video Call","str_conv_mode-tray_btn_vid_attr":"Switch to video call","str_conv_new_conversation_hint":"Type a contact\u2019s information to start a new conversation.","str_conv_new_hint":"Start a new instant message or SMS message.<br>Enter a Messenger ID, email, or mobile number.","str_conv_new_message_browser_title":"{{conversation_user}} sent you a new message.","str_conv_no_contact_add_request":"<b>{{conversation_yid}}<\/b> would like to add you to his or her {{str_cfg_branding_messenger}} List.","str_conv_no_video_support":"<b>{{conversation_user}}<\/b> is not using a version of {{str_cfg_branding_messenger}} that supports video call.","str_conv_non_users_blocked":"<em>You are currently blocking messages from users who are not in your contact list.  To communicate with this user you will need to either add them to your contacts or change your privacy settings.<\/em>","str_conv_ntf_spam_reported":"<em>This message from <span><strong>{{userid}}<\/strong><\/span> has been reported as spam.<\/em>  They were also added to your Block List.  Unblock this person if you want to contact them.","str_conv_ntf_user_blocked":"<em>You have blocked <span><strong>{{userid}}<\/strong><\/span>.<\/em> You cannot send and receive instant messages from blocked users.","str_conv_ntf_user_unblocked":"<em><span><strong>{{userid}}<\/strong><\/span> has been removed from your Blocked List.<\/em>","str_conv_photo_share_accepted":"<b>{{conversation_user}}<\/b> has accepted your invitation to start photo sharing.","str_conv_photo_share_invite":"You have invited <b>{{conversation_user}}<\/b> to start photo sharing.","str_conv_photo_share_wait_revoke":"You can wait for a response or revoke the invitation.","str_conv_photo_sharing_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support photo sharing.","str_conv_pop_in":"Anchor window to bottom of window","str_conv_pop_out":"Make window moveable","str_conv_prompt_tab":"View {{str_cfg_branding_messenger}} Conversations in a tab!","str_conv_prompt_tab_btn":"Change to Tab","str_conv_prompt_tab_btn_attr":"Change to display your conversations in a tab by default.","str_conv_receive_messages":"They will receive your instant message after signing in.","str_conv_report_abuse":"Report Abuse","str_conv_report_abuse_attr":"Report Abuse","str_conv_report_abuse_description":"Report this user for threats, harassment, harm to minors, or indecent content.  The transcript of your conversation with this person will be included in your report.","str_conv_report_abuse_radio":"Report Threats or Harassment","str_conv_report_abuse_title":"{{str_cfg_branding_messenger}} Report Abuse","str_conv_report_spam_description":"Stop receiving messages with bad links, phishing attempts, or any unwanted communication.","str_conv_report_spam_radio":"Report Spam","str_conv_revoke":"Revoke","str_conv_revoke_attr":"Revoke","str_conv_search_conversations":"Search Conversations","str_conv_self_objective":"Me","str_conv_send":"Send","str_conv_send_email":"Send Email","str_conv_send_email_attr":"Send an email instead","str_conv_send_sms":"Send SMS","str_conv_send_sms_attr":"Send an SMS to mobile phone instead","str_conv_settings":"Full menus for conversation window","str_conv_signed_out_hint":"You are not signed in to {{str_cfg_branding_messenger}}. Please sign in to start a new conversation.","str_conv_sms":"SMS","str_conv_sms_attachment_error":"Your message has attachments which cannot be included in an SMS","str_conv_sms_fees":"Wireless carrier charges may apply.","str_conv_sms_hint":"Type contact information or mobile number...","str_conv_sms_input_title":"Compose SMS","str_conv_sms_number_example":"e.g. {{example_number}}","str_conv_smsconv_new_hint":"Start a new SMS message.<br>Enter a name or mobile number.","str_conv_spam_reported_description_bl":"To permanently block this contact from sending you messages, add {{user}} to your Block list in {{str_cfg_generic_messenger}} Options.","str_conv_spam_reported_description_bnc":"To permanently block this contact from sending you messages, delete {{user}} from your Contacts list. Right click on display image, then choose Delete.","str_conv_spam_reported_description_bottom":"<strong>{{userid}}<\/strong> has also been blocked, and you will no longer receive messages from this user.","str_conv_spam_reported_description_top":"Thank you. Every IM you report as spam helps SpamGuard work better.","str_conv_spam_reported_title":"Spam Report Submitted","str_conv_start":"Start","str_conv_tab_close_confirm":"You have unread messages, are you sure you want to close this conversation?","str_conv_title_bar_im":"Instant Message","str_conv_title_bar_new_email":"New Email Message","str_conv_title_bar_new_im":"Start Instant Message","str_conv_title_bar_new_phone":"Start Phone Call","str_conv_title_bar_new_sms":"Start SMS","str_conv_title_bar_new_video":"Start Video Call","str_conv_title_bar_new_voice":"Start Voice Call","str_conv_title_bar_phone_call":"Phone Call","str_conv_title_bar_photo_share":"Photo Sharing","str_conv_title_bar_sms":"SMS","str_conv_title_bar_started":"{{str_branding_messenger}}","str_conv_title_bar_video_call":"Video Call","str_conv_title_bar_voice_call":"Voice Call","str_conv_title_conversation_history":"Conversation History","str_conv_typing":"{{conversation_user}} is typing...","str_conv_user_appears_offline":"<b>{{user}}<\/b> appears to be offline.","str_conv_user_invisible":"You currently appear offline to {{conversation_user}} (manage with Stealth Settings)","str_conv_user_notification_ssa":"Instant messages are currently being saved in the Conversation History.","str_conv_user_notification_ssa_button":"Open {{str_cfg_branding_messenger}} Options","str_conv_user_offline":"<b>{{conversation_yid}}<\/b> is currently offline.","str_conv_user_offlineMessage_notice":"Messages sent to you while you were signed out:","str_conv_user_signed_back_in":"<b>{{conversation_user}}<\/b> has signed back in.","str_conv_user_signed_out":"<b>{{conversation_user}}<\/b> has signed out.","str_conv_user_sms_edit_number":"Edit number","str_conv_user_sms_edit_number_attr":"Edit number","str_conv_user_sms_learn_more_btn":"Learn more","str_conv_user_sms_learn_more_btn_attr":"Learn more","str_conv_user_sms_notice":"<b>{{conversation_user}}<\/b> ({{msg_sms_number}}) will receive your instant message as an SMS.","str_conv_user_sms_notice_error_failed_to_deliver":"SMS could not be sent to <b>{{number}}<\/b>. It may be an invalid mobile number, formatted incorrectly, or no longer in service.","str_conv_user_sms_notice_error_msg_blocked":"Phone number {{number}} cannot receive SMS messages at this time.","str_conv_user_sms_notice_error_number_empty":"An empty number is not supported.","str_conv_user_sms_notice_error_number_not_supported":"The number <b>{{number}}<\/b> is not supported.","str_conv_user_sms_notice_error_ration_breached":"<b>{{user}}<\/b> must reply to one of your messages before you can send any more.","str_conv_user_sms_notice_error_system_busy":"SMS could not be sent to {{number}}. The system is currently busy. Please try again later.","str_conv_user_statexfer_notice":"Your ongoing conversation with {{conversation_user}}...","str_conv_video":"VIDEO","str_conv_video_call_camera_error":"<b>{{conversation_user}}<\/b> may not have a camera or it may not be working properly.","str_conv_video_call_end":"Video call ended: {{conversation_end}}","str_conv_video_call_fail":"The video call cannot be completed.","str_conv_video_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a video call.","str_conv_video_call_invite_declined":"You have declined the video call invitation.","str_conv_video_call_mic_input":"Your microphone may not be working.","str_conv_video_call_no_signal":"We are not receiving a video signal.","str_conv_video_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support video calls.","str_conv_voice":"VOICE","str_conv_voice_call_end":"Voice Call ended: {{conversation_end}}","str_conv_voice_call_hold":"You put <b>{{conversation_user}}<\/b> on hold.","str_conv_voice_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a voice call.","str_conv_voice_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support voice calls.","str_conv_wrn_interop_add_request_pending":"To IM with {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts. Your request is still pending.","str_conv_wrn_interop_add_request_pending_2":"Send {{user}} an SMS instead.","str_conv_wrn_unknown_interop_user":"To send IM to {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts.","str_conv_wrn_unknown_interop_user_2":"To contact {{user}} right now, send an SMS.","str_conv_wrn_unknown_user":"<em><span><strong>{{userid}}<\/strong><\/span> is not in your contacts.<\/em>  Be careful when corresponding with people you don\u2019t know. Never share private information with them.","str_warning_msg_read_form_part1":"Warning! You are about to send information to someone other than {{str_branding}}. If you do not want anyone outside of {{str_branding}} to have this information, click \"Cancel\" now.","str_warning_msg_read_form_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_warning_msg_read_link_part1":"Warning! It appears that you are about to access a website that has non-standard web address format.","str_warning_msg_read_link_part2":"Such sites may contain harmful entities such as viruses.","str_warning_msg_read_link_part3":"We recommend you use extreme caution.","str_warning_msg_read_password_part1":"Warning! You are about to enter a password in a form that will not be sent to {{str_branding}}!.","str_warning_msg_read_password_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_mailopt_fontvalue_1":"arial, helvetica, sans-serif","str_mailopt_fontvalue_2":"bookman old style, new york, times, serif","str_mailopt_fontvalue_3":"Courier New, monaco, monospace, sans-serif","str_mailopt_fontvalue_4":"garamond, new york, times, serif","str_mailopt_fontvalue_5":"lucida console, sans-serif","str_mailopt_fontvalue_6":"symbol","str_mailopt_fontvalue_7":"tahoma, new york, times, serif","str_mailopt_fontvalue_8":"times new roman, new york, times, serif","str_mailopt_fontvalue_9":"verdana, helvetica, sans-serif","str_nav_left_folders":"Folders","str_nav_folder_addfolder_attr":"Add a new folder [{{str_ctrl_shift}}+E]","str_nav_left_addfolder":"Add folder","str_nav_folder_unread_cnt":"{{unread_cnt}} unread emails","str_galaxy_friends_invited":"Added","str_galaxy_friends_inviteFailed":"Invite friends failed","str_galaxy_friends_added":"Confirmed!","str_galaxy_friends_acceptInviteFailed":"Confirm failed","str_galaxy_vitality_shortTimeAgo":"a short time ago","str_galaxy_profile_status_addAppError":"It seems that you have already linked your account or this service is temporarily unavailable.","str_galaxy_status_loading":"Loading...","str_galaxy_ycw_inviting":"Inviting...","str_galaxy_ycw_invitationSucess":"Invited!","str_galaxy_ycw_invitationFailure":"Failed to send out invitation, please try again later.","str_base_lang":"en-us"};
Neo.mix(strings, {"str_cfg_base_intl":"us","str_cfg_beacon_cg_upsel_no":"2145321914","str_cfg_beacon_def_mig_no":"2145321919","str_cfg_captcha_maxlength":"10","str_cfg_fr_code":"ush-mailn","str_cfg_intl":"us","str_cfg_overview_page_url_trap":"http:\/\/overview.mail.yahoo.com","str_cfg_partner":"yahoo","str_cfg_regex_yahoo_link":"","str_cfg_tog_MP_upsell":true,"str_cfg_tog_aboutOurAdsEnabled":true,"str_cfg_tog_accnt_user_color":false,"str_cfg_tog_ad_positions_disable":"null","str_cfg_tog_ads_mip4_nonsocial_show_l10n":true,"str_cfg_tog_ads_mip4_show_l10n":true,"str_cfg_tog_ads_mip5_show_l10n":true,"str_cfg_tog_ads_mip6_show_l10n":true,"str_cfg_tog_always_show_sky":false,"str_cfg_tog_birthday_eCard_url_toggle_l10n":true,"str_cfg_tog_button_context":false,"str_cfg_tog_calendarEnabled":true,"str_cfg_tog_certified_icon":true,"str_cfg_tog_check_active_compose":false,"str_cfg_tog_composeSMSEnabled":true,"str_cfg_tog_compose_enable_nickname":false,"str_cfg_tog_config_enable_statusomatique_l10n":true,"str_cfg_tog_config_useAdServedNews_l10n":false,"str_cfg_tog_contact_field":"name,email,nickname,yahooid,phone,otherid,guid","str_cfg_tog_contact_sortfields":"first","str_cfg_tog_cue_import_contact":true,"str_cfg_tog_cue_mail_on_mobile":true,"str_cfg_tog_cue_pulse_profile_page":true,"str_cfg_tog_disableBuddyAdd":false,"str_cfg_tog_disableCopyrightLink":false,"str_cfg_tog_disable_livewords":false,"str_cfg_tog_dm_source_tag":"yahoo_mail_mailbox_search","str_cfg_tog_edit_draft_from_search":false,"str_cfg_tog_empty_folders":false,"str_cfg_tog_enableFacebook":true,"str_cfg_tog_enableMultilang":true,"str_cfg_tog_enableTwitter":true,"str_cfg_tog_enableUh2":true,"str_cfg_tog_enable_updates":true,"str_cfg_tog_exlink_alert_page":false,"str_cfg_tog_expandPersonalFolders":false,"str_cfg_tog_ext_accnt_expand":false,"str_cfg_tog_faviconName":"favicon-yhoo.ico","str_cfg_tog_faviconName_HD":"favicon-yhoo-hd.ico","str_cfg_tog_featureCue_endDate_l10n":"04\/22\/2010","str_cfg_tog_featureCue_startDate_l10n":"03\/19\/2010","str_cfg_tog_flag_spam_on_move":false,"str_cfg_tog_full_ssl":true,"str_cfg_tog_hasGoMobileLink":true,"str_cfg_tog_hasIM":true,"str_cfg_tog_hasSMS":true,"str_cfg_tog_hasUnlimitedStorage":true,"str_cfg_tog_help_community":true,"str_cfg_tog_hide_RECAd":true,"str_cfg_tog_hide_tocc_info":false,"str_cfg_tog_hkr_siu":false,"str_cfg_tog_hydra":true,"str_cfg_tog_hydraOverrideEnabled":false,"str_cfg_tog_hydra_attachments_state":"1","str_cfg_tog_hydra_birthday":true,"str_cfg_tog_hydra_birthday_state":"1","str_cfg_tog_hydra_calendar":true,"str_cfg_tog_hydra_calendar_state":"1","str_cfg_tog_hydra_cue":true,"str_cfg_tog_hydra_cue_state":"1","str_cfg_tog_hydra_deals":true,"str_cfg_tog_hydra_facebook":true,"str_cfg_tog_hydra_facebook_state":"1","str_cfg_tog_hydra_flagged":true,"str_cfg_tog_hydra_flagged_state":"1","str_cfg_tog_hydra_flickr":true,"str_cfg_tog_hydra_flickr_state":"1","str_cfg_tog_hydra_groups":true,"str_cfg_tog_hydra_groups_state":"1","str_cfg_tog_hydra_local_news":true,"str_cfg_tog_hydra_local_news_state":"1","str_cfg_tog_hydra_lrec":true,"str_cfg_tog_hydra_news":true,"str_cfg_tog_hydra_news_state":"1","str_cfg_tog_hydra_omg":true,"str_cfg_tog_hydra_omg_state":"1","str_cfg_tog_hydra_photos":true,"str_cfg_tog_hydra_photos_state":"1","str_cfg_tog_hydra_rss_slot1_state":"1","str_cfg_tog_hydra_rss_slot2_state":"1","str_cfg_tog_hydra_rss_slot3_state":"1","str_cfg_tog_hydra_ruefc":true,"str_cfg_tog_hydra_ruefc_state":"1","str_cfg_tog_hydra_sports":true,"str_cfg_tog_hydra_sports_state":"1","str_cfg_tog_hydra_storage_meter":false,"str_cfg_tog_hydra_storage_meter_state":"","str_cfg_tog_hydra_today":true,"str_cfg_tog_hydra_today1_state":"1","str_cfg_tog_hydra_today2_state":"1","str_cfg_tog_hydra_today_state":"1","str_cfg_tog_hydra_weather":true,"str_cfg_tog_hydra_weather_state":"1","str_cfg_tog_hydra_world":true,"str_cfg_tog_hydra_world_state":"1","str_cfg_tog_insert_signature_bottom":false,"str_cfg_tog_mailBlogEnabled":true,"str_cfg_tog_mailSearchEnabled":true,"str_cfg_tog_mailUpgradeEnabled":true,"str_cfg_tog_monster_ad_empty_l10n":true,"str_cfg_tog_monster_ad_send_l10n":true,"str_cfg_tog_msgListColorIndic":false,"str_cfg_tog_newsModuleEnabled":true,"str_cfg_tog_news_body_enabled_l10n":true,"str_cfg_tog_news_header_enabled_l10n":true,"str_cfg_tog_notepadEnabled":true,"str_cfg_tog_old_imageblock":false,"str_cfg_tog_open_by_dblclick":false,"str_cfg_tog_optout_return_to_original":false,"str_cfg_tog_preserve_msglist_scroll":false,"str_cfg_tog_rec_pos_on_empty_folder":false,"str_cfg_tog_renderExternalAccounts":false,"str_cfg_tog_replace_sender_icon":false,"str_cfg_tog_search_expand_date":false,"str_cfg_tog_sendconfirm_keep_draft":false,"str_cfg_tog_set_spam_read_flag":true,"str_cfg_tog_showMobilizer":true,"str_cfg_tog_showMyYahooMenu":true,"str_cfg_tog_showStationaryEnabled":true,"str_cfg_tog_showThemeOption":true,"str_cfg_tog_showTos":true,"str_cfg_tog_showUsageMeter":false,"str_cfg_tog_show_contact_name":false,"str_cfg_tog_show_dk":false,"str_cfg_tog_show_mp_in_product_link":true,"str_cfg_tog_show_search_desc":false,"str_cfg_tog_simple_add_contact_dialog":false,"str_cfg_tog_sky_pos_fixed":true,"str_cfg_tog_snippet_highlight":true,"str_cfg_tog_themeOverrideEnabled":false,"str_cfg_tog_theme_cancel":false,"str_cfg_tog_timed_alert_dialog":false,"str_cfg_tog_toolbarTrapPageEnabled":true,"str_cfg_tog_trendingNowEnabled":true,"str_cfg_tog_trendingNowEnabledUH":true,"str_cfg_tog_uhShowReturnToOriginal":false,"str_cfg_tog_ulm_locale_l10n":"en-US","str_cfg_tog_unescape_ncr":false,"str_cfg_tog_use_accountbased_signature ":false,"str_cfg_tog_use_ctc_details_link":false,"str_cfg_tog_use_default_fromname":true,"str_cfg_tog_use_reedit":false,"str_cfg_tog_use_roundtrip":true,"str_cfg_tog_weather_default_temp_units_l10n":"F","str_cfg_tog_weather_detailedForecast_toggle_l10n":true,"str_cfg_tog_weather_weatherURL_toggle_l10n":true,"str_cfg_tog_ybox_enabled":false,"str_cfg_tog_ycw_turn_on_fb":true,"str_cfg_tog_ycw_turn_on_tw":true,"str_cfg_url_TAEHelpPages":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/taes\/","str_cfg_url_abhost":"address.mail.yahoo.com","str_cfg_url_abhost_api":"api.address.yahoo.com","str_cfg_url_about_our_ads":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/relevantads.html","str_cfg_url_account":"http:\/\/edit.yahoo.com\/config\/eval_profile?.done=http:\/\/mail.yahoo.com\/","str_cfg_url_ad_opt_out":"http:\/\/info.yahoo.com\/privacy\/us\/yahoo\/opt_out\/targeting\/details.html","str_cfg_url_address":"http:\/\/address.mail.yahoo.com","str_cfg_url_antispam":"","str_cfg_url_arc_help":"http:\/\/arc.help.yahoo.com\/arc\/","str_cfg_url_attbrowseatoz":"http:\/\/elportal.att.net\/s\/s.dll?ep=10111&ch=wd&_lid=135&_lnm=home.channelNav.att.webdirectory","str_cfg_url_attcom":"http:\/\/att.com\/","str_cfg_url_attmyaccount":"http:\/\/att.yahoo.com\/myaccount","str_cfg_url_attnet":"http:\/\/elportal.att.net\/","str_cfg_url_attspanish":"http:\/\/www.att.net ","str_cfg_url_attsupport":"http:\/\/www.att.com\/esupport\/","str_cfg_url_birthday_eCard_url":"http:\/\/www.yahoo.americangreetings.com\/ecards\/yahoomail.pd?source=yahoo209","str_cfg_url_bizmail":"http:\/\/smallbusiness.yahoo.com","str_cfg_url_bk_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/context\/migrationv2.html","str_cfg_url_calendar":"http:\/\/calendar.mail.yahoo.com","str_cfg_url_captcha":"http:\/\/www.captcha.net","str_cfg_url_captcha_need_help_URL":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/context\/context-14.html","str_cfg_url_clear_cache_cookie":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/yahoo\/mail\/ymail\/settings\/settings-15.html","str_cfg_url_communications_terms_of_service":"http:\/\/info.yahoo.com\/legal\/us\/yahoo\/mail\/atos.html","str_cfg_url_contact_customer_care":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/abuse\/mltatempblock.html","str_cfg_url_contacts":"http:\/\/pulse.yahoo.com\/y\/connections","str_cfg_url_copyright":"http:\/\/info.yahoo.com\/copyright\/{{str_cfg_base_intl}}\/details.html","str_cfg_url_darla_third_party_beacon_uri_l10n":"","str_cfg_url_disclosure_link1_url_l10n":"http:\/\/profiles.yahoo.com","str_cfg_url_dm_static_content_mail_search_tip":"http:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos#d_11","str_cfg_url_download_firefox":"http:\/\/www.mozilla.org\/en-US\/firefox\/fx\/","str_cfg_url_download_internetexplorer":"http:\/\/downloads.yahoo.com\/internetexplorer\/","str_cfg_url_download_safari":"http:\/\/www.apple.com\/safari\/","str_cfg_url_emptymfmc_learn_url":"http:\/\/overview.mail.yahoo.com\/connectmore","str_cfg_url_exlink_alert_page":"","str_cfg_url_featureCue_contactImport_URL":"http:\/\/address.yahoo.com\/?VPC=contact_import_landing","str_cfg_url_featureCue_learnMoreLink":"http:\/\/features.mail.yahoo.com\/howitworks","str_cfg_url_feedback":"http:\/\/feedback.help.yahoo.com\/feedback.php?.src=YAHOOMAIL&.done=http:\/\/mail.yahoo.com","str_cfg_url_feedback_link_mongo_l10n":"http:\/\/feedback.mail.yahoo.com\/feedback_mail.php?idf=gx","str_cfg_url_finance":"http:\/\/finance.yahoo.com","str_cfg_url_footer_guideline":"","str_cfg_url_geo_image":"\/geo\/","str_cfg_url_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/","str_cfg_url_help_community":"http:\/\/help.yahoo.com\/communities\/index?page=forums&y=PROD_MAIL","str_cfg_url_help_connections":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/connections\/upcomcon-01.html","str_cfg_url_help_features":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/migrating\/","str_cfg_url_help_tutorials":"http:\/\/help.yahoo.com\/tutorials\/cg\/mail\/cg_receive2.html","str_cfg_url_hydra_entertainment_empty":"http:\/\/{{optional_intl}}news.yahoo.com","str_cfg_url_hydra_flickr_empty":"http:\/\/www.flickr.com","str_cfg_url_hydra_local_news_empty":"http:\/\/{{optional_intl}}news.yahoo.com\/local\/","str_cfg_url_hydra_rss1_feed":"http:\/\/news.yahoo.com\/rss\/entertainment","str_cfg_url_hydra_rss2_feed":"http:\/\/news.yahoo.com\/rss\/world","str_cfg_url_hydra_rss3_feed":"http:\/\/l.yimg.com\/j\/top\/rss.xml","str_cfg_url_hydra_rss_slot1_empty":"http:\/\/us.mobile.yahoo.com\/yahoo","str_cfg_url_hydra_sports_empty":"http:\/\/{{optional_intl}}sports.yahoo.com","str_cfg_url_hydra_today1_empty":"http:\/\/{{optional_intl}}yahoo.com","str_cfg_url_hydra_today2_empty":"http:\/\/{{optional_intl}}yahoo.com","str_cfg_url_hydra_today_empty":"http:\/\/{{optional_intl}}yahoo.com","str_cfg_url_hydra_topstories_empty":"http:\/\/{{optional_intl}}news.yahoo.com","str_cfg_url_hydra_world_empty":"http:\/\/{{optional_intl}}news.yahoo.com","str_cfg_url_import_contacts_help":"\t\n \nhttp:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos#d_3","str_cfg_url_mail":"http:\/\/mail.yahoo.com","str_cfg_url_mail_bg_img_trap":"http:\/\/mail.yimg.com\/nq\/ued\/assets\/img\/trap\/mail-bg-v2.jpg","str_cfg_url_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/","str_cfg_url_mail_terms":"https:\/\/account.nokia.com\/acct\/public\/serviceSpecificTerms?serviceId=Ovimail&tlang=en&country=US","str_cfg_url_mail_yahoo":"mail.yahoo.com","str_cfg_url_mailplus":"http:\/\/overview.mail.yahoo.com\/enhancements\/mailplus","str_cfg_url_maps":"http:\/\/maps.ovi.com\/","str_cfg_url_messenger":"http:\/\/messenger.yahoo.com","str_cfg_url_messenger_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/chat\/","str_cfg_url_migration_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/migration\/mltamunsup.html","str_cfg_url_mininux_tosUrl":"http:\/\/info.yahoo.com\/legal\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/utos\/utos-173.html","str_cfg_url_mobilizer":"http:\/\/{{str_cfg_base_intl}}.mobile.yahoo.com\/yahoo","str_cfg_url_mts_customer_care":"http:\/\/www.selfcare.mtsindia.in\/","str_cfg_url_mts_games_ondemand":"http:\/\/games.mtsindia.in\/","str_cfg_url_mts_tv":"http:\/\/www.mtsindia.in\/mblaze\/mtstv.html","str_cfg_url_mts_web_chat":"http:\/\/chat.mtsindia.in\/MTSINDIAChat\/MTSINDIA-Chat.htm","str_cfg_url_mts_yahoo":"http:\/\/in.my.yahoo.com\/mtsindia","str_cfg_url_music":"http:\/\/musicstore.nokia.com\/","str_cfg_url_myyahoo":"http:\/\/my.yahoo.com","str_cfg_url_new_features":"http:\/\/{{str_cfg_base_intl}}.overview.mail.yahoo.com\/howtos","str_cfg_url_news":"http:\/\/news.yahoo.com","str_cfg_url_news_mailblogURL_l10n":"http:\/\/www.ymailblog.com\/blog\/feed\/","str_cfg_url_norton_security":"http:\/\/buy.norton.com\/estore\/mf\/landingProductFeatures","str_cfg_url_notepad":"http:\/\/notepad.mail.yahoo.com","str_cfg_url_notifications_connect_url_l10n":"http:\/\/overview.mail.yahoo.com\/connectmore\/updates","str_cfg_url_notifications_connections_cg_url_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/connections\/mltamssgcontct.html","str_cfg_url_notifications_connections_mg_url_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/classic\/connections\/mltamssgcontct.html","str_cfg_url_openmail":"http:\/\/overview.mail.yahoo.com\/whatsinside","str_cfg_url_options_learn_more":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/yahoomail\/manage\/manage-69.html","str_cfg_url_overview":"http:\/\/overview.mail.yahoo.com","str_cfg_url_ovi":"http:\/\/www.nokia.com\/","str_cfg_url_ovi_terms":"https:\/\/account.nokia.com\/acct\/public\/termsAndConditions?tlang=en&country=US","str_cfg_url_privacy_beta_faq":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymailfaq\/details.html","str_cfg_url_privacy_policy":"http:\/\/info.yahoo.com\/privacy\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/details.html","str_cfg_url_privacy_policy_trap":"http:\/\/info.yahoo.com\/privacy\/us\/yahoo\/mail\/beta\/details.html","str_cfg_url_profiles":"http:\/\/pulse.yahoo.com\/","str_cfg_url_replace_sender_icon":"","str_cfg_url_search":"http:\/\/{{str_cfg_base_intl}}.search.yahoo.com\/search","str_cfg_url_sendfeedback":"http:\/\/feedback.help.yahoo.com\/feedback.php?.src=YAHOOMAIL&.done=http:\/\/mail.yahoo.com","str_cfg_url_shortcuts_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/basics\/basics-65.html","str_cfg_url_signout":"http:\/\/login.yahoo.com\/config\/login?logout=1&.src=cdgm&.intl=us&.direct=2&.done=http:\/\/www.yahoo.com&.last=http:\/\/mail.yahoo.com","str_cfg_url_sort_email_help":"http:\/\/help.yahoo.com\/kb\/index?page=content&y=PROD_MAIL_ML&locale={{tog_ulm_locale_l10n}}&id=SLN3535&impressions=true","str_cfg_url_sports":"http:\/\/sports.yahoo.com","str_cfg_url_store":"http:\/\/store.ovi.com\/","str_cfg_url_sync_contacts_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/newcontacts\/sync\/","str_cfg_url_tos":"http:\/\/info.yahoo.com\/legal\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/atos.html","str_cfg_url_tos_reject_redirect":"","str_cfg_url_ulm_helpurl_l10n":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/help\/ulm\/","str_cfg_url_updates_closing":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/context\/mltaycweol.html","str_cfg_url_upsell":"http:\/\/overview.mail.yahoo.com\/enhancements\/mailplus","str_cfg_url_vitality_flickr_learnMore_url_l10n":"http:\/\/www.flickr.com\/help\/sharing\/#737966","str_cfg_url_weather_weatherURL_l10n":"http:\/\/www.weather.com","str_cfg_url_wn_attachments_empty_action":"http:\/\/help.yahoo.com\/kb\/index?page=content&y=PROD_MAIL_ML&locale=en_US&id=SLN5933","str_cfg_url_wn_facebook_empty_action":"http:\/\/us.mobile.yahoo.com\/yahoo","str_cfg_url_wn_flagged_empty_action":"http:\/\/help.yahoo.com\/kb\/index?page=content&y=PROD_MAIL_ML&locale=en_US&id=SLN3535&impressions=true","str_cfg_url_wn_groups_empty_action":"http:\/\/us.mobile.yahoo.com\/yahoo","str_cfg_url_wn_ruefc_empty_action":"http:\/\/us.overview.mail.yahoo.com\/howtos#d_3","str_cfg_url_wn_today1_empty_action":"http:\/\/news.yahoo.com","str_cfg_url_wn_today_empty_action":"http:\/\/news.yahoo.com","str_cfg_url_wnux_learn_more":"http:\/\/help.yahoo.com\/kb\/index?page=content&id=SLN5651&locale=en_US","str_cfg_url_yahoo":"http:\/\/www.yahoo.com","str_cfg_url_yahoo_base":"yahoo.com","str_cfg_url_yahoo_login":"https:\/\/login.yahoo.com\/","str_cfg_url_yahoo_mail_help":"http:\/\/help.yahoo.com\/l\/{{str_cfg_base_intl}}\/{{str_cfg_partner}}\/mail\/ymail\/","str_cfg_url_yahoo_mail_help_tae45":"http:\/\/help.yahoo.com\/kb\/index?page=content&id=SLN6628&locale=en_US","str_cfg_url_yahoo_relogin":"https:\/\/login.yahoo.com\/config\/login_verify2?.intl={{str_cfg_base_intl}}&.src=cdgm&.done=","str_cfg_url_yahoo_url":"yahoo.com","str_cfg_url_ymail_blog":"http:\/\/ymailupdates.com\/blog","str_cfg_url_ymail_logo_img_trap":"http:\/\/mail.yimg.com\/ok\/u\/assets\/theme\/brand\/logo-ymail-wh.gif","str_cfg_yahoo_mail_url_trap":"http:\/\/mail.yahoo.com"});
